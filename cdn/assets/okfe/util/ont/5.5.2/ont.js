(()=>{var e={144:(e,t,r)=>{"use strict";var n=r(212).default,o=r(296).FilterCSS,i=r(296).getDefaultWhiteList,a=r(429);function c(){return n(n({a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"],picture:["class"]},"figure",["class"]),"button",["type","class"])}var u=new o;function s(e){return e.replace(l,"&lt;").replace(f,"&gt;")}var l=/</g,f=/>/g,p=/"/g,d=/&quot;/g,v=/&#([a-zA-Z0-9]*);?/gim,g=/&colon;?/gim,h=/&newline;?/gim,y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,b=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,m=/u\s*r\s*l\s*\(.*/gi;function w(e){return e.replace(p,"&quot;")}function x(e){return e.replace(d,'"')}function k(e){return e.replace(v,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _(e){return e.replace(g,":").replace(h," ")}function S(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return a.trim(t)}function I(e){return e=S(e=_(e=k(e=x(e))))}function A(e){return e=s(e=w(e))}t.whiteList=c(),t.getDefaultWhiteList=c,t.onTag=function(e,t,r){},t.onIgnoreTag=function(e,t,r){},t.onTagAttr=function(e,t,r){},t.onIgnoreTagAttr=function(e,t,r){},t.safeAttrValue=function(e,t,r,n){if(r=I(r),"href"===t||"src"===t){if("#"===(r=a.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(y.lastIndex=0,y.test(r))return""}else if("style"===t){if(b.lastIndex=0,b.test(r))return"";if(m.lastIndex=0,m.test(r)&&(y.lastIndex=0,y.test(r)))return"";!1!==n&&(r=(n=n||u).process(r))}return r=A(r)},t.escapeHtml=s,t.escapeQuote=w,t.unescapeQuote=x,t.escapeHtmlEntities=k,t.escapeDangerHtml5Entities=_,t.clearNonPrintableCharacter=S,t.friendlyAttrValue=I,t.escapeAttrValue=A,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!==typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],o=!1;return{onIgnoreTag:function(i,c,u){if(function(t){return!!r||-1!==a.indexOf(e,t)}(i)){if(u.isClosing){var s="[/removed]",l=u.position+10;return n.push([!1!==o?o:u.position,l]),o=!1,s}return o||(o=u.position),"[removed]"}return t(i,c,u)},remove:function(e){var t="",r=0;return a.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},t.stripCommentTag=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var o=e.indexOf("--\x3e",n);if(-1===o)break;r=o+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.attributeWrapSign='"',t.cssFilter=u,t.getDefaultCSSWhiteList=i},221:(e,t,r)=>{"use strict";var n=r(144),o=r(714),i=r(191);function a(e,t){return new i(t).process(e)}(t=e.exports=a).filterXSS=a,t.FilterXSS=i,function(){for(var e in n)t[e]=n[e];for(var r in o)t[r]=o[r]}(),"undefined"!==typeof window&&(window.filterXSS=e.exports),"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},714:(e,t,r)=>{"use strict";var n=r(429);function o(e){var t,r=n.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=n.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9\\_:.-]/gim;function c(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function u(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}}function s(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function l(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,r){var n="",a=0,c=!1,u=!1,s=0,l=e.length,f="",p="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(!1===c){if("<"===d){c=s;continue}}else if(!1===u){if("<"===d){n+=r(e.slice(a,s)),c=s,a=s;continue}if(">"===d||s===l-1){n+=r(e.slice(a,c)),f=o(p=e.slice(c,s+1)),n+=t(c,n.length,f,p,i(p)),a=s+1,c=!1;continue}if('"'===d||"'"===d)for(var v=1,g=e.charAt(s-v);""===g.trim()||"="===g;){if("="===g){u=d;continue e}g=e.charAt(s-++v)}}else if(d===u){u=!1;continue}}return a<l&&(n+=r(e.substr(a))),n},t.parseAttr=function(e,t){var r=0,o=0,i=[],f=!1,p=e.length;function d(e,r){if(!((e=(e=n.trim(e)).replace(a,"").toLowerCase()).length<1)){var o=t(e,r||"");o&&i.push(o)}}for(var v=0;v<p;v++){var g,h=e.charAt(v);if(!1!==f||"="!==h)if(!1===f||v!==o)if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===f){if(-1===(g=c(e,v))){d(n.trim(e.slice(r,v))),f=!1,r=v+1;continue}v=g-1;continue}if(-1===(g=s(e,v-1))){d(f,l(n.trim(e.slice(r,v)))),f=!1,r=v+1;continue}}else;else{if(-1===(g=e.indexOf(h,v+1)))break;d(f,n.trim(e.slice(o+1,g))),f=!1,r=(v=g)+1}else f=e.slice(r,v),r=v+1,o='"'===e.charAt(r)||"'"===e.charAt(r)?r:u(e,v+1)}return r<e.length&&(!1===f?d(e.slice(r)):d(f,l(n.trim(e.slice(r))))),n.trim(i.join(" "))}},429:e=>{"use strict";e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},191:(e,t,r)=>{"use strict";var n=r(296).FilterCSS,o=r(144),i=r(714),a=i.parseTag,c=i.parseAttr,u=r(429);function s(e){return void 0===e||null===e}function l(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map((function(e){return e.toLowerCase()})):t[r.toLowerCase()]=e[r];return t}(e.whiteList||e.allowList):e.whiteList=o.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":o.attributeWrapSign,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new n(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,r=t.options,n=r.whiteList,i=r.onTag,l=r.onIgnoreTag,f=r.onTagAttr,p=r.onIgnoreTagAttr,d=r.safeAttrValue,v=r.escapeHtml,g=t.attributeWrapSign,h=t.cssFilter;r.stripBlankChar&&(e=o.stripBlankChar(e)),r.allowCommentTag||(e=o.stripCommentTag(e));var y=!1;r.stripIgnoreTagBody&&(y=o.StripTagBody(r.stripIgnoreTagBody,l),l=y.onIgnoreTag);var b=a(e,(function(e,t,r,o,a){var y={sourcePosition:e,position:t,isClosing:a,isWhite:Object.prototype.hasOwnProperty.call(n,r)},b=i(r,o,y);if(!s(b))return b;if(y.isWhite){if(y.isClosing)return"</"+r+">";var m=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=u.trim(e.slice(0,-1))),{html:e,closing:r}}(o),w=n[r],x=c(m.html,(function(e,t){var n=-1!==u.indexOf(w,e),o=f(r,e,t,n);return s(o)?n?(t=d(r,e,t,h))?e+"="+g+t+g:e:s(o=p(r,e,t,n))?void 0:o:o}));return o="<"+r,x&&(o+=" "+x),m.closing&&(o+=" /"),o+=">"}return s(b=l(r,o,y))?v(o):b}),v);return y&&(b=y.remove(b)),b},e.exports=l},415:(e,t,r)=>{var n=r(569),o=r(797);r(426);function i(e){return void 0===e||null===e}function a(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,a=t.onIgnoreAttr,c=t.safeAttrValue;return o(e,(function(e,t,o,u,s){var l=r[o],f=!1;if(!0===l?f=l:"function"===typeof l?f=l(u):l instanceof RegExp&&(f=l.test(u)),!0!==f&&(f=!1),u=c(o,u)){var p,d={position:t,sourcePosition:e,source:s,isWhite:f};return f?i(p=n(o,u,d))?o+":"+u:p:i(p=a(o,u,d))?void 0:p}}))},e.exports=a},569:(e,t)=>{function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var n=/javascript\s*\:/gim;t.whiteList=r(),t.getDefaultWhiteList=r,t.onAttr=function(e,t,r){},t.onIgnoreAttr=function(e,t,r){},t.safeAttrValue=function(e,t){return n.test(t)?"":t}},296:(e,t,r)=>{var n=r(569),o=r(415);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,n)t[i]=n[i];"undefined"!==typeof window&&(window.filterCSS=e.exports)},797:(e,t,r)=>{var n=r(426);e.exports=function(e,t){";"!==(e=n.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,o=!1,i=0,a=0,c="";function u(){if(!o){var r=n.trim(e.slice(i,a)),u=r.indexOf(":");if(-1!==u){var s=n.trim(r.slice(0,u)),l=n.trim(r.slice(u+1));if(s){var f=t(i,c.length,s,l,r);f&&(c+=f+"; ")}}}i=a+1}for(;a<r;a++){var s=e[a];if("/"===s&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===s?o=!0:")"===s?o=!1:";"===s?o||u():"\n"===s&&u()}return n.trim(c)}},426:e=>{e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},790:(e,t,r)=>{"use strict";var n=r(198),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var n,i={},s=null,l=null;for(n in void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,n)&&!u.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:s,ref:l,props:i,_owner:c.current}}},729:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function y(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||v}function b(){}function m(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=m.prototype=new b;w.constructor=m,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var o,i={},a=null,c=null;if(null!=t)for(o in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===i[o]&&(i[o]=u[o]);return{$$typeof:r,type:e,key:a,ref:c,props:i,_owner:_.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,o,i,a){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var u=!1;if(null===e)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0}}if(u)return a=a(u=e),e=""===i?"."+C(u,0):i,x(a)?(o="",null!=e&&(o=e.replace(E,"$&/")+"/"),j(a,t,o,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,i=""===i?".":i+":",x(e))for(var s=0;s<e.length;s++){var l=i+C(c=e[s],s);u+=j(c,t,o,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),s=0;!(c=e.next()).done;)u+=j(c=c.value,t,o,l=i+C(c,s++),a);else if("object"===c)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,r){if(null==e)return e;var n=[],o=0;return j(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},L={transition:null},N={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=m,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,c=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in t)k.call(t,s)&&!S.hasOwnProperty(s)&&(o[s]=void 0===t[s]&&void 0!==u?u[s]:t[s])}var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){u=Array(s);for(var l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:r,type:e.type,key:i,ref:a,props:o,_owner:c}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,r){return T.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,r){return T.current.useReducer(e,t,r)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return T.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},198:(e,t,r)=>{"use strict";e.exports=r(729)},817:(e,t,r)=>{"use strict";r(790)},363:(e,t,r)=>{"use strict";e.exports=r.p+"f220424697ac3c8ba96a.wasm.br"},212:(e,t,r)=>{var n=r(347);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},878:(e,t,r)=>{var n=r(319).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},347:(e,t,r)=>{var n=r(319).default,o=r(878);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},319:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href;var n={};(()=>{"use strict";r.d(n,{default:()=>oo});var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}function i(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(e),r.d(e,{debugTool:()=>cn,getJDD:()=>In,getMaterial:()=>An,getZ2FL:()=>kn,getZ2FN:()=>Sn,jwt:()=>xn,rateLimit:()=>Gt,upid:()=>qt});var u=function(){return Boolean("undefined"===typeof window||void 0)};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function v(e,r){if(r&&("object"==t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e,t,r){return t=p(t),v(e,d()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}var b="_expire";const m=function(){return f((function e(t,r){s(this,e),this.storageKey=t,this.projectKey=r}),[{key:"isCorrectExpire",value:function(e){return"undefined"!==typeof e&&Number.isInteger(Number(e))&&Number.isSafeInteger(e)&&e>(new Date).getTime()}},{key:"isCorrectExpireSeconds",value:function(e){return"undefined"!==typeof e&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}},{key:"getExpire",value:function(e){return(new Date).getTime()+1e3*e}},{key:"getProjectData",value:function(e){var t=this;if(u())return{};var r=window[this.storageKey].getItem(this.projectKey),n={};try{n=JSON.parse(r||"{}")}catch(qe){n={}}var o=i({},b,{}),a=n[b]||{};return Object.keys(n).forEach((function(e){e!==b&&(void 0===a[e]||t.isCorrectExpire(a[e]))&&(o[e]=n[e],o[b][e]=a[e])})),e&&delete o[b],o}},{key:"get",value:function(e){if(!(null===e||void 0===e||e instanceof Function||e instanceof Array||e instanceof Object))return this.getProjectData()[e]}},{key:"set",value:function(e,t,r){if(u())return!1;if(null===e||void 0===e||e instanceof Function||e instanceof Array)return!1;if(e===b)return!1;var n=this.getProjectData();return e instanceof Object?this.setAll(e,t):(n[e]=t,"undefined"!==typeof r&&this.isCorrectExpireSeconds(r)?n[b][e]=this.getExpire(r):delete n[b][e],window[this.storageKey].setItem(this.projectKey,JSON.stringify(n)),!0)}},{key:"setAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u())return!1;var n=this.getProjectData();return Object.entries(t).forEach((function(t){var o=t[0];if(o!==b){var i=r[o];n[o]=t[1],e.isCorrectExpireSeconds(i)?n[b][o]=e.getExpire(i):delete n[b][o]}})),window[this.storageKey].setItem(this.projectKey,JSON.stringify(n)),!0}},{key:"remove",value:function(e){if(u())return!1;if(null===e||void 0===e||e instanceof Function)return!1;if(e.constructor&&e.constructor===Object)return!1;var t=[];e instanceof Array?t=e:t.push(e);var r=this.getProjectData();return t.forEach((function(e){delete r[e],delete r[b][e]})),window[this.storageKey].setItem(this.projectKey,JSON.stringify(r)),!0}},{key:"getAll",value:function(){return this.getProjectData(!0)}},{key:"cleanAll",value:function(){u()||window[this.storageKey].setItem(this.projectKey,JSON.stringify({}))}}])}();var w="".concat("ok_","global"),x="localStorage";const k=function(e){function t(e){var r;return s(this,t),(r=g(this,t,[x,"ok_"+e])).global=new m(x,w),r.g=new m(x,w),r}return y(t,e),f(t)}(m);var _="sessionStorage",S="".concat("ok_","global");const I=function(e){function t(e){var r;return s(this,t),(r=g(this,t,[_,"ok_"+e])).global=new m(_,S),r.g=new m(_,S),r}return y(t,e),f(t)}(m);const A=new(function(){return f((function e(){s(this,e),this.local={},this.session={}}),[{key:"localProject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.local[e]){if(t)return null;this.local[e]=new k(e)}return this.local[e]}},{key:"sessionProject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.session[e]){if(t)return null;this.session[e]=new I(e)}return this.session[e]}}])}());var E="ok_",C="default",j="global",O="localStorage",P="sessionStorage",T=E+C,L=E+j,N="_expire";function D(e){return"undefined"!==typeof e&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}function R(e){return(new Date).getTime()+1e3*e}function K(e,t,r){if(u())return{};var n=window[e].getItem(t),o={};try{o=JSON.parse(n||"{}")}catch(qe){o={}}var a=i({},N,{}),c=o[N]||{};return Object.keys(o).forEach((function(e){var t;e!==N&&((void 0===c[e]||"undefined"!==typeof(t=c[e])&&Number.isInteger(Number(t))&&Number.isSafeInteger(t)&&t>(new Date).getTime())&&(a[e]=o[e],a[N][e]=c[e]))})),r&&delete a[N],a}function U(e,t){u()||window[e].setItem(t,JSON.stringify(K(e,t)))}var F={get:function(e,t,r){if(!(null===r||void 0===r||r instanceof Function||r instanceof Array||r instanceof Object))return K(e,t)[r]},set:function(e,t,r,n,o){if(u())return!1;if(null===r||void 0===r||r instanceof Function||r instanceof Array)return!1;if(r===N)return!1;var i=K(e,t);return r instanceof Object?F.setAll(e,t,r,n):(i[r]=n,"undefined"!==typeof o&&D(o)?i[N][r]=R(o):delete i[N][r],window[e].setItem(t,JSON.stringify(i)),!0)},setAll:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(u())return!1;var o=K(e,t);return Object.entries(r).forEach((function(e){var t=e[0];if(t!==N){var r=n[t];o[t]=e[1],D(r)?o[N][t]=R(r):delete o[N][t]}})),window[e].setItem(t,JSON.stringify(o)),!0},remove:function(e,t,r){if(u())return!1;if(null===r||void 0===r||r instanceof Function)return!1;if(r.constructor&&r.constructor===Object)return!1;var n=[];r instanceof Array?n=r:n.push(r);var o=K(e,t);return n.forEach((function(e){delete o[e],delete o[N][e]})),window[e].setItem(t,JSON.stringify(o)),!0},getAll:function(e,t){return K(e,t,!0)},cleanAll:function(e,t){u()||window[e].setItem(t,JSON.stringify({}))}};function M(e){var t=e.isLocal,r=e.isGlobal;function n(){return t?O:P}function o(){return r?L:T}return{set:function(e,t,r){return F.set(n(),o(),e,t,r)},get:function(e){return F.get(n(),o(),e)},remove:function(e){return F.remove(n(),o(),e)},getAll:function(){return F.getAll(n(),o())},cleanAll:function(){return F.cleanAll(n(),o())}}}var B=function(){var e=c({},M({isLocal:!0,isGlobal:!0}));return c(c({},M({isLocal:!0,isGlobal:!1})),{},{getProjectStorage:function(e){return K(O,E+e,!0)},global:e,g:e})}();function V(e){var t=e.project,r=t===j?C:t;return U(P,T=E+r),U(P,L),r!==C&&U(P,E+C),A.sessionProject(r)}function z(e){var t=e===j?C:e;return A.sessionProject(t,!0)}var q=function(){var e=c({},M({isLocal:!1,isGlobal:!0}));return c(c({},M({isLocal:!1,isGlobal:!1})),{},{getProjectStorage:function(e){return K(P,E+e,!0)},global:e,g:e,init:V,getInstance:z})}();const W=c(c({getInstance:function(e){var t=e===j?C:e;return A.localProject(t,!0)},init:function(e){var t=e.project,r=t===j?C:t;return U(O,T=E+r),U(O,L),r!==C&&U(O,E+C),A.localProject(r)},session:q},B),{},{local:B});function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function G(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X={};function H(){var e;if("undefined"!==typeof globalThis)e=globalThis;else if("undefined"!==typeof window)e=window;else{if("undefined"===typeof r.g)throw new Error("unable to locate global object");e=r.g}return e}function Z(e){var t=H();return new Proxy({_global_subscribe_list:{},_global_message_list:{},locale:"en_US"},{get:function(r,n,o){if("toJSON"===n)return function(){return c(c(c({},t.okGlobal),t._okGlobal),X)};if("toString"===n)return function(){return JSON.stringify(o.toJSON())};var i=[X,t._okGlobal,t.okGlobal];e&&(i=e(i));var a=i.find((function(e){return e&&Object.prototype.hasOwnProperty.call(e,n)}));return null===a||void 0===a?void 0:a[n]},set:function(e,t,r){return X[t]=r,!0}})}var Q=["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"],Y=r(221),ee=r.n(Y),te=ee().getDefaultWhiteList(),re=ee().escapeAttrValue,ne={};Object.keys(te).forEach((function(e){te[e]=te[e].concat(Q)}));const oe=function(e,t){var r=JSON.stringify(t);return ne[r]||(ne[r]=function(e){var t=(null===e||void 0===e?void 0:e.mode)||"escape",r=null===e||void 0===e?void 0:e.whiteList,n=te;r&&(n=c(c({},te),r));var o="escape"===t;return new(ee().FilterXSS)(c(c({onTagAttr:function(e,t,r,n){if(n&&"a"===e&&"href"===t&&(r.startsWith("okex://")||r.startsWith("okx://")||r.startsWith("okxtr://")))return"".concat(t,'="').concat(r,'"')},onIgnoreTagAttr:function(e,t,r){if(t.startsWith("data-")){var n=o?re(r):r.replace(/</g,"").replace(/>/g,"");return"".concat(t,'="').concat(n,'"')}},css:!1,escapeHtml:function(e){return o?ee().escapeHtml(e):e.replace(/</g,"").replace(/>/g,"")}},e),{},{whiteList:n}))}(t)),ne[r].process(e)};var ie=["javascript:","view-source:","\\s*j\\s*a\\s*v\\s*a\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*:\\s*"],ae={};const ce=function(e,t){var r=e,n="",o=function(e,t){var r="".concat(G(e).join(","),"|").concat(t.join(","));if(!ae[r]){var n=ie.concat(t).filter((function(t){return!e.has(t)})),o=new RegExp(n.join("|"),"gi");ae[r]=o}return ae[r]}(new Set((null===t||void 0===t?void 0:t.keywordsWhiteList)||[]),(null===t||void 0===t?void 0:t.keywordsBlackList)||[]);do{n=r,r=r.replace(o,"")}while(r!==n);return r};function ue(e,t){var r=oe(e,t);return r=ce(r,t)}function se(e){try{var t=function(e){var t,r=e,n=0;do{t=r,r=decodeURIComponent(r),n++}while(r!==t&&n<5);return{decodeValue:r,count:n}}(e),r=t.decodeValue,n=t.count;return r===e?{isEncode:!1,count:0}:{isEncode:r,count:n}}catch(qe){return{isEncode:!1,count:0}}}function le(e,t,r){var n=t.enableXssPurify,o=t.mode;if(!n)return r(e);var i=se(e),a=i.isEncode,c=i.count;if(a&&"string"===typeof a){var u=ue(a,{mode:o});return r(u===a?e:function(e,t){var r=1,n=e;do{r++,n=encodeURIComponent(n)}while(r!==t);return n}(u,c))}return r(ue(e,{mode:o}))}function fe(){for(var e=arguments,t=arguments.length<=0?void 0:arguments[0],r=function(){var r=n<0||e.length<=n?void 0:e[n];r&&Object.keys(r).forEach((function(e){t[e]=r[e]}))},n=1;n<arguments.length;n++)r();return t}const pe={read:function(e){var t=e;return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var de=Z(),ve=u(),ge=H(),he={debug:function(){},info:function(){},warn:function(){},error:function(){},timeStart:function(){},timeEnd:function(){},init:function(){}},ye=function(e){var t,r,n,o=e.message,i=e.level,a=e.data;"prod"!==de.envSign&&(null===(r=(n=console)[i])||void 0===r||r.call(n,o,a));var u={};u=a instanceof Error?{error:a}:c({message:o},a);var s=Object.keys(u).find((function(e){return u[e]instanceof Error})),l=u[s];if(l){var f;delete u[s];var p=new Error;return p.message="".concat(o," - ").concat(l.message),p.name=l.name,p.stack=l.stack,void(null===(f=ge.Sentry)||void 0===f||f.captureException(p,c(c({},u),{},{message:o,contexts:{report:{info:JSON.stringify(u)}}})))}null===(t=ge.Sentry)||void 0===t||t.captureEvent(c(c({},u),{},{message:o,level:i,contexts:{report:{info:JSON.stringify(u)}}}))};he.init=ve?function(){if(ge.ssrUtils&&ge.ssrUtils.logger){var e=ge.ssrUtils.logger;he.debug=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.debug)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},he.info=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.info)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},he.warn=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.warn)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},he.error=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.error)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},he.timeStart=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.timeStart)||void 0===t?void 0:t.call.apply(t,[e].concat(n))},he.timeEnd=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(t=e.timeEnd)||void 0===t?void 0:t.call.apply(t,[e].concat(n))}}}:function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(null===(e=ge.__INIT_STATE__)||void 0===e?void 0:e.appContext)||{},i=o.dsn,a=o.version,u=o.traceId,s=o.injectableOptions,l=void 0===s?{}:s,f=null===l||void 0===l?void 0:l.reportOptions,p={};"object"!==typeof f||Array.isArray(f)||(p=f||{}),(i||null!==n&&void 0!==n&&n.dsn||p.dsn)&&(null===(t=ge.Sentry)||void 0===t||t.init(c(c({dsn:i,release:a},n),p),{debug:["dev","daily"].includes(de.envSign)}),null===(r=ge.Sentry)||void 0===r||r.setTag("traceId",u),he.debug=function(e,t){return ye({message:e,level:"debug",data:t})},he.info=function(e,t){return ye({message:e,level:"info",data:t})},he.warn=function(e,t){return ye({message:e,level:"warn",data:t})},he.error=function(e,t){return ye({message:e,level:"error",data:t})},he.timeStart=console.time,he.timeEnd=console.timeEnd)},he.init();var be=["path","domain","overwrite","sameSite","encrypt","maxAge","expires","httpOnly","secure","signed"],me=Z(),we=u();function xe(e,t){if("number"===typeof e){var r=24*e*60*60,n=r;return"number"===typeof t&&r>t&&(n=t),new Date(Date.now()+1e3*n)}if(e instanceof Date){var o=e;if("number"===typeof t){var i=new Date(Date.now()+1e3*t);e>i&&(o=i)}return o}}function ke(e,t){t.length&&he.info(e),he.info('[cookieAlarm]: "cookieWhiteList length is '.concat(t.length))}function _e(e){var t,r,n,o,i,a,c=e||{},u=c.name,s=c.apiType,l=c.type,f=c.defaultCookieInterceptLevel,p=c.defaultCookieInterceptMaxAge,d="instance"===s,v=(null===(t=me)||void 0===t?void 0:t.cookieWhitelist)||[];0===v.length&&(v=(null===(a=me=Z())||void 0===a?void 0:a.cookieWhitelist)||[]);var g=d?(null===(r=me)||void 0===r?void 0:r.cookieInterceptLevel)||f||0:(null===(n=me)||void 0===n?void 0:n.cookieInterceptLevel)||0,h=d?(null===(o=me)||void 0===o?void 0:o.cookieInterceptMaxAge)||p:null===(i=me)||void 0===i?void 0:i.cookieInterceptMaxAge;if(u&&!v.includes(u)){var y='[cookieAlarm]: "'.concat(u,'" is not allowed to ').concat(l,"!");if(1===g)ke(y,v);else if(2===g)return void ke(y,v)}return"undefined"===typeof h||h}function Se(e){var t=!1;we&&e&&(Object.keys(e).every((function(e){return be.includes(e)}))&&(t=!0));return t}var Ie=H(),Ae=u(),Ee=!Ae&&"undefined"===typeof document,Ce={path:"/"};const je=new(function(){function e(t){s(this,e),this.options=t,this.converter=(null===t||void 0===t?void 0:t.converter)||pe,this.attributes=(null===t||void 0===t?void 0:t.attributes)||Ce,this.initAttributes={value:Object.freeze(this.attributes)},this.initConverter={value:Object.freeze(this.converter)},this.enableXssPurify=!0,this.mode="escape"}return f(e,[{key:"init",value:function(t){return new e(t)}},{key:"closeXssPurify",value:function(){this.enableXssPurify=!1}},{key:"setMode",value:function(e){this.mode=e}},{key:"set",value:function(e,t,r){var n,o,i=this;if(!Ee){var a=_e({apiType:"instance",type:"set",name:e,defaultCookieInterceptLevel:null===(n=this.options)||void 0===n?void 0:n.cookieInterceptLevel,defaultCookieInterceptMaxAge:null===(o=this.options)||void 0===o?void 0:o.cookieInterceptMaxAge});if(a){var u,s=Se(r),l=c({},r);if((l=fe({},this.attributes,l)).expires){var f=xe(l.expires,a);f&&(l.expires=f.toUTCString())}u=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";Object.keys(l).forEach((function(e){l[e]&&(p+="; ".concat(e),!0!==l[e]&&("number"===typeof l[e]&&(l[e]=String(l[e])),p+="=".concat(l[e].split(";")[0])))})),le(t,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){var t,r;return s?null===Ie||void 0===Ie||null===(t=Ie.ssrUtils)||void 0===t||null===(r=t.cookies)||void 0===r?void 0:r.set(u,e,l):document.cookie="".concat(u,"=").concat(i.converter.write(e,u)).concat(p)}))}}}},{key:"get",value:function(e){var t,r;if((!arguments.length||e)&&_e({apiType:"instance",type:"get",name:e,defaultCookieInterceptLevel:null===(t=this.options)||void 0===t?void 0:t.cookieInterceptLevel,defaultCookieInterceptMaxAge:null===(r=this.options)||void 0===r?void 0:r.cookieInterceptMaxAge})){if(Ae){var n,o,i=null===Ie||void 0===Ie||null===(n=Ie.ssrUtils)||void 0===n||null===(o=n.cookies)||void 0===o?void 0:o.get(e);return i?le(i,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){return e})):i}if(!Ee){for(var a=document.cookie?document.cookie.split("; "):[],c={},u=0;u<a.length;u++){var s=a[u].split("="),l=s.slice(1).join("=");try{var f=decodeURIComponent(s[0]);if(c[f]=this.converter.read(l,f),e===f)break}catch(qe){}}var p=e?c[e]:c;return p&&e?le(p,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){return e})):p}}}},{key:"remove",value:function(e,t){this.set(e,"",fe({},t,{expires:-1}))}},{key:"withAttributes",value:function(t){return new e({converter:this.initConverter,attributes:fe({},this.initAttributes,t)})}},{key:"withConverter",value:function(t){return new e({converter:fe({},this.initConverter,t),attributes:this.initAttributes})}}])}());var Oe=H(),Pe=u(),Te=!Pe&&"undefined"===typeof document;const Le=function e(t,r){function n(e,n,o){if(!Te){var i=_e({type:"set",name:e});if(i){var a,u=Se(o),s=c({},o);if((s=fe({},r,s)).expires){var l=xe(s.expires,i);l&&(s.expires=l.toUTCString())}a=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";Object.keys(s).forEach((function(e){s[e]&&(f+="; ".concat(e),!0!==s[e]&&("number"===typeof s[e]&&(s[e]=String(s[e])),f+="=".concat(s[e].split(";")[0])))})),le(n,{enableXssPurify:!0,mode:"escape"},(function(e){var r,n;return u?null===Oe||void 0===Oe||null===(r=Oe.ssrUtils)||void 0===r||null===(n=r.cookies)||void 0===n?void 0:n.set(a,e,s):document.cookie="".concat(a,"=").concat(t.write(e,a)).concat(f)}))}}}return Object.create({set:n,get:function(e){if((!arguments.length||e)&&_e({type:"get",name:e})){if(Pe){var r,n,o=null===Oe||void 0===Oe||null===(r=Oe.ssrUtils)||void 0===r||null===(n=r.cookies)||void 0===n?void 0:n.get(e);return o?le(o,{enableXssPurify:!0,mode:"escape"},(function(e){return e})):o}if(!Te){for(var i=document.cookie?document.cookie.split("; "):[],a={},c=0;c<i.length;c++){var u=i[c].split("="),s=u.slice(1).join("=");try{var l=decodeURIComponent(u[0]);if(a[l]=t.read(s,l),e===l)break}catch(qe){}}var f=e?a[e]:a;return f&&e?le(f,{enableXssPurify:!0,mode:"escape"},(function(e){return e})):f}}},init:function(e){return je.init(e)},remove:function(e,t){n(e,"",fe({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,fe({},this.attributes,t))},withConverter:function(t){return e(fe({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}(pe,{path:"/"});var Ne="ok_site_info",De=H(),Re=u(),Ke=function(e){return e.split("").reverse().join("")},Ue=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Le.get(Ne);if(!t)return e?{}:"";try{return e?JSON.parse(function(e){var t=Ke(e);return Re?Buffer.from(t,"base64").toString("utf-8"):window.atob(t)}(t)):t}catch(qe){}return{}},Fe=function(e){var t=Ue();Object.keys(e).forEach((function(r){t[r]=e[r]}));var r,n,o,i=(r=JSON.stringify(t),Ke(Re?Buffer.from(r).toString("base64"):window.btoa(r)));Re?null===De||void 0===De||null===(n=De.ssrUtils)||void 0===n||null===(o=n.cookies)||void 0===o||o.set(Ne,i):Le.set(Ne,i)};const Me=Z((function(e){return[].concat(G(e),[{getSiteInfo:Ue,setSiteInfo:Fe}])}));function Be(){Be=function(){return r};var e,r={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),c=new P(n||[]);return i(a,"_invoke",{value:E(e,r,c)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var d="suspendedStart",v="suspendedYield",g="executing",h="completed",y={};function b(){}function m(){}function w(){}var x={};l(x,c,(function(){return this}));var k=Object.getPrototypeOf,_=k&&k(k(T([])));_&&_!==n&&o.call(_,c)&&(x=_);var S=w.prototype=b.prototype=Object.create(x);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,r){function n(i,a,c,u){var s=p(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==t(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):r.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,t){function o(){return new r((function(r,o){n(e,t,r,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,n){var o=d;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=C(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var s=p(t,r,n);if("normal"===s.type){if(o=n.done?h:v,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=h,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(r){if(r||""===r){var n=r[c];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function t(){for(;++i<r.length;)if(o.call(r,i))return t.value=r[i],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(r)+" is not iterable")}return m.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:m,configurable:!0}),m.displayName=l(w,s,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},r.awrap=function(e){return{__await:e}},I(A.prototype),l(A.prototype,u,(function(){return this})),r.AsyncIterator=A,r.async=function(e,t,n,o,i){void 0===i&&(i=Promise);var a=new A(f(e,t,n,o),i);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(S),l(S,s,"Generator"),l(S,c,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},r}function Ve(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ze(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ve(i,n,o,a,c,"next",e)}function c(e){Ve(i,n,o,a,c,"throw",e)}a(void 0)}))}}function qe(e){this.message=e}qe.prototype=new Error,qe.prototype.name="InvalidCharacterError";var We="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new qe("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,i=0,a="";n=t.charAt(i++);~n&&(r=o%4?64*r+n:n,o++%4)?a+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function $e(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(We(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return We(t)}}function Je(e){this.message=e}Je.prototype=new Error,Je.prototype.name="InvalidTokenError";const Ge=function(e,t){if("string"!=typeof e)throw new Je("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse($e(e.split(".")[r]))}catch(e){throw new Je("Invalid token specified: "+e.message)}};var Xe=["/support/","/docs/","/docs-v5/","/academy/"],He=["http","//","\\/","/\\","\\"];function Ze(e){return new URL(e,"https://tempurl.com").pathname}function Qe(e){return!(e&&"string"===typeof e&&(t=e,!He.some((function(e){return t.startsWith(e)})))&&e.startsWith("/")&&!e.startsWith("/\\"));var t}function Ye(e){return"/"===Ze(e)?e:e.replace(/\/(?=[\\?#]|$)/,"")}function et(e){if(!e||"string"!==typeof e)return e;try{var t,r=Me.langPath,n=void 0===r?"":r,o=Me.localeMap,i=void 0===o?{}:o,a=Me.locale,u=void 0===a?"":a,s=Me.pathCorrection,l=void 0===s?{}:s,f=null===u||void 0===u||null===(t=u.toLowerCase())||void 0===t?void 0:t.replace("-","_"),p=e,d=function(e){var t="";return Object.keys(e).forEach((function(r){e[r]||(t=r)})),t}(i),v={localeMap:i,langPath:n,path:e,locale:f,pathCorrection:l,defaultLocale:d},g=!Qe(e)&&function(e){var t=e.localeMap,r=e.langPath,n=e.path,o=e.pathCorrection,i=e.defaultLocale,a="";return Object.keys(t).forEach((function(e){if(e!==i){var c="/".concat(t[e]);n.startsWith("".concat(c,"/"))&&r!==c?a="".concat(c,"/"):n===c&&(a="".concat(c))}e===i&&Object.keys(o).forEach((function(e){var t=e.replace(/\//g,"");n.startsWith("/".concat(t,"/"))?a="/".concat(t,"/"):n==="/".concat(t)&&(a="/".concat(t))}))})),a}(c(c({},v),{},{path:Ze(e)}));return g&&(p=p.replace(g,"/")),function(e){var t=Me.okUtilsConfig,r=(void 0===t?{}:t).prefixLangPathFilter;return!!Qe(e)||(r||Xe).some((function(t){return e.startsWith(t)}))}(p)||!n&&f!==d?Ye(e):Ye(p.startsWith("".concat(n,"/"))?p:"".concat(n).concat(p))}catch(h){return e}}var tt=864e5,rt=function(){var e;return!(null===(e=window)||void 0===e||null===(e=e.pcClient)||void 0===e||null===(e=e.pca)||void 0===e||!e.setItem)},nt="_tk",ot="token",it="devId",at="ok_login_type",ct="privateKey",ut="publicKey",st="_tk",lt="devId",ft="_eid",pt="login_devId",dt="devIdPublic",vt="SPE_0",gt="SPE_1",ht="SPE_2",yt="SPE_3",bt="SPE_4",mt="SPE_5",wt="SPE_6",xt="SPE_10",kt="reqCaches",_t={project:{id:206,token:"77d51bf92a0501485bb541a2ec96517e"}},St={ERR_CANCELED:"ERR_CANCELED",ERR_NETWORK:"ERR_NETWORK",ERR_TIMEOUT:"ERR_TIMEOUT"},It={useNativeTokenInApp:!0,dexEnv:0,isBlocked:!1,isHandling401:!1};function At(e){Object.keys(e).forEach((function(t){void 0!==It[t]&&(It[t]=e[t])}))}const Et=It;var Ct,jt="token_expire_time",Ot="isLogin",Pt=function(){if(u())return Boolean(Le.get(ot)&&Le.get(Ot));if(void 0!==Ct)return Ct;var e=Boolean(Le.get(ot)&&Le.get(Ot));return Ct=e,e},Tt=function(){return Le.get(ot)},Lt=function(){var e=ze(Be().mark((function e(){var t,r,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(r=t.jsbridge)||!r.getToken){e.next=12;break}return e.prev=2,e.next=5,r.getToken();case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=ze(Be().mark((function e(){var t,r,n=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:Et,!Me.isApp||!t.useNativeTokenInApp){e.next=6;break}return e.next=4,Lt();case 4:return r=e.sent,e.abrupt("return",r);case 6:return e.abrupt("return",Tt());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dt=function(e){try{return Ge(e)}catch(t){return{}}},Rt=function(e){var t=e?Dt(e).eid:void 0;t&&t!==Me.getSiteInfo().entity&&(Me.setSiteInfo({entity:t}),localStorage.setItem(ft,t))},Kt=function(){var e=ze(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt();case 2:t=e.sent,Rt(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(e){if(!Me.isApp){var t="object"===typeof e?e:{token:e},r=t.tk,n=t.token,o=t.expireTime,i=function(e){var t=e.token,r=e.expireTime,n=Date.now(),o=6048e5;if(r>n)localStorage.setItem(jt,r),o=r-n;else if(t){var i=1e3*Dt(t).exp;localStorage.setItem(jt,i),o=i-n}return o/tt}({token:n,expireTime:void 0===o?0:o});n&&(!function(e){var t=e.token,r=e.expireTime;Le.set(ot,t,{expires:r}),Le.set(Ot,"1",{expires:r})}({token:n,expireTime:i}),Rt(n)),function(e){var t=e.tk,r=e.expireTime,n=t||Le.get(nt);Le.set(nt,n,{expires:r}),localStorage.setItem(st,n)}({tk:r,expireTime:i}),function(e){var t,r=function(){var e=window.location.hostname.split(".");return e.length>2?e.slice(-2).join("."):window.location.hostname}();Le.set(at,null===Me||void 0===Me||null===(t=Me.site)||void 0===t?void 0:t.subSite,{expires:e,domain:".".concat(r)})}(i),Ct=!0}},Ft=function(){localStorage.removeItem(ft),Le.remove(ot),Le.remove(nt),localStorage.removeItem(st),localStorage.removeItem(jt),Le.remove(Ot),W.session.remove(kt),Ct=!1},Mt=function(){var e;return Me.isApp&&null!==(e=window)&&void 0!==e&&null!==(e=e.jsbridge)&&void 0!==e&&e.isLogin?window.jsbridge.isLogin():Promise.resolve(Pt())},Bt=function(){var e;if(null!==Me&&void 0!==Me&&null!==(e=Me.site)&&void 0!==e&&null!==(e=e.is)&&void 0!==e&&e.oklink||!Me.isApp){var t=window.location,r=t.pathname,n=t.search,o=t.hash,i=encodeURIComponent("".concat(r).concat(n).concat(o));t.href=ue(et("/account/login?logout=true&forward=".concat(i)))}};var Vt=function(e){if(null===e||void 0===e)return{};var t={};return Object.keys(e).forEach((function(r){var n=r.split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join("-");t[n]=e[r]})),t},zt=function(e){var t=e.msg,r=e.errInfo,n=void 0===r?{}:r,o=e.extra,i=" 5.5.2";try{he.info("".concat(i,": ").concat(t),c(c({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e instanceof Error?{name:e.name,code:e.code,message:e.message,stack:e.stack,detail:e.detail}:"string"===typeof e?{errInfo:e}:e}(n)),{},{customConfig:_t,extra:o}))}catch(a){console.error("".concat(i,": sendSentryLog error: "),a)}},qt={setUPid:function(){var e,t=window.location;if(/^(\/[a-z]{2})?\/account/.test(t.pathname)){var r=(e=t.host,function(e){for(var t=e.length;t>0&&"="===e[t-1];)t--;return e.slice(0,t)}(window.btoa(e)).split("").map((function(e,t){var r=t%2===0;if(/\d/.test(e))return r?e:9-e;if(/[a-z]/i.test(e)&&r){var n=e.charCodeAt(0);return n>=97?n-=32:n+=32,String.fromCharCode(n)}return e})).join(""));Le.set("u_pid",r)}}};function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $t,Jt=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u,s,l,f,p,d;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.fetchConfig,o=t.timestampForTest,i=t.tokenForTest,a=function(){return crypto.randomUUID?crypto.randomUUID():(new Date).getTime()},c=function(){var e=ze(Be().mark((function e(t){var r,n,i,a,c,u,s,l,f,p,d;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t));case 3:for(n=e.sent,i=Array.from(new Uint8Array(n)),a=i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),c=Date.now(),u=o||Math.floor(c/1e3),s=Math.floor(u/600%32),l=Math.floor(u/3600%32),f=0;f<32;f++)p=a[(s+(l+f)*f)%32],r+=p;return e.next=13,crypto.subtle.importKey("raw",(new TextEncoder).encode(r),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);case 13:return d=e.sent,e.abrupt("return",{key:d,timestamp:c});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=r.replace("?","");if(["post","put"].includes(n.method)){var t=r.split("?")[0],o=n.body;if(o instanceof FormData){var i=Array.from(o.entries()).map((function(e){var t=Wt(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join(",");e="".concat(t,"{").concat(i,"}")}else e="".concat(t).concat(n.body)}return e},s=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return r=e.sent,n=r.key,o=r.timestamp,i=u(),e.next=8,crypto.subtle.sign("HMAC",n,(new TextEncoder).encode(i));case 8:return a=e.sent,s=btoa(String.fromCharCode.apply(String,G(new Uint8Array(a)))),e.abrupt("return",{signature:s,timestamp:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=i||a(),e.next=8,s(l);case 8:return f=e.sent,p=f.timestamp,d=f.signature,e.abrupt("return",{token:l,timestamp:p,signature:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt={getTokenAndSign:Jt},Xt=new Array(128).fill(void 0);function Ht(e){return Xt[e]}Xt.push(void 0,null,!0,!1);var Zt=Xt.length;function Qt(e){var t=Ht(e);return function(e){e<132||(Xt[e]=Zt,Zt=e)}(e),t}var Yt="undefined"!==typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:function(){throw Error("TextDecoder not available")}};"undefined"!==typeof TextDecoder&&Yt.decode();var er=null;function tr(){return null!==er&&0!==er.byteLength||(er=new Uint8Array($t.memory.buffer)),er}function rr(e,t){return e>>>=0,Yt.decode(tr().subarray(e,e+t))}function nr(e){Zt===Xt.length&&Xt.push(Xt.length+1);var t=Zt;return Zt=Xt[t],Xt[t]=e,t}var or=0,ir="undefined"!==typeof TextEncoder?new TextEncoder("utf-8"):{encode:function(){throw Error("TextEncoder not available")}},ar="function"===typeof ir.encodeInto?function(e,t){return ir.encodeInto(e,t)}:function(e,t){var r=ir.encode(e);return t.set(r),{read:e.length,written:r.length}};function cr(e,t,r){if(void 0===r){var n=ir.encode(e),o=t(n.length,1)>>>0;return tr().subarray(o,o+n.length).set(n),or=n.length,o}for(var i=e.length,a=t(i,1)>>>0,c=tr(),u=0;u<i;u++){var s=e.charCodeAt(u);if(s>127)break;c[a+u]=s}if(u!==i){0!==u&&(e=e.slice(u)),a=r(a,i,i=u+3*e.length,1)>>>0;var l=tr().subarray(a+u,a+i);a=r(a,i,u+=ar(e,l).written,1)>>>0}return or=u,a}var ur=null;function sr(){return null!==ur&&0!==ur.byteLength||(ur=new Int32Array($t.memory.buffer)),ur}function lr(e){var t=typeof e;if("number"==t||"boolean"==t||null==e)return"".concat(e);if("string"==t)return'"'.concat(e,'"');if("symbol"==t){var r=e.description;return null==r?"Symbol":"Symbol(".concat(r,")")}if("function"==t){var n=e.name;return"string"==typeof n&&n.length>0?"Function(".concat(n,")"):"Function"}if(Array.isArray(e)){var o=e.length,i="[";o>0&&(i+=lr(e[0]));for(var a=1;a<o;a++)i+=", "+lr(e[a]);return i+="]"}var c,u=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!(u.length>1))return toString.call(e);if("Object"==(c=u[1]))try{return"Object("+JSON.stringify(e)+")"}catch(s){return"Object"}return e instanceof Error?"".concat(e.name,": ").concat(e.message,"\n").concat(e.stack):c}var fr="undefined"===typeof FinalizationRegistry?{register:function(){},unregister:function(){}}:new FinalizationRegistry((function(e){$t.__wbindgen_export_2.get(e.dtor)(e.a,e.b)}));function pr(e,t,r){$t.wasm_bindgen__convert__closures__invoke1_mut__he81b0e579a5d8e82(e,t,nr(r))}function dr(e,t){try{return e.apply(this,t)}catch(qe){$t.__wbindgen_exn_store(nr(qe))}}function vr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=ze(Be().mark((function e(t,r){var n,o,i,a,c,u,s,l,f,p,d,v,g,h,y,b,m,w,x,k;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=typeof t,o=t&&t.byteLength?t.byteLength:"N/A",i=t instanceof ArrayBuffer,a=ArrayBuffer.isView(t),c=t instanceof WebAssembly.Module,!("function"===typeof Response&&t instanceof Response)){e.next=47;break}if(e.prev=6,"function"!==typeof WebAssembly.instantiateStreaming){e.next=11;break}return e.next=10,WebAssembly.instantiateStreaming(t,r);case 10:case 13:return e.abrupt("return",e.sent);case 11:return e.next=13,WebAssembly.instantiate(u,r);case 16:return e.prev=16,e.t0=e.catch(6),e.next=20,t.arrayBuffer();case 20:throw u=e.sent,s=t.headers.get("content-length"),l=t.headers.get("transfer-encoding"),f=t.headers.get("content-encoding"),g=t.headers.get("content-type"),p=t.headers.get("via"),d=t.headers.get("accept-encoding"),v=new Uint8Array(u.slice(0,8)).toString(),h=t.headers?G(t.headers.entries()).slice(0,20).toString():null,y=t.headers.get("rayid"),b=t.headers.get("eagleid"),m=t.headers.get("x-amz-cf-id"),console.error("WebAssembly.instantiateStreaming error:",e.t0),console.error("Content-Length:",s),console.error("Transfer-Encoding:",l),console.error("Content-Encoding:",f),console.error("Content-Type:",g),console.error("Via:",p),console.error("Headers:",h),console.error("Accept-Encoding:",d),console.error("First 4 bytes of arrayBuffer:",v),console.error("rayid:",y),console.error("eagleid:",b),console.error("xAmzCfId:",m),{e:JSON.stringify(e.t0),bytes:u,contentLength:s,transferEncoding:l,contentEncoding:f,via:p,acceptEncoding:d,expectedMagicNumber:v,imports:r,moduleType:n,moduleSize:o,isArrayBuffer:i,isTypedArray:a,isWebAssemblyModule:c,message:null===e.t0||void 0===e.t0?void 0:e.t0.message,stack:null===e.t0||void 0===e.t0?void 0:e.t0.stack,messageSource:"WebAssembly.instantiateStreaming error",contentType:g,headers:h,rayid:y,eagleid:b,xAmzCfId:m};case 45:case 56:e.next=70;break;case 47:return e.prev=47,e.next=50,WebAssembly.instantiate(t,r);case 50:if(!((w=e.sent)instanceof WebAssembly.Instance)){e.next=55;break}return e.abrupt("return",{instance:w,module:t});case 55:return e.abrupt("return",w);case 58:throw e.prev=58,e.t1=e.catch(47),x=null,(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(k=t instanceof ArrayBuffer?t:t.buffer,x=new Uint8Array(k.slice(0,8)).toString()),console.error("WebAssembly.instantiate error:",e.t1),console.error("Module type:",n),console.error("Module size:",o),console.error("Is ArrayBuffer:",i),console.error("Is TypedArray:",a),console.error("Is WebAssembly.Module:",c),console.error("First 4 bytes of arrayBuffer:",x),{e:JSON.stringify(e.t1),imports:r,moduleType:n,moduleSize:o,isArrayBuffer:i,isTypedArray:a,isWebAssemblyModule:c,expectedMagicNumber:x,message:null===e.t1||void 0===e.t1?void 0:e.t1.message,stack:null===e.t1||void 0===e.t1?void 0:e.t1.stack,messageSource:"WebAssembly.instantiate error"};case 70:case"end":return e.stop()}}),e,null,[[6,16],[47,58]])})))).apply(this,arguments)}function hr(){var e,t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){Qt(e)},t.wbg.__wbindgen_is_object=function(e){var t=Ht(e);return"object"===typeof t&&null!==t},t.wbg.__wbindgen_is_string=function(e){return"string"===typeof Ht(e)},t.wbg.__wbindgen_string_new=function(e,t){return nr(rr(e,t))},t.wbg.__wbindgen_string_get=function(e,t){var r,n=Ht(t),o="string"===typeof n?n:void 0,i=void 0===(r=o)||null===r?0:cr(o,$t.__wbindgen_malloc,$t.__wbindgen_realloc),a=or;sr()[e/4+1]=a,sr()[e/4+0]=i},t.wbg.__wbg_log_3616ebb275cffd6f=function(e,t){rr(e,t)},t.wbg.__wbg_getZ2FN_1fcb562cc3a76c0c=function(){return nr(window.utils.ont.crypto.getZ2FN())},t.wbg.__wbg_getJDD_a23f6fe0ec8619f4=function(){return nr(window.utils.ont.crypto.getJDD())},t.wbg.__wbg_getZ2FL_2d22b1fa9817a0d4=function(e,t,r){var n,o;try{n=t,o=r;var i=cr(window.utils.ont.crypto.getZ2FL(rr(t,r)),$t.__wbindgen_malloc,$t.__wbindgen_realloc),a=or;sr()[e/4+1]=a,sr()[e/4+0]=i}finally{$t.__wbindgen_free(n,o,1)}},t.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(e){return nr(Ht(e).queueMicrotask)},t.wbg.__wbindgen_is_function=function(e){return"function"===typeof Ht(e)},t.wbg.__wbindgen_cb_drop=function(e){var t=Qt(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},t.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(e){queueMicrotask(Ht(e))},t.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){return nr(new Function(rr(e,t)))},t.wbg.__wbg_get_e3c254076557e348=function(){return dr((function(e,t){return nr(Reflect.get(Ht(e),Ht(t)))}),arguments)},t.wbg.__wbg_call_27c0f87801dedf93=function(){return dr((function(e,t){return nr(Ht(e).call(Ht(t)))}),arguments)},t.wbg.__wbg_new_72fb9a18b5ae2624=function(){return nr(new Object)},t.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return dr((function(){return nr(self.self)}),arguments)},t.wbg.__wbg_window_c6fb939a7f436783=function(){return dr((function(){return nr(window.window)}),arguments)},t.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return dr((function(){return nr(globalThis.globalThis)}),arguments)},t.wbg.__wbg_global_207b558942527489=function(){return dr((function(){return nr(r.g.global)}),arguments)},t.wbg.__wbindgen_is_undefined=function(e){return void 0===Ht(e)},t.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return dr((function(e,t,r){return nr(Ht(e).call(Ht(t),Ht(r)))}),arguments)},t.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},t.wbg.__wbg_new_81740750da40724f=function(e,t){try{var r={a:e,b:t},n=new Promise((function(e,t){var n=r.a;r.a=0;try{return function(e,t,r,n){$t.wasm_bindgen__convert__closures__invoke2_mut__h5cf7ebf0b823f44e(e,t,nr(r),nr(n))}(n,r.b,e,t)}finally{r.a=n}}));return nr(n)}finally{r.a=r.b=0}},t.wbg.__wbg_resolve_b0083a7967828ec8=function(e){return nr(Promise.resolve(Ht(e)))},t.wbg.__wbg_then_0c86a60e8fcfe9f6=function(e,t){return nr(Ht(e).then(Ht(t)))},t.wbg.__wbg_then_a73caa9a87991566=function(e,t,r){return nr(Ht(e).then(Ht(t),Ht(r)))},t.wbg.__wbg_length_c20a40f15020d68a=function(e){return Ht(e).length},t.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){return nr(new Uint8Array(e>>>0))},t.wbg.__wbg_getindex_03d06b4e7ea3475e=function(e,t){return Ht(e)[t>>>0]},t.wbg.__wbg_setindex_0b7ede192dc5eca8=function(e,t,r){Ht(e)[t>>>0]=r},t.wbg.__wbg_set_1f9b04f170055d33=function(){return dr((function(e,t,r){return Reflect.set(Ht(e),Ht(t),Ht(r))}),arguments)},t.wbg.__wbg_random_26e2d782b541ca6b="function"==typeof Math.random?Math.random:(e="Math.random",function(){throw new Error("".concat(e," is not defined"))}),t.wbg.__wbindgen_object_clone_ref=function(e){return nr(Ht(e))},t.wbg.__wbindgen_debug_string=function(e,t){var r=cr(lr(Ht(t)),$t.__wbindgen_malloc,$t.__wbindgen_realloc),n=or;sr()[e/4+1]=n,sr()[e/4+0]=r},t.wbg.__wbindgen_throw=function(e,t){throw new Error(rr(e,t))},t.wbg.__wbindgen_closure_wrapper176=function(e,t,r){var n=function(e,t,r,n){var o={a:e,b:t,cnt:1,dtor:r},i=function(){o.cnt++;var e=o.a;o.a=0;try{for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.apply(void 0,[e,o.b].concat(r))}finally{0===--o.cnt?($t.__wbindgen_export_2.get(o.dtor)(e,o.b),fr.unregister(o)):o.a=e}};return i.original=o,fr.register(i,o,o),i}(e,t,45,pr);return nr(n)},t}function yr(e,t){return $t=e.exports,br.__wbindgen_wasm_module=t,ur=null,er=null,$t}function br(e){return mr.apply(this,arguments)}function mr(){return mr=ze(Be().mark((function e(t){var n,o,i,a,u,s,l,f;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===$t){e.next=2;break}return e.abrupt("return",$t);case 2:if("undefined"===typeof t&&(t=new URL(r(363),r.b)),n=hr(),!("string"===typeof t||"function"===typeof Request&&t instanceof Request||"function"===typeof URL&&t instanceof URL)){e.next=15;break}e.prev=5,o=t,i=new Headers({"Accept-Encoding":"br","Content-Type":"application/wasm"}),t=fetch(t,{headers:i}).catch((function(e){var t,r,n=navigator.onLine;throw console.error("Fetch error:",e),console.error("Link:",o),console.error("isOnline:",n),{e:JSON.stringify(e),link:o,origin:null===(t=window)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.origin,message:null===e||void 0===e?void 0:e.message,stack:null===e||void 0===e?void 0:e.stack,messageSource:"Failed to fetch the WebAssembly module",isOnline:n}})),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),a=navigator.onLine,{e:JSON.stringify(e.t0),link:o,message:null===e.t0||void 0===e.t0?void 0:e.t0.message,stack:null===e.t0||void 0===e.t0?void 0:e.t0.stack,messageSource:"Failed to setup fetch for the WebAssembly module",isOnline:a};case 15:return e.prev=16,e.t1=vr,e.next=20,t;case 20:return e.t2=e.sent,e.t3=n,e.next=24,(0,e.t1)(e.t2,e.t3);case 24:return u=e.sent,s=u.instance,l=u.module,e.abrupt("return",yr(s,l));case 30:throw e.prev=30,e.t4=e.catch(16),console.error("WebAssembly load error:",e.t4),console.error("Input type:",typeof t),console.error("Input URL:",o),f=navigator.onLine,c(c({},{name:e.t4.name,message:e.t4.message,stack:e.t4.stack,fileName:e.t4.fileName,lineNumber:e.t4.lineNumber,columnNumber:e.t4.columnNumber,inputType:typeof t,inputURL:o,isOnline:f,messageSource:"WebAssembly load error"}),{},{e:JSON.stringify(e.t4,Object.getOwnPropertyNames(e.t4))});case 38:case"end":return e.stop()}}),e,null,[[5,11],[16,30]])}))),mr.apply(this,arguments)}const wr=br;var xr=null;function kr(){return _r.apply(this,arguments)}function _r(){return(_r=ze(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xr||(xr=wr()),e.next=3,xr;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=ze(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr();case 2:return e.abrupt("return",(r=t,Qt($t.get_fingerprint(nr(r)))));case 3:case"end":return e.stop()}var r}),e)})))).apply(this,arguments)}var Ar=H().crypto,Er={mathRandom:function(){return Math.random()},cryptoRandom:function(e){var t=e||{},r=t.bytesLength,n=void 0===r?1:r,o=t.UnitArray,i=void 0===o?Uint32Array:o,a=new i(n);if(Ar)return Ar.getRandomValues(a);for(var c=Math.pow(2,8*i.BYTES_PER_ELEMENT)-1,u=0;u<n;u++)a[u]=Math.floor(Math.random()*c);return a},get:function(e){var t=(e||{}).useMathRandom;if(void 0!==t&&t)return Er.mathRandom();if(Ar){var r=new Uint32Array(1);return Ar.getRandomValues(r),r[0]/Math.pow(2,32)}return Er.mathRandom()}},Cr=function(e){Le.set(it,e,{expires:730}),localStorage.setItem(lt,e)},jr=function(){var e=Le.get(it)||localStorage.getItem(lt);return e?function(e){var t=Le.get(it),r=localStorage.getItem(lt);t&&r&&t===r||(cn.logForDevIdDiff({msg:"diff_with_cookie&LS",moreInfo:{devId:e}}),Cr(e))}(e):(e=function(){var e=Date.now(),t=window.performance;return"undefined"!==typeof t&&"function"===typeof t.now&&(e+=t.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Er.get())%16|0;return("x"===t?r:3&r|8).toString(16)}))}(),Cr(e),cn.saveLogInDB({key:"devId",value:e})),e},Or=function(e){var t=localStorage.getItem(pt);t&&t!==e&&cn.logForDevIdDiff({msg:"diff_with_loginProject",moreInfo:{devId:e,loginDevId:t}});var r=W.get(dt);r&&r!==e&&(cn.logForDevIdDiff({msg:"diff_with_getPublicKey",moreInfo:{devId:e,devIdPublic:r}}),W.remove(dt)),cn.devIdMemory?cn.devIdMemory!==e&&cn.logForDevIdDiff({msg:"diff_with_pageFirstLoad",moreInfo:{devId:e,devIdMemory:cn.devIdMemory}}):cn.devIdMemory=e},Pr=function(){var e=ze(Be().mark((function e(){var t,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u()){e.next=3;break}return r=Le.get(it),e.abrupt("return",r);case 3:if(!Me.isApp||null===(t=window)||void 0===t||!t.jsbridge){e.next=8;break}return e.next=6,window.jsbridge.getDeviceID();case 6:return r=e.sent,e.abrupt("return",r);case 8:return r=jr(),Or(r),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Tr={getDevId:Pr,getDeviceId:jr,setDeviceId:Cr};function Lr(e){var t="function"==typeof Map?new Map:void 0;return Lr=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(Je){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(d())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&h(o,r.prototype),o}(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)},Lr(e)}var Nr=function(e){function t(e,r){var n;return s(this,t),(n=g(this,t,[e])).name=n.constructor.name,n.detail=r,Error.captureStackTrace&&Error.captureStackTrace(n,n.constructor),zt({msg:e,errInfo:n}),n}return y(t,e),f(t)}(Lr(Error)),Dr=function(e){var t=String.fromCharCode.apply(String,G(new Uint8Array(e)));return btoa(t)},Rr=function(e){for(var t=atob(e),r=new ArrayBuffer(t.length),n=new Uint8Array(r),o=0,i=t.length;o<i;o++)n[o]=t.charCodeAt(o);return r},Kr={name:"ECDSA",namedCurve:"P-256"};const Ur={ECDSA_CONFIG:Kr,generateKeyPair:function(){var e=ze(Be().mark((function e(){var t,r,n,o,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,crypto.subtle.generateKey(Kr,!0,["sign","verify"]);case 3:return t=e.sent,e.next=6,crypto.subtle.exportKey("spki",t.publicKey);case 6:return r=e.sent,n=Dr(r),e.next=10,crypto.subtle.exportKey("pkcs8",t.privateKey);case 10:return o=e.sent,i=Dr(o),yn.jsMemory.privateKey=t.privateKey,e.abrupt("return",{privateKey:i,publicKey:n});case 16:throw e.prev=16,e.t0=e.catch(0),new Nr({msg:"common.generateKeyPair"});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),getSignature:function(){var e=ze(Be().mark((function e(t){var r,n,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.content,n=t.privateKey,e.prev=1,e.next=4,crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,(new TextEncoder).encode(r));case 4:return o=e.sent,e.abrupt("return","{P1363}".concat(Dr(o)));case 8:throw e.prev=8,e.t0=e.catch(1),new Nr("common.getSi",{priKey:n});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};r(198),r(817),H();var Fr=H(),Mr="object"===typeof r.g&&null!==r.g&&r.g.Object===Object&&r.g,Br="object"===typeof Fr&&null!==Fr&&Fr.Object===Object&&Fr,Vr="object"===typeof self&&null!==self&&self.Object===Object&&self;Br||Mr||Vr||Function("return this")();function zr(e,t,r){var n,o,i=Me||{},a=i.locale,s=i.ipRegion,l=i.envSign,f=i.langPath,p=i.userAgent,d=i.site;!function(e,t){var r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n",a=!u()&&(null===(r=window)||void 0===r||null===(n=r.location)||void 0===n?void 0:n.pathname)||"",s="".concat(i," -- ").concat(a?"".concat(e," -- ").concat(a):e);t&&(s="".concat(s," -- ").concat(t));var l="object"===typeof t&&null!==t&&void 0!==t&&t.devid?t.devid:!u()&&(null===(o=localStorage)||void 0===o?void 0:o.devid)||"";he.info(s,{message:c(c({},t),{},{devid:l}),customConfig:{error:{type:e},project:{id:243,token:"2b65098fbd898b1419f8241753fbf146"}}})}(e,{project:null===Fr||void 0===Fr||null===(n=Fr.__INIT_STATE__)||void 0===n||null===(o=n.appContext)||void 0===o?void 0:o.project,locale:a,ipRegion:s,envSign:l,langPath:f,userAgent:p,site:d,message:r},t)}const qr=new(f((function e(){var t=this;s(this,e),this.remove=function(e,r){var n=t.slist[e];n&&r&&n.forEach((function(e,t){e.id===r&&n.splice(t,1)}))},this.listen=function(e,r,n){if("function"!==typeof r)return null;t.slist[e]||(t.slist[e]=[]);var o="".concat(e).concat(t.slist[e].length);return t.slist[e].push({id:o,fn:r,once:n,count:0}),{id:o,remove:function(){t.remove(e,o)}}},this.trigger=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var i=t.slist[e];i&&0!==i.length&&i.forEach((function(r){var o=r,i=o.id,a=o.fn,c=o.once;a&&(a.apply(t,n),o.count++,c&&t.remove(e,i))}))},this.slist=function(){if(u())return{};var e=H();return e._global_subscribe_list||(e._global_subscribe_list={}),e._global_subscribe_list}()})));var Wr=new(function(){return f((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;s(this,e),this.cache=new Map,this.keysIndex=0,this.keys=Array.from(new Array(t))}),[{key:"delete",value:function(e){this.keys=this.keys.map((function(t){return t===e?void 0:t})),this.keysIndex=(this.keysIndex-1)%this.keys.length,this.cache.delete(e)}},{key:"clear",value:function(){this.cache.clear(),this.keys.fill(void 0),this.keysIndex=0}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){if(!this.keys.includes(e)){var r=this.keys[this.keysIndex];void 0!==r&&this.cache.delete(r),this.keys[this.keysIndex]=e,this.keysIndex=(this.keysIndex+1)%this.keys.length}this.cache.set(e,t)}}])}()),$r="ok-storagemutated",Jr="ok-storagemutated-1",Gr=new Map;var Xr=H();function Hr(e){var t=e.data;t&&t.type===Jr&&qr.trigger($r,t.changedParts)}function Zr(e,t){return Object.entries(t).every((function(t){var r=Wt(t,2),n=r[0],o=r[1];return function(e,t,r){switch(t){case"$eq":return e===r;case"$ne":return e!==r;case"$gt":return e>r;case"$lt":return e<r;case"$gte":return e>=r;case"$lte":return e<=r;case"$in":return Array.isArray(r)&&r.includes(e);default:throw new Error("Unsupported operator: ".concat(t))}}(e,n,o)}))}function Qr(e,t,r){return"object"===typeof r?Zr(e[t],r):e[t]===r}function Yr(e,t,r){return function(e,t){return t?e.sort((function(e,r){for(var n=Object.entries(t),o=0;o<n.length;o++){var i=Wt(n[o],2),a=i[0],c=i[1];if(e[a]<r[a])return-c;if(e[a]>r[a])return c}return 0})):e}(e.filter((function(e){return function(e,t){for(var r,n,o=[],i=Object.entries(t),a=0;a<i.length;a++){var c=Wt(i[a],2),u=c[0],s=c[1];"$or"===u?r=s:"$where"===u?n=t:o.push([u,s])}return!(n&&!function(e,t){return t.$where(e)}(e,n))&&(!(r&&!r.some((function(t){return Object.entries(t).every((function(t){var r=Wt(t,2),n=r[0],o=r[1];return Qr(e,n,o)}))})))&&o.every((function(t){var r=Wt(t,2),n=r[0],o=r[1];return Qr(e,n,o)})))}(e,t)})),r)}function en(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var tn="idb",rn=new(function(){return f((function e(){s(this,e),this.queue=[],this.isProcessing=!1}),[{key:"enqueue",value:function(){var e=ze(Be().mark((function e(t){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){r.queue.push({fn:t,resolve:e,reject:n}),r.isProcessing||r.processQueue()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"processQueue",value:function(){var e=ze(Be().mark((function e(){var t,r,n,o,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.queue.length){e.next=3;break}return this.isProcessing=!1,e.abrupt("return");case 3:return this.isProcessing=!0,t=this.queue.shift(),r=t.fn,n=t.resolve,o=t.reject,e.prev=5,e.next=8,r();case 8:i=e.sent,n(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),o(e.t0);case 15:return e.next=17,this.processQueue();case 17:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(){return e.apply(this,arguments)}}()}])}()),nn=function(){return f((function e(t){var r=t.storeName,n=t.indices,o=t.options,i=t.db,a=t.enableCache;s(this,e),this.db=i,this.storeName=r,this.indices=null!==n&&void 0!==n?n:[],this.options=o,this.enableCache=null===a||void 0===a||a,this.storeExist=!1}),[{key:"createIndex",value:function(e,t,r){var n;if(u())return!1;if(!this.db.autoVersion)throw new Error("Can not create index dynamically when version is set");var o={indexName:e,keyPath:t,options:null!==r&&void 0!==r?r:{}};this.db.setVersion(this.db.vero+1);var i=this.db.storesConfig[this.storeName];return!!i&&(null!==(n=i.indices)&&void 0!==n&&n.length||(i.indices=[]),i.indices.push(o),this.indices.push(o),!0)}},{key:"getPrimaryKey",value:function(){var e,t;return"string"===typeof(null===(e=this.options)||void 0===e?void 0:e.keyPath)?null===(t=this.options)||void 0===t?void 0:t.keyPath:""}},{key:"performSpecialQuery",value:function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(r=this.indices,n=this.getPrimaryKey(),o=t?[n].concat(G(r.map((function(e){return"string"===typeof e.keyPath?e.keyPath:""})))).find((function(e){return e&&Object.hasOwn(t,e)})):void 0,!o){e.next=22;break}if(i=t[o],a="object"===typeof i&&"$in"in i,"string"!==typeof i&&"number"!==typeof i&&!a){e.next=22;break}if(o!==n){e.next=15;break}return e.t0=o,e.next=13,this.get(a?i.$in:[i]);case 13:return e.t1=e.sent,e.abrupt("return",{key:e.t0,data:e.t1});case 15:if(!(c=r.find((function(e){return e.keyPath===o})))){e.next=22;break}return e.t2=o,e.next=20,this.getAllFromIndex(c.indexName,a?i.$in:i);case 20:return e.t3=e.sent,e.abrupt("return",{key:e.t2,data:e.t3});case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheData",value:function(e){if(!this.enableCache)return null;var t=this.db.dbInfo.dbName,r="".concat(t,"_").concat(this.storeName,"_").concat(e);return Wr.get(r)}},{key:"setCacheData",value:function(e,t){if(this.enableCache){var r=this.db.dbInfo.dbName;Wr.set("".concat(r,"_").concat(this.storeName,"_").concat(e),t)}}},{key:"getApi",value:function(){var e=ze(Be().mark((function e(t,r){var n,o,i,a=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u()){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,this.db.basicOpenStore("get",this.storeName);case 4:return n=e.sent,o=n.transaction,i=n.store,this.transaction=o,this.store=i,e.abrupt("return",new Promise((function(e,n){var i,c=Array.isArray(r),u=t(),s=c?r:[r],l=[];(c?u:[u]).forEach((function(e,t){var r=s[t];e.onsuccess=function(){i=e.result;var t=e.source.keyPath;r&&(a.getPrimaryKey()&&t===a.getPrimaryKey()&&i&&a.setCacheData(r,i));i&&(Array.isArray(i)?l.push(G(i)):l.push(i))}})),o.oncomplete=function(){var t;null===(t=a.db.db)||void 0===t||t.close(),a.db.versionChange&&(a.db.versionChange=!1),e(c?l:l[0])},o.onerror=function(e){var t,r,o=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)||{},i=o.name,c=o.message;zr("".concat(tn,"-getDB-catch-err"),tn,"".concat(i,": ").concat(c)),null===(r=a.db.db)||void 0===r||r.close(),n(e)}})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getFromIndex",value:function(){var e=ze(Be().mark((function e(t,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getAllFromIndex(t,r,!1));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAllFromIndex",value:function(){var e=ze(Be().mark((function e(t,r){var n,o=this,i=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>2&&void 0!==i[2])||i[2],e.abrupt("return",this.baseGet(r,(function(e){var r=o.store.index(t);return n?r.getAll(e):r.get(e)}),(function(){return null})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=ze(Be().mark((function e(t){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.baseGet(t,(function(e){return r.store.get(e)}),(function(e){return r.getCacheData(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuery",value:function(e){var t=this;return function(e,t){var r,n,o=!1;return{subscribe:function(i){function a(){return c.apply(this,arguments)}function c(){return(c=ze(Be().mark((function t(){var a;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!r){t.next=7;break}return t.next=4,r;case 4:a=t.sent,t.next=12;break;case 7:return r=e(),t.next=10,r;case 10:a=t.sent,r=null;case 12:o=!0,n=a,i(a,null),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),i(null,t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}o&&i(n,null),a();var u=qr.listen($r,(function(e){e===t&&a()}),!1);return{unsubscribe:function(){null===u||void 0===u||u.remove()}}},hasValue:function(){return o},getValue:function(){return n}}}((function(){return t.query(e)}),this.getQueryRange())}},{key:"query",value:function(){var e=ze(Be().mark((function e(t){var r,n,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performSpecialQuery(t);case 2:if(!(r=e.sent)){e.next=7;break}return delete(n=c({},t))[r.key],e.abrupt("return",Yr(r.data,n));case 7:return e.next=9,this.getAll();case 9:if(o=e.sent,!t){e.next=12;break}return e.abrupt("return",Yr(o,t));case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=ze(Be().mark((function e(t,r){var n=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn.enqueue((function(){return n.getApi((function(){return n.store.getAll(t,r)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=ze(Be().mark((function e(t){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn.enqueue((function(){return r.getApi((function(){return r.store.getKey(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllKeys",value:function(){var e=ze(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn.enqueue((function(){return t.getApi((function(){return t.store.getAllKeys()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"count",value:function(){var e=ze(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn.enqueue((function(){return t.getApi((function(){return t.store.count()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onMutate",value:function(){!function(e){Gr.set(e,!0);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];qr.trigger.apply(qr,[e].concat(r)),Gr.set(e,!1)}($r,this.getQueryRange())}},{key:"baseGet",value:function(){var e=ze(Be().mark((function e(t,r,n){var o,i,a,c,u,s,l=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Array.isArray(t),i=[],!o){e.next=10;break}if(c=G(t),t.forEach((function(e,t){var r=n(e);r&&(Array.isArray(r)?i.push.apply(i,G(r)):i.push(r),c.splice(t,1))})),0!==c.length){e.next=7;break}return e.abrupt("return",i);case 7:a=c,e.next=15;break;case 10:if(!t){e.next=14;break}if(!(u=n(t))){e.next=14;break}return e.abrupt("return",u);case 14:a=t;case 15:return e.next=17,rn.enqueue((function(){return l.getApi((function(){return o?a.map((function(e){return r(e)})):r(a)}),a)}));case 17:if(s=e.sent,!o){e.next=20;break}return e.abrupt("return",i.concat(s));case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setApi",value:function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c=this,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(s.length>1&&void 0!==s[1]?s[1]:{}).silent,n=void 0!==r&&r,!u()){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,this.db.basicOpenStore("set",this.storeName);case 5:return o=e.sent,i=o.transaction,a=o.store,this.transaction=i,this.store=a,e.abrupt("return",new Promise(function(){var e=ze(Be().mark((function e(r,o){var i,a,u,s,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){en(e)},e.next=3,t();case 3:if(a=e.sent){e.next=8;break}return null===(u=c.db.db)||void 0===u||u.close(),o(!1),e.abrupt("return");case 8:s=a.request,Array.isArray(s)?(s.forEach((function(e){e.onerror=i})),l=s[s.length-1]):l=s,l.onsuccess=function(){var e;c.db.versionChange&&(c.db.versionChange=!1),null===(e=c.db.db)||void 0===e||e.close(),r(!0),n||c.onMutate()},l.onerror=function(e){var t,r,n=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)||{},i=n.name,a=n.message;zr("".concat(tn,"-setDB-catch-err"),tn,"".concat(i,": ").concat(a)),o(!1),null===(r=c.db.db)||void 0===r||r.close()};case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u,s=this,l=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=l.length>1&&void 0!==l[1]?l[1]:{}).clear,o=void 0!==n&&n,i=r.silent,a=void 0!==i&&i,c=this.getPrimaryKey(),u=function(e){if(c){var r=t[c];r&&s.setCacheData(r,e)}},e.abrupt("return",rn.enqueue((function(){return s.setApi((function(){return new Promise((function(e){var r=function(){if(Array.isArray(t)){var r=t.map((function(e){return u(e),s.store.put(e)}));return s.enableCache&&Wr.clear(),void e({request:r,method:"set"})}u(t),e({request:s.store.put(t),method:"set"})};if(o){var n=s.store.clear();n.onsuccess=function(){r()},n.onerror=function(){e(null)}}else r()}))}),{silent:a})})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ze(Be().mark((function e(t){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn.enqueue((function(){return r.setApi((function(){return{request:(Array.isArray(t)?t:[t]).map((function(e){return r.enableCache&&Wr.delete("".concat(r.db.dbInfo.dbName,"_").concat(r.storeName,"_").concat(e)),r.store.delete(e)})),method:"delete"}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryRange",value:function(){return[this.db.dbInfo.dbName,this.storeName].join("_")}},{key:"clear",value:function(){var e=ze(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rn.enqueue((function(){return t.setApi((function(){return t.enableCache&&Wr.clear(),{request:t.store.clear(),method:"clear"}}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteStore",value:function(){var e=ze(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",this.db.deleteStore(t));case 2:return e.abrupt("return",this.db.deleteStore(this.storeName));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openStore",value:function(e,t){return this.db.openStore(e,t)}},{key:"getInstance",value:function(){var e=this;return new Promise((function(t,r){var n=indexedDB.open(e.db.dbName);n.onsuccess=function(){var r,o,i=null===n||void 0===n?void 0:n.result,a=null===i||void 0===i?void 0:i.version,c=null===i||void 0===i||null===(r=i.objectStoreNames)||void 0===r||null===(o=r.contains)||void 0===o?void 0:o.call(r,e.storeName);e.storeExist=c,e.db.autoVersion&&(e.db.vero=a+1,c||e.db.setVersion(a+1)),null===i||void 0===i||i.close(),t(e)},n.onerror=function(e){var t;r(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)}}))}},{key:"setVersion",value:function(e){this.db.setVersion(e)}},{key:"basicOpenStore",value:function(e,t){return this.db.basicOpenStore(e,t)}}])}(),on="idb";!function(){if(!u())if("undefined"!==typeof BroadcastChannel){var e=new BroadcastChannel(Jr);qr.listen($r,(function(t){Gr.get($r)&&e.postMessage(t)}),!1),e.onmessage=function(e){null!==e&&void 0!==e&&e.data&&(Wr.clear(),qr.trigger($r,e.data))}}else if("undefined"!==typeof Xr&&"undefined"!==typeof navigator){qr.listen($r,(function(e){"undefined"!==typeof localStorage&&Gr.get($r)&&localStorage.setItem(Jr,JSON.stringify({trig:Math.random(),type:Jr,changedParts:e})),"object"===typeof(null===Xr||void 0===Xr?void 0:Xr.clients)&&G(null===Xr||void 0===Xr?void 0:Xr.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){t.postMessage({type:Jr,changedParts:e})}))}),!1),"undefined"!==typeof(null===Xr||void 0===Xr?void 0:Xr.addEventListener)&&(null===Xr||void 0===Xr||Xr.addEventListener("storage",(function(e){if(e.key===Jr){var t=JSON.parse(e.newValue);t&&Hr({data:t})}})));var t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",Hr)}}();const an=function(){function e(t){s(this,e);var r="string"===typeof t?{dbName:t,config:{}}:"object"===typeof t?t:{},n=r.dbName,o=r.config,i=r.version;this.dbInfo={dbName:null!==n&&void 0!==n?n:"FE",indexInfo:[],options:{}},this.dbName="OK_".concat(this.dbInfo.dbName.toUpperCase()),this.db={},this.store={},this.stores=new Map,this.transaction={},this.storesConfig=null!==o&&void 0!==o?o:{},this.versionChange=!1,this.dbData={},this.autoVersion="undefined"===typeof i,this.vero=null!==i&&void 0!==i?i:1,this.storeExist=!1,this.initStores()}return f(e,[{key:"initStores",value:function(){var e=this;Object.keys(this.storesConfig).forEach((function(t){var r=e.storesConfig[t],n=r.indices,o=r.options;e.stores.has(t)||e.stores.set(t,new nn({storeName:t,indices:n,options:o,db:e}))}))}},{key:"setVersion",value:function(e){this.versionChange=!0,this.vero=e}},{key:"basicOpenStore",value:function(e,t){var r=this,n=this.versionChange;return new Promise((function(o,i){var a;if(n||!r.autoVersion){var c=r.vero;a=indexedDB.open(r.dbName,c)}else a=indexedDB.open(r.dbName);a.onupgradeneeded=function(e){try{var t,n,o=e.target,i=null===(t=a)||void 0===t?void 0:t.result;if(r.db=i,Object.keys(r.storesConfig).forEach((function(e){var t=r.storesConfig[e],a=t.options,c=t.indices;if(i.objectStoreNames.contains(e)){var u=o.transaction;n=u.objectStore(e)}else n=i.createObjectStore(e,a);null===c||void 0===c||c.forEach((function(e){var t=e.indexName,r=e.keyPath,o=e.options;n.indexNames.contains(t)||n.createIndex(t,r,o)}));for(var s=function(){var e=n.indexNames[l];null!==c&&void 0!==c&&c.find((function(t){return t.indexName===e}))||n.deleteIndex(e)},l=0;l<n.indexNames.length;l++)s()})),!r.autoVersion)for(var c=function(){var e=i.objectStoreNames[u];Object.keys(r.storesConfig).find((function(t){return t===e}))||i.deleteObjectStore(e)},u=0;u<i.objectStoreNames.length;u++)c()}catch(p){var s=p||{},l=s.name,f=s.message;zr("".concat(on,"-openDB-catch-err-in-upgrade"),on,"".concat(l,": ").concat(f))}},a.onsuccess=function(){try{var n,c=null===(n=a)||void 0===n?void 0:n.result;if(r.db=c,t){var u="get"===e?"readonly":"readwrite",s=c.transaction(t,u),l=s.objectStore(t);o({store:l,transaction:s})}else o({store:null,transaction:null})}catch(v){var f=v||{},p=f.name,d=f.message;zr("".concat(on,"-openDB-catch-err-in-success"),on,"".concat(p,": ").concat(d)),i(d)}},a.onerror=function(){var e,t,n,o=(null===(e=a)||void 0===e?void 0:e.error)||{},c=o.name,u=o.message;null!==u&&void 0!==u&&null!==(t=u.includes)&&void 0!==t&&t.call(u,"The connection was closed")||zr("".concat(on,"-openDB-catch-err-in-error"),on,"".concat(c,": ").concat(u)),null!==u&&void 0!==u&&null!==(n=u.includes)&&void 0!==n&&n.call(u,"less than the existing version")?(indexedDB.deleteDatabase(r.dbName),i(new Error("".concat(u," Please reload the page!")))):i(u)},a.onblocked=function(){var e,t=(null===(e=a)||void 0===e?void 0:e.error)||{},r=t.name,n=t.message;zr("".concat(on,"-openDB-catch-block"),on,"".concat(r,": ").concat(n)),i(new Error("Database is outdated, please reload the page!"))}}))}},{key:"openStore",value:function(){var e=ze(Be().mark((function e(t,r){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.stores.has(t)){e.next=2;break}return e.abrupt("return",this.stores.get(t));case 2:return this.storesConfig[t]={options:r},this.initStores(),n=this.stores.get(t),e.abrupt("return",n.getInstance());case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteStore",value:function(e){var t=this;return!u()&&new Promise((function(r,n){if(t.stores.get(e)){var o=t.stores.get(e);delete t.storesConfig[e],t.stores.delete(e),o.getInstance().then((function(o){if(o.storeExist){var i=indexedDB.open(t.dbName,t.vero);i.onupgradeneeded=function(){var t,n=null===i||void 0===i?void 0:i.result;null===n||void 0===n||null===(t=n.deleteObjectStore)||void 0===t||t.call(n,e),null===n||void 0===n||n.close(),r(!0)},i.onerror=function(e){var t=null===i||void 0===i?void 0:i.result;null===t||void 0===t||t.close(),n(e)}}})).catch((function(e){n(e)}))}}))}}],[{key:"deleteDb",value:function(){var e=ze(Be().mark((function e(t){var r,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:if("string"!==typeof t){e.next=7;break}if("OK_FE"!==(r="OK_".concat(t.toUpperCase()))){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",new Promise((function(e,t){var n=indexedDB.deleteDatabase(r);n.onsuccess=function(){e(!0)},n.onerror=function(e){t(e)}})));case 7:if(!Array.isArray(t)){e.next=10;break}return n=t.map((function(e){var t="OK_".concat(e.toUpperCase());return"OK_FE"===t||new Promise((function(e,r){var n=indexedDB.deleteDatabase(t);n.onsuccess=function(){e(!0)},n.onerror=function(e){r(e)}}))})),e.abrupt("return",Promise.all(n).then((function(e){return e.every((function(e){return!0===e}))})));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"openStore",value:function(){var t=ze(Be().mark((function t(r,n){var o;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new e,t.abrupt("return",o.openStore(r,n));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}])}();var cn=new(f((function e(){var t=this;s(this,e),i(this,"STORAGE_KEY","lastLocation"),i(this,"LOCATIONS",{PCA:"PCA",LS:"LS"}),i(this,"devIdMemory",void 0),i(this,"setLastLocation",(function(e){W.set(t.STORAGE_KEY,e)})),i(this,"getLastLocation",(function(){return W.get(t.STORAGE_KEY)})),i(this,"saveLogInDB",function(){var e=ze(Be().mark((function e(t){var r,n,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,n=t.value,e.prev=1,e.next=4,an.openStore("ont",{keyPath:"id"});case 4:return o=e.sent,e.next=7,o.set({id:r,value:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),zt({msg:"err:DB_unavailable"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),i(this,"logForDevIdDiff",function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.msg,n=t.moreInfo,e.prev=1,o=Le.get(it),i=localStorage.getItem(lt),e.next=6,an.openStore("ont",{keyPath:"id"});case 6:return a=e.sent,e.next=9,a.get("devId");case 9:u=e.sent,zt({msg:"devIdChange:".concat(r),errInfo:c(c({},n),{},{devIdInCok:o,devIdInLS:i,devIdInDB:u})}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(1);case 15:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())})));const un={saveKeyPair:function(){var e=ze(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.pcClient.pca.setItem(ct,t.privateKey);case 3:return e.next=5,window.pcClient.pca.setItem(ut,t.publicKey);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),zt({msg:"clientSaveKeyPair"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};var sn={privateKey:void 0},ln=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u,s,l,f,p,d,v,g;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.version,n=t.isEncrypt,e.prev=1,e.next=4,Sr({version:r});case 4:o=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Nr("getAesKey.getFingerprint");case 10:return a=(i=o).secretKey,c=i.version,u=i.latestVersion,s=i.rawKey,e.next=13,crypto.subtle.importKey("raw",a,"AES-GCM",!0,["encrypt","decrypt"]);case 13:return l=e.sent,n?(W.set(bt,btoa(s)),f=navigator,p=f.deviceMemory,d=f.hardwareConcurrency,v=f.maxTouchPoints,g={deviceMemory:p,hardwareConcurrency:d,maxTouchPoints:v},W.set(xt,JSON.stringify(g))):W.set(mt,btoa(s)),e.abrupt("return",{aesKey:l,secretKeyVersion:c,latestVersion:u});case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),fn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rawPrivateKey,n=t.isUpdate,e.next=3,ln({isEncrypt:!0});case 3:if(o=e.sent,i=o.aesKey,a=o.secretKeyVersion,!n||a!==W.get(yt)){e.next=8;break}return e.abrupt("return",!1);case 8:return c=crypto.getRandomValues(new Uint8Array(12)),e.next=11,crypto.subtle.encrypt({name:"AES-GCM",iv:c},i,Rr(r));case 11:return u=e.sent,e.abrupt("return",{secretKeyVersion:a,iv:btoa(c),encryptedPrivateKey:Dr(u)});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pn=function(e){var t=e.ivInLS,r=e.encryptedPrivateKey,n=e.secretKeyVersion,o=W.get(bt);if(o){var i=atob(o),a=navigator,c={deviceMemory:a.deviceMemory,hardwareConcurrency:a.hardwareConcurrency,maxTouchPoints:a.maxTouchPoints},u={iv:t,encryptedPrivateKey:Dr(r),encryptFingerprint:i,decryptFingerprintInLS:atob(W.get(mt)),wasmVersion:n,navEn:W.get(xt),navDe:JSON.stringify(c)};return{msg:"decryptPriKey.wasm=".concat(n),detail:u}}return{msg:"decryptPriKey.noEnFingerprint",detail:{wasmVersion:n}}},dn=function(){var e=ze(Be().mark((function e(){var t,r,n,o,i,a,c,u,s,l,f;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={iv:new Uint8Array(atob(W.get(ht)).split(",")),secretKeyVersion:W.get(yt),encryptedPrivateKey:Rr(W.get(vt))},r=t.secretKeyVersion,n=t.iv,o=t.encryptedPrivateKey,e.next=3,ln({version:r});case 3:return i=e.sent,e.prev=4,a=i.aesKey,c=i.latestVersion,e.next=9,crypto.subtle.decrypt({name:"AES-GCM",iv:n},a,o);case 9:if(u=e.sent,!(r!==c)){e.next=14;break}return e.next=14,fn({rawPrivateKey:u,isUpdate:!0});case 14:return e.abrupt("return",u);case 17:throw e.prev=17,e.t0=e.catch(4),s=pn({ivInLS:W.get(ht),encryptedPrivateKey:o,secretKeyVersion:r}),l=s.msg,f=s.detail,new Nr(l,f);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),vn=function(){var e=ze(Be().mark((function e(){var t,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sn.privateKey){e.next=2;break}return e.abrupt("return",sn.privateKey);case 2:return e.next=4,dn();case 4:return t=e.sent,e.next=7,crypto.subtle.importKey("pkcs8",t,Ur.ECDSA_CONFIG,!1,["sign"]);case 7:return r=e.sent,sn.privateKey=r,e.abrupt("return",{privateKey:r,rawPrivateKey:t});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn({rawPrivateKey:t});case 2:r=e.sent,n=r.secretKeyVersion,o=r.iv,i=r.encryptedPrivateKey,W.set(yt,n),W.set(ht,o),W.set(wt,t),W.set(vt,i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hn=function(){var e=ze(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gn(t.privateKey);case 2:W.set(gt,t.publicKey);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const yn={getPublicKey:function(){var e=ze(Be().mark((function e(){var t,r,n,o,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,vn();case 4:r=e.sent,n=r.rawPrivateKey,t={privateKey:Dr(n),publicKey:W.get(gt)},e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,Ur.generateKeyPair();case 13:return t=e.sent,e.next=16,hn(t);case 16:return rt()&&un.saveKeyPair(t),o=W.get(gt),e.next=20,Tr.getDevId();case 20:return i=e.sent,W.set(dt,i),cn.saveLogInDB({key:"loginPublicKey",value:"web_".concat(o)}),zt({msg:"success:web.getPubKey"}),e.abrupt("return",o);case 25:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getSignature:function(){var e=ze(Be().mark((function e(t){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sn.privateKey){e.next=6;break}if(W.get(vt)){e.next=4;break}throw new Nr("noPriKeyInLS");case 4:return e.next=6,vn();case 6:return e.next=8,Ur.getSignature({content:t,privateKey:sn.privateKey});case 8:return r=e.sent,zt({msg:"success:web.getSi"}),cn.setLastLocation(cn.LOCATIONS.LS),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jsMemory:sn};var bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requestUrl,r=e.fetchConfig,n=Date.now(),o=t;try{var i=new URL(t);o=i.pathname+i.search}catch(qe){}var a=o.replace("?","");if(["post","put"].includes(r.method)){o=o.split("?")[0];var c=r.body;if(c instanceof FormData){var u=JSON.stringify(Object.fromEntries(c));a="".concat(o,"{").concat(u,"}")}else a="".concat(o).concat(c)}return{timestamp:n,contentForSign:a+=n}},mn=function(){var e=ze(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Me.isApp){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,yn.getPublicKey();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),zt({msg:"err:getPubKey",errInfo:e.t0}),e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),wn=function(){var e=ze(Be().mark((function e(t){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.getSignature(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xn={getPublicKey:mn,getSignature:function(){var e=ze(Be().mark((function e(){var t,r,n,o,i,a,c,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=s.length>0&&void 0!==s[0]?s[0]:{}).requestUrl,n=void 0===r?"":r,o=t.fetchConfig,a=bn({requestUrl:n,fetchConfig:void 0===o?{method:"GET"}:o}),c=a.timestamp,u=a.contentForSign,e.prev=2,e.next=5,wn(u);case 5:i=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),zt({msg:"err:getSi",errInfo:e.t0,extra:{s1:e.t0.message}});case 11:return e.abrupt("return",{signature:i,timestamp:c});case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),getSignatureByContent:wn},kn=function(e){if(!(Le.get(e)||localStorage.getItem(e)))switch(e){case"ok-helper-domain":localStorage.setItem(e,window.location.hostname);break;case"ok_prefer_number":localStorage.setItem(e,Date.now())}return Le.get(e)||localStorage.getItem(e)},_n=function(){var e=ze(Be().mark((function e(){var t,r,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.gpu){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,navigator.gpu.requestAdapter();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return","");case 7:return e.prev=7,e.next=10,null===(r=t.requestAdapterInfo)||void 0===r?void 0:r.call(t);case 10:if(e.t0=e.sent,e.t0){e.next=13;break}e.t0=t.info;case 13:return n=e.t0,e.abrupt("return",JSON.stringify({architecture:n.architecture,description:n.description,device:n.device,vendor:n.vendor}));case 17:return e.prev=17,e.t1=e.catch(7),zt({msg:"err:getGPUInfo",errInfo:e.t1}),e.abrupt("return","");case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(){return e.apply(this,arguments)}}(),Sn=function(){var e=ze(Be().mark((function e(){var t,r,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t={},navigator)t[r]=navigator[r];return e.next=4,_n();case 4:return t.gpu=e.sent,n=JSON.stringify(t),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),In=function(){var e=ze(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),An=function(e){return sessionStorage.getItem(e)||window[e]},En=0,Cn=function(e,t){delete window[t],document.head.removeChild(e)};const jn={ar_EH:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0634\u0628\u0643\u0629. \u064a\u064f\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0648\u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",cs_CZ:"Chyba s\xedt\u011b. Zkontrolujte pros\xedm a zkuste to znovu.",de_DE:"Netzwerkfehler. Bitte pr\xfcfen und erneut versuchen",en_US:"Network error. Check and try again later.",en:"Network error. Check and try again later.",es_419:"Hubo un error de red. Comprueba tu conexi\xf3n e int\xe9ntalo de nuevo",es_ES:"Error de red. Comprueba tu conexi\xf3n e int\xe9ntalo de nuevo",fr_FR:"Erreur r\xe9seau, veuillez v\xe9rifier et r\xe9essayer",id_ID:"Jaringan error, silakan periksa dan coba lagi",it_IT:"Errore di rete; controlla e riprova",nl_NL:"Netwerk is abnormaal, controleer en probeer opnieuw",pl_PL:"B\u0142\u0105d sieci; sprawd\u017a i spr\xf3buj ponownie",pt_BR:"Erro de rede. Verifique e tente novamente",pt_PT:"Erro de rede. Verifique e tente novamente",ro_RO:"Eroare de re\u021bea, verifica\u021bi \u0219i \xeencerca\u021bi din nou",ru_RU:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443",tr_TR:"A\u011f hatas\u0131, l\xfctfen kontrol edip tekrar deneyin!",uk_UA:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043c\u0435\u0440\u0435\u0436\u0456, \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0439 \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443",vi_VN:"L\u1ed7i m\u1ea1ng, vui l\xf2ng ki\u1ec3m tra v\xe0 th\u1eed l\u1ea1i",zh_CN:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8bd5",zh_TW:"\u7db2\u7d61\u7570\u5e38\uff0c\u8acb\u6aa2\u67e5\u5f8c\u518d\u8a66"};const On={ar_EH:"\u0627\u0644\u062e\u0627\u062f\u0645 \u0645\u0634\u063a\u0648\u0644 \u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u064b\u0627",cs_CZ:"Server je zanepr\xe1zdn\u011bn. Zkuste to pros\xedm znovu pozd\u011bji.",de_DE:"Der Server ist \xfcberlastet. Versuchen Sie es sp\xe4ter erneut",en_US:"Server is busy. Try again later.",en:"Server is busy. Try again later.",es_419:"El servidor est\xe1 ocupado. Vuelve a intentarlo m\xe1s tarde.",es_ES:"El servidor est\xe1 ocupado. Int\xe9ntalo de nuevo m\xe1s tarde.",fr_FR:"Le serveur est occup\xe9, veuillez r\xe9essayer ult\xe9rieurement",id_ID:"Server sedang sibuk, silakan coba lagi nanti",it_IT:"Il server \xe8 occupato, riprova pi\xf9 tardi",nl_NL:"Server is bezet, probeer het later opnieuw",pl_PL:"Serwer jest zaj\u0119ty. Spr\xf3buj ponownie p\xf3\u017aniej",pt_BR:"Servidor ocupado. Tente novamente mais tarde.",pt_PT:"Servidor ocupado. Tente novamente mais tarde",ro_RO:"Serverul este ocupat, \xeencerca\u021bi din nou mai t\xe2rziu",ru_RU:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0436\u0435\u043d. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",tr_TR:"Sunucu me\u015fgul, l\xfctfen daha sonra tekrar deneyin.",uk_UA:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0438\u0439, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0456\u0437\u043d\u0456\u0448\u0435",vi_VN:"M\xe1y ch\u1ee7 \u0111ang b\u1eadn, vui l\xf2ng th\u1eed l\u1ea1i sau",zh_CN:"\u670d\u52a1\u5668\u7e41\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",zh_TW:"\u4f3a\u670d\u5668\u5fd9\u788c\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66"};const Pn=function(e){var t=e/1e3;return{ar_EH:"\u0627\u0646\u062a\u0647\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0634\u0628\u0643\u0629\u060c \u062a\u062e\u0637\u0649 \u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631 ".concat(t," \u0645\u0646 \u0627\u0644\u062b\u0648\u0627\u0646\u064a"),cs_CZ:"Vypr\u0161el \u010dasov\xfd limit s\xed\u0165ov\xe9ho p\u0159ipojen\xed \u2013 doba \u010dek\xe1n\xed p\u0159ekro\u010dila ".concat(t," s."),de_DE:"Netzwerkverbindung wurde unterbrochen, die Wartezeit hat ".concat(t," Sekunden \xfcberschritten"),en_US:"Network connection timed out. The wait time has exceeded ".concat(t," seconds."),en:"Network connection timed out, wait time has exceeded ".concat(t," seconds"),es_419:"Se agot\xf3 el tiempo de conexi\xf3n de la red (".concat(t,"\xa0segundos)"),es_ES:"La conexi\xf3n de red ha superado el tiempo de espera (ha superado los ".concat(t," segundos)"),fr_FR:"La connexion au r\xe9seau a expir\xe9, le temps d'attente a d\xe9pass\xe9 ".concat(t,"\xa0secondes"),id_ID:"Batas waktu koneksi jaringan habis, waktu tunggu telah melebihi ".concat(t," detik"),it_IT:"La connessione di rete \xe8 scaduta; il tempo d'attesa ha superato i ".concat(t," secondi"),nl_NL:"Netwerkverbinding verbroken, de wachttijd is langer dan ".concat(t," seconden"),pl_PL:"Po\u0142\u0105czenie sieciowe przekroczy\u0142o limit czasu, czas oczekiwania przekroczy\u0142 ".concat(t," sekund"),pt_BR:"A conex\xe3o de rede atingiu o tempo limite. O tempo de espera excedeu ".concat(t," segundos"),pt_PT:"O tempo de liga\xe7\xe3o \xe0 rede expirou. O tempo de espera ultrapassou os ".concat(t," segundos"),ro_RO:"Conexiunea la re\u021bea a e\u0219uat, timpul de a\u0219teptare a dep\u0103\u0219it ".concat(t," secunde"),ru_RU:"\u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0442\u0438 \u0438\u0441\u0442\u0435\u043a\u043b\u043e. \u0412\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0432\u044b\u0441\u0438\u043b\u043e ".concat(t,"\xa0\u0441\u0435\u043a."),tr_TR:"A\u011f ba\u011flant\u0131s\u0131 zaman a\u015f\u0131m\u0131na u\u011frad\u0131, bekleme s\xfcresi ".concat(t," saniyeyi a\u015ft\u0131."),uk_UA:"\u0427\u0430\u0441 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043d\u043d\u044f \u0437\u2019\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0437 \u043c\u0435\u0440\u0435\u0436\u0435\u044e \u043c\u0438\u043d\u0443\u0432, \u0432\u0456\u043d \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0438\u0432 ".concat(t,"\xa0\u0441"),vi_VN:"\u0110\xe3 h\u1ebft th\u1eddi gian k\u1ebft n\u1ed1i m\u1ea1ng, th\u1eddi gian ch\u1edd \u0111\xe3 v\u01b0\u1ee3t qu\xe1 ".concat(t," gi\xe2y"),zh_CN:"\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u7b49\u5f85\u65f6\u957f\u5df2\u8d85\u8fc7 ".concat(t," \u79d2"),zh_TW:"\u7db2\u7d61\u9023\u63a5\u8d85\u6642\uff0c\u7b49\u5f85\u6642\u9577\u5df2\u8d85\u904e ".concat(t," \u79d2")}};function Tn(){return On[Me.locale]||On.en}function Ln(){var e=Pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4);return e[Me.locale]||e.en}var Nn={traceId:""},Dn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u,s,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.requestUrl,n=t.fetchConfig,o=t.header,i=r,window.inOKXExtension&&(a=new URL(r),i=a.pathname+a.search),e.next=5,Gt.getTokenAndSign({url:i,fetchConfig:n});case 5:return c=e.sent,u=c.token,s=c.timestamp,l=c.signature,o["Ok-Verify-Token"]=u,o["Ok-Timestamp"]=s,o["Ok-Verify-Sign"]=l,e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.requestUrl,n=t.fetchConfig,o=t.header,!Me.isApp){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,xn.getSignature({requestUrl:r,fetchConfig:n});case 5:i=e.sent,a=i.signature,c=i.timestamp,o["X-Client-Signature"]=a,o["X-Request-Timestamp"]=c,o["X-Client-Signature-Version"]=W.get(yt);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,s,l,f,p;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.requestUrl,n=t.fetchConfig,o=t.ontConfig,i=t.requestNumber,a=0-(new Date).getTimezoneOffset()/60,s={"App-Type":"web",Accept:"application/json","X-Utc":a,"X-Locale":Me.locale,"X-Zkdex-Env":o.dexEnv,"X-Cdn":Me.cdnBaseUrl},!o.needSign){e.next=6;break}return e.next=6,Dn({header:s,requestUrl:r,fetchConfig:n});case 6:if(!o.needJwtSign){e.next=9;break}return e.next=9,Rn({header:s,requestUrl:r,fetchConfig:n,ontConfig:o});case 9:if(window.inOKXExtension){e.next=28;break}return"1"===localStorage.simulatedTrading&&(s["X-Simulated-Trading"]=1),e.next=13,Tr.getDevId();case 13:return s.Devid=e.sent,e.next=16,Mt();case 16:if(!e.sent){e.next=24;break}return e.next=20,Nt(o);case 20:return l=e.sent,s.Authorization=l,e.next=24,Rn({header:s,requestUrl:r,fetchConfig:n});case 24:(f=Me.getSiteInfo?Me.getSiteInfo(!1):void 0)&&(s["X-Site-Info"]=f),u()||Nn.traceId||(Nn.traceId=Le.get("traceId")),s["X-Id-Group"]="".concat(Nn.traceId,"-c-").concat(i);case 28:return p=Vt(o.headers),e.abrupt("return",c(c(c({},s),n.headers),p));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(e,t){var r={};Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&(r[e]=t[e])}));var n=new URLSearchParams(r).toString();return"".concat(e,"?").concat(n)},Fn=function(e){var t=Date.now(),r=e.indexOf("?")>-1?"&":"?";return"".concat(e).concat(r,"t=").concat(t)},Mn=function(){var e=ze(Be().mark((function e(){var t,r,n,o,i,a,c,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=rt())){e.next=10;break}return e.prev=2,e.next=5,window.pcClient.pca.getItem(ut);case 5:t=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:return e.prev=10,e.next=13,an.openStore("ont",{keyPath:"id"});case 13:return i=e.sent,e.next=16,i.get("publicKey");case 16:return a=e.sent,r=a.value,e.next=20,i.get("loginPublicKey");case 20:c=e.sent,n=c.value,e.next=26;break;case 24:e.prev=24,e.t1=e.catch(10);case 26:return u=W.get(gt),e.abrupt("return",{isCanUsePca:o,publicKeyInPca:t,publicKeyInLs:u,publicKeyInDB:r,loginPublicKeyInDB:n});case 28:case"end":return e.stop()}}),e,null,[[2,8],[10,24]])})));return function(){return e.apply(this,arguments)}}(),Bn=function(e,t){return e.data.msg=t.statusText,Promise.reject(e)},Vn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.result,n=t.responseBody,o=t.ontConfig,i=t.requestHeader,!o.isHandling401){e.next=3;break}return e.abrupt("return",Promise.reject(r));case 3:if(At({isHandling401:!0}),Ft(),a=805,(c=n.code)!==a&&806!==c){e.next=15;break}return e.next=11,Mn();case 11:return u=e.sent,c===a&&(i["X-Client-Signature"]?zt({msg:"err:si_mismatch",errInfo:u}):zt({msg:"err:si_undefined",errInfo:u})),window.location.href=et("/account/notice?code=".concat(c)),e.abrupt("return",Promise.reject(r));case 15:return(o.customToLogin||Bt)(r),e.abrupt("return",Promise.reject(r));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zn=function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.msg||(e.data.msg="".concat(Tn(),".")),Promise.reject(e)},qn=function(e){var t,r,n=e.status,o=e.result;400===n&&zt({msg:"resp400",errInfo:{length:null===(r=document)||void 0===r||null===(r=r.cookie)||void 0===r?void 0:r.length}});return null!==o&&void 0!==o&&null!==(t=o.data)&&void 0!==t&&t.msg||(o.data.msg=Tn()),Promise.reject(o)},Wn=function(e){var t,r,n=e.result,o=e.response,i=e.ontConfig,a=o.headers.get("x-ok-token");return a&&function(e){var t=e.newToken,r=e.ontConfig,n=e.result;u()||window.inOKXExtension||(Ut(t),r.onUpdateTokenDone&&r.onUpdateTokenDone(n))}({newToken:a,ontConfig:i,result:n}),0==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.code)||null!==n&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.msg||(n.data.msg="".concat(Tn(),".")),Promise.resolve(n)},$n=function(e){return Promise.reject(e)},Jn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.response,o=t.ontConfig,i=t.requestHeader,a=n.status,((null===n||void 0===n||null===(r=n.headers)||void 0===r?void 0:r.get("Content-Type"))||"").includes("json")){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,n.json();case 7:if(c=e.sent,u={data:c,status:a},404!==a){e.next=13;break}return e.abrupt("return",Bn(u,n));case 13:if(401!==a&&403!==a){e.next=20;break}return e.next=16,Vn({result:u,responseBody:c,ontConfig:o,requestHeader:i});case 16:return s=e.sent,e.abrupt("return",s);case 20:if(!(a>=500)){e.next=24;break}return e.abrupt("return",zn(u));case 24:if(!(a>=400&&a<500)){e.next=28;break}return e.abrupt("return",qn({status:a,result:u}));case 28:if(!(a>=200&&a<300)){e.next=30;break}return e.abrupt("return",Wn({result:u,response:n,ontConfig:o}));case 30:return e.abrupt("return",$n(u));case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(e){var t,r=e.timeoutConfig,n=e.ontConfig,o=e.errorData;return t=r.isTriggered?function(e){var t={data:{code:St.ERR_TIMEOUT,msg:Ln(e.timeout)},status:St.ERR_TIMEOUT};return Promise.reject(t)}(n):"AbortError"===o.name?function(){var e={data:{code:St.ERR_CANCELED},status:St.ERR_CANCELED};return Promise.reject(e)}():function(){var e={data:{code:St.ERR_NETWORK,msg:jn[Me.locale]||jn.en},status:St.ERR_NETWORK};return Promise.reject(e)}(),t},Xn=0,Hn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,c,u,s,l,f,p,d;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.fetchConfig,o=t.ontConfig,i=t.callbackWhenFinished,!o.isBlocked){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("switching to demo trading")));case 3:return o.switchingDemoTrading&&At({isBlocked:!0}),a=r,o.withoutTimestamp||(a=Fn(r)),c=o.signal,u={controller:null,timeoutId:null,isTriggered:!1},c||"function"!==typeof AbortController||(u.controller=new AbortController,s=o.timeout||1e4,u.timeoutId=setTimeout((function(){u.isTriggered=!0,u.controller.abort()}),s)),a.includes("okex.com")&&zt({msg:"URL_includes_okex.com"}),e.prev=10,Xn++,e.next=14,Kn({requestUrl:a,fetchConfig:n,ontConfig:o,requestNumber:Xn});case 14:return p=e.sent,e.next=17,fetch(a,{method:n.method,headers:p,body:n.body,signal:c||(null===(f=u.controller)||void 0===f?void 0:f.signal)});case 17:d=e.sent,l=Jn({response:d,ontConfig:o,requestHeader:p}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),l=Gn({timeoutConfig:u,ontConfig:o,errorData:e.t0});case 24:return e.prev=24,u.timeoutId&&(clearTimeout(u.timeoutId),u={}),i&&"function"===typeof i&&i(l),e.finish(24);case 28:return e.abrupt("return",l);case 29:case"end":return e.stop()}}),e,null,[[10,21,24,28]])})));return function(t){return e.apply(this,arguments)}}(),Zn={},Qn=function(){var e=ze(Be().mark((function e(t){var r,n,o,i,a,u,s,l,f;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.options,o=void 0===n?{}:n,i=t.method,a={method:i},u=r,(s=o).params&&(u=Un(r,o.params),delete s.params),!(l=c(c({},Et),s)).isolate){e.next=8;break}return e.abrupt("return",Hn({url:u,fetchConfig:a,ontConfig:l}));case 8:if(!Zn[u]){e.next=10;break}return e.abrupt("return",Zn[u]);case 10:return f=Hn({url:u,fetchConfig:a,ontConfig:l,callbackWhenFinished:function(){delete Zn[u]}}),Zn[u]=f,e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yn=function(){var e=ze(Be().mark((function e(t){var r,n=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",Qn({url:t,options:r,method:"get"}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eo=function(e){var t=e.url,r=e.data,n=e.ontConfig,o={method:e.method,body:r};r instanceof FormData||(r instanceof Blob?o.headers={"Content-Type":r.type}:"object"===typeof r&&(o.body=JSON.stringify(r),o.headers={"Content-Type":"application/json"}));var i=c(c({},Et),n);return Hn({url:t,fetchConfig:o,ontConfig:i})},to=function(){var e=ze(Be().mark((function e(t){var r,n,o,i=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r=i.length>1&&void 0!==i[1]?i[1]:{}).data){e.next=6;break}return o=n.data,delete n.data,e.abrupt("return",eo({url:t,data:o,ontConfig:n,method:"delete"}));case 6:return e.abrupt("return",Qn({url:t,options:r,method:"delete"}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ro={method:"get"},no={get:Yn,getWithCache:function(){var e=ze(Be().mark((function e(t){var r,n,o,a,u,s,l=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,(n=l.length>1&&void 0!==l[1]?l[1]:{}).cacheSeconds||(n.cacheSeconds=60),null!==n&&void 0!==n&&n.params&&(r=Un(t,n.params),delete n.params),o=c(c({},Et),n),!(a=W.session.get(kt)||{})[r]){e.next=9;break}return e.abrupt("return",a[r]);case 9:return u=function(){var e=ze(Be().mark((function e(t){var o,a,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:o=e.sent,a=W.session.get(kt)||{},u=c(c({},a),{},i({},r,o)),W.session.set(kt,u,n.cacheSeconds),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),s=Hn({url:r,fetchConfig:ro,ontConfig:o,callbackWhenFinished:u}),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:to,post:function(e,t){return eo({url:e,data:t,ontConfig:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},method:"post"})},put:function(e,t){return eo({url:e,data:t,options:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},method:"put"})},patch:function(e,t){return eo({url:e,data:t,ontConfig:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},method:"patch"})},jsonp:function(e){var t=e.url,r=e.func;return new Promise((function(e,n){var o=document.createElement("script"),i="";i=r||"ont_jsonp_".concat(++En),window[i]=function(t){e(t),Cn(o,i)};var a=t.indexOf("?")>-1?"&":"?",c="".concat(t).concat(a,"callback=").concat(i,"&t=").concat(Date.now());o.setAttribute("type","text/javascript"),o.setAttribute("src",ue(c)),o.addEventListener("error",(function(){n(new Error("Fail to load: ".concat(c))),Cn(o,i)})),document.head.appendChild(o)}))},isLogin:function(){return Me.isApp?(console.warn("use ont.checkIsLogin to replace ont.isLogin"),!1):Pt()},checkIsLogin:Mt,toLogin:Bt,saveLoginState:Ut,clearLoginState:Ft,getLoginRemainingTime:function(){var e=Date.now(),t=Number(localStorage.getItem(jt));return!t||t<e?0:t-e},getEid:function(){return Me.getSiteInfo().entity},getToken:Nt,getTokenFromBrowser:Tt,setOntConfig:function(e){At(e)},dangerouslySetOntConfig:At,getDeviceId:function(){return Le.get("with-okfe-extension")&&console.warn("use ont.getDevId to replace ont.getDeviceId"),Tr.getDeviceId()},getDevId:Tr.getDevId,STATUS_CODE:St,crypto:e};W.init({project:"ont"}),no.crypto.upid.setUPid(),Me.isApp?Kt():(function(){var e=Tt();Rt(e)}(),Pt()&&no.post("/v3/users/security/heartbeat",{timestamp:(new Date).getTime()}));const oo=no})(),(window.utils=window.utils||{}).ont=n.default})();
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/util/ont/5.5.2/ont.js.map