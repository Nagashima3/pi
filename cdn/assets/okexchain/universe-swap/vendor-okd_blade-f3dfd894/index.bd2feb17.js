"use strict";(self.webpackChunk_ok_universe_swap=self.webpackChunk_ok_universe_swap||[]).push([[8329],{38926:(e,r,t)=>{t.d(r,{A:()=>i});var n=t(99692),a=t(35949),s=t(37898),c=!1;(0,n.f)()||(c=window.matchMedia("").addEventListener);const i=class{constructor(){if(this._smListener=e=>{e.matches&&this.fn(a.A.mediaSet._sm)},this._mdListener=e=>{e.matches&&this.fn(a.A.mediaSet._md)},this._lgListener=e=>{e.matches&&this.fn(a.A.mediaSet._lg)},this._xlListener=e=>{e.matches&&this.fn(a.A.mediaSet._xl)},this._2xlListener=e=>{e.matches&&this.fn(a.A.mediaSet._2xl)},this._3xlListener=e=>{e.matches&&this.fn(a.A.mediaSet._3xl)},(0,n.f)())return!1;this.fn=null,this.isBiggerThanXL=a.A.isBiggerThanXL;var e=a.A.mediaSet,r=e._sm,t=e._md,s=e._lg,c=e._xl;if(this._smWatcher=window.matchMedia(r.query),this._mdWatcher=window.matchMedia(t.query),this._lgWatcher=window.matchMedia(s.query),this._xlWatcher=window.matchMedia(c.query),this.isBiggerThanXL){var i=a.A.mediaSet,u=i._2xl,o=i._3xl;this._2xlWatcher=window.matchMedia(u.query),this._3xlWatcher=window.matchMedia(o.query)}}watch(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).runNow,t=void 0===r||r;if((0,n.f)())return!1;if(this.fn=e,this.addEventListeners(),window.__okgWatchedForCookie||(window.__okgWatchedForCookie=1,s.A.watch()),t){var c=a.A.mediaSet,i=c._sm,u=c._md,o=c._lg,p=c._xl,d=c._2xl,l=c._3xl;if(this._mdWatcher.matches)return e(u);if(this._lgWatcher.matches)return e(o);if(this._xlWatcher.matches)return e(p);if(this.isBiggerThanXL){if(this._2xlWatcher.matches)return e(d);if(this._3xlWatcher.matches)return e(l)}return e(i)}return!1}addEventListeners(){c?(this._smWatcher.addEventListener("change",this._smListener),this._mdWatcher.addEventListener("change",this._mdListener),this._lgWatcher.addEventListener("change",this._lgListener),this._xlWatcher.addEventListener("change",this._xlListener),this.isBiggerThanXL&&(this._2xlWatcher.addEventListener("change",this._2xlListener),this._3xlWatcher.addEventListener("change",this._3xlListener))):(this._smWatcher.addListener(this._smListener),this._mdWatcher.addListener(this._mdListener),this._lgWatcher.addListener(this._lgListener),this._xlWatcher.addListener(this._xlListener))}destroy(){(0,n.f)()||(c?(this._smWatcher.removeEventListener("change",this._smListener),this._mdWatcher.removeEventListener("change",this._mdListener),this._lgWatcher.removeEventListener("change",this._lgListener),this._xlWatcher.removeEventListener("change",this._xlListener),this.isBiggerThanXL&&(this._2xlWatcher.removeEventListener("change",this._2xlListener),this._3xlWatcher.removeEventListener("change",this._3xlListener))):(this._smWatcher.removeListener(this._smListener),this._mdWatcher.removeListener(this._mdListener),this._lgWatcher.removeListener(this._lgListener),this._xlWatcher.removeListener(this._xlListener)))}}},40535:(e,r,t)=>{t.d(r,{A:()=>i});var n=t(89379),a=t(84854),s=t(99692),c=t(35949);const i=()=>{if((0,s.f)())return(()=>{var e=c.A.mediaSet,r=a.A.media||"_xl";return r.indexOf("_")<0&&(r="_".concat(r)),e[r]?c.A.isBiggerThanXL?e[r]:"2xl"===a.A.media||"3xl"===a.A.media?e._xl:e[r]:e._xl})();var e=c.A.mediaSet,r=(0,n.A)({},e._sm);return Object.keys(e).reverse().some((t=>{var a=e["".concat(t)];return!!window.matchMedia(a.query).matches&&(r=(0,n.A)({},a),!0)})),r}},35949:(e,r,t)=>{t.d(r,{A:()=>i});const n={_sm:{index:1,media:"sm",query:"(max-width: 767px)",gutter:16,colCount:4,bodyPadding:8},_md:{index:2,media:"md",query:"(min-width: 768px) and (max-width: 1023px)",gutter:24,colCount:12,bodyPadding:12},_lg:{index:3,media:"lg",query:"(min-width: 1024px) and (max-width: 1269px)",gutter:24,colCount:12,bodyPadding:12,contentWidth:960},_xl:{index:4,media:"xl",query:"(min-width: 1270px)",gutter:24,colCount:12,bodyPadding:12,contentWidth:1248}};var a=t(89379);const s=(0,a.A)((0,a.A)({},n),{},{_xl:(0,a.A)((0,a.A)({},n._xl),{},{query:"(min-width: 1270px) and (max-width: 1859px)"}),_2xl:(0,a.A)((0,a.A)({},n._xl),{},{index:5,media:"2xl",query:"(min-width: 1860px) and (max-width: 2036px)",colCount:12,contentWidth:1728}),_3xl:(0,a.A)((0,a.A)({},n._xl),{},{index:6,media:"3xl",query:"(min-width: 2037px)",colCount:12,contentWidth:1728})});var c=t(37898);const i=new class{constructor(){this.mediaSet=n}addBiggerThanXL(){this.mediaSet=s}add2xl(){this.addBiggerThanXL(),c.A.reWatch()}remove2xl(){this.mediaSet=n,c.A.reWatch()}get isBiggerThanXL(){return Object.keys(this.mediaSet).length>4}}},37898:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(99149),a=t(38926);const s=new class{constructor(){this.watch=()=>{this.watcher=new a.A,this.watcher.watch((e=>n.A.set("okg.currentMedia",e.media,{expires:365})),{runNow:!0})},this.reWatch=()=>{this.watcher&&(this.watcher.destroy(),this.watch())}}}},23194:(e,r,t)=>{t.d(r,{A:()=>a});var n=t(38926);const a=new class{constructor(){this.callbacks=new Map,this.addCallback=e=>{var r=this.callbacks.get(e);return r?this.callbacks.set(e,r+1):this.callbacks.set(e,1)},this.removeCallback=e=>{var r=this.callbacks.get(e);r&&(this.callbacks.set(e,r-1),0===this.callbacks.get(e)&&this.callbacks.delete(e))},this.watcher=new n.A,this.watcher.watch((e=>{this.callbacks.forEach(((r,t)=>{t(e)}))}),{runNow:!0})}}},3471:(e,r,t)=>{t.d(r,{A:()=>u});var n=t(41594),a=t(99692),s=t(40535),c=t(23194);class i extends n.PureComponent{constructor(e){super(e),this.mediaChangeCallback=e=>{this.setState({media:e.media})},this.getCurrentComponent=()=>{var e=this.props,r=e.sm,t=e.md,n=e.lg,a=e.xl,s=e._2xl,c=e._3xl;this.components={sm:r,md:t,lg:n,xl:a,"2xl":s,"3xl":c},"undefined"===typeof t&&(this.components.md=this.components.sm),"undefined"===typeof n&&(this.components.lg=this.components.md),"undefined"===typeof a&&(this.components.xl=this.components.lg),"undefined"===typeof s&&(this.components["2xl"]=this.components.xl),"undefined"===typeof c&&(this.components["3xl"]=this.components["2xl"]);var i=this.state.media;return this.components[i]};var r=(0,s.A)().media;this.state={media:r}}componentDidMount(){(0,a.f)()||c.A.addCallback(this.mediaChangeCallback)}componentWillUnmount(){c.A.removeCallback(this.mediaChangeCallback)}render(){return this.getCurrentComponent()}}i.defaultProps={sm:void 0,md:void 0,lg:void 0,xl:void 0,_2xl:void 0,_3xl:void 0};const u=8788!=t.j?i:null},22822:(e,r,t)=>{t.d(r,{A:()=>p});var n=t(5544),a=t(89379),s=t(41594),c=t(40535),i=t(23194),u=e=>{var r=e.index;return(0,a.A)((0,a.A)({},e),{},{isSm:1===r,isMd:2===r,isLg:3===r,isXl:4===r,is2Xl:5===r,is2xl:5===r,is3Xl:6===r,is3xl:6===r,isMobile:1===r||2===r,isSmallerThanMd:r<2,isSmallerThanLg:r<3,isSmallerThanXl:r<4,isSmallerThan2xl:r<5,isSmallerThan3xl:r<6,isLargerThanSm:r>1,isLargerThanMd:r>2,isLargerThanLg:r>3,isLargerThanXl:r>4,isLargerThan2xl:r>5})},o=()=>u((0,c.A)());const p=()=>{var e=(()=>{var e=(0,s.useRef)(o),r=e.current();return(0,s.useEffect)((()=>{e.current=()=>r}),[]),r})(),r=(0,s.useState)(e),t=(0,n.A)(r,2),a=t[0],c=t[1],p=e=>{c(u(e))};return(0,s.useEffect)((()=>(i.A.addCallback(p),()=>{i.A.removeCallback(p)})),[]),a}},82546:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(90675),a=t(10467);const s=class{constructor(e){this.walletProvider=e}sendTransaction(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("sendTransaction method not implemented");case 1:case"end":return e.stop()}}),e)})))()}getAccount(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getAccount method not implemented");case 1:case"end":return e.stop()}}),e)})))()}signMessage(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("signMessage method not implemented");case 1:case"end":return e.stop()}}),e)})))()}getChainId(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getChainId method not implemented");case 1:case"end":return e.stop()}}),e)})))()}switchNetwork(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("switchNetwork method not implemented");case 1:case"end":return e.stop()}}),e)})))()}}},30272:(e,r,t)=>{t.r(r),t.d(r,{KeplrAdapter:()=>a});var n=t(82546);class a extends n.A{}},52869:(e,r,t)=>{t.r(r),t.d(r,{LedgerAdapter:()=>o});var n=t(90675),a=t(10467),s=t(34903),c=t(58790),i=t(82546),u=t(34533);class o extends i.A{getLedgerWeb3Provider(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.abrupt("return",{web3Provider:new Web3(r.ethereum)});case 4:case"end":return e.stop()}}),e)})))()}getWeb3(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.getLedgerWeb3Provider());case 1:case"end":return r.stop()}}),r)})))()}getAccount(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getLedgerWeb3Provider();case 2:return t=r.sent,r.abrupt("return",u.A.getAccount({provider:t}));case 4:case"end":return r.stop()}}),r)})))()}signMessage(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,s,c;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.message,t.next=3,r.getLedgerWeb3Provider();case 3:return s=t.sent,t.next=6,r.getAccount();case 6:return c=t.sent,t.abrupt("return",u.A.signMessage({provider:s,message:a,address:c}));case 8:case"end":return t.stop()}}),t)})))()}signTypedData(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,c,i,u;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.message,t.next=3,(0,s.sO)();case 3:return i=t.sent,t.next=6,r.getAccount();case 6:return u=t.sent,t.next=9,null===i||void 0===i||null===(a=i.ethereum)||void 0===a?void 0:a.send("eth_signTypedData_v4",[u,JSON.stringify(c)]);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))()}sendTransaction(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a,c,i,u;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.payload,c=e.cb,r.next=3,(0,s.sO)();case 3:return i=r.sent,r.next=6,null===i||void 0===i||null===(t=i.ethereum)||void 0===t?void 0:t.send("eth_sendTransaction",[a]);case 6:return u=r.sent,c&&c(u),r.abrupt("return",u);case 9:case"end":return r.stop()}}),r)})))()}switchNetwork(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a,c;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.chain,r.next=3,(0,s.sO)();case 3:return c=r.sent,r.next=6,null===c||void 0===c||null===(t=c.ethereum)||void 0===t?void 0:t.send("wallet_switchEthereumChain",[{chainId:"0x".concat(parseInt(a).toString(16))}]);case 6:return r.abrupt("return",!0);case 7:case"end":return r.stop()}}),r)})))()}getChainId(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getLedgerWeb3Provider();case 2:return t=r.sent,r.abrupt("return",u.A.getChainId({provider:t}));case 4:case"end":return r.stop()}}),r)})))()}onChainChange(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,s.sO)();case 2:null===(a=r.sent)||void 0===a||null===(t=a.ethereum)||void 0===t||t.on("chainChanged",e);case 4:case"end":return r.stop()}}),r)})))()}getAllChainTypeInfoList(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,e.getChainId();case 5:return a=r.sent,r.abrupt("return",[{address:t,chainType:c.hD.EVM,chainId:a}]);case 7:case"end":return r.stop()}}),r)})))()}}},9845:(e,r,t)=>{t.r(r),t.d(r,{MetaMaskAdapter:()=>d});var n=t(90675),a=t(10467),s=t(34903),c=t(58790),i=t(99801),u=t(20450),o=t(82546),p=t(34533);class d extends o.A{getWeb3(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}sendTransaction(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a,c,i;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=e.cb,e.extraParams,c=e.externalProvider,r.next=3,(0,s.sO)();case 3:return i=r.sent,r.next=6,p.A.sendTransaction({provider:c||i,payload:t,cb:a});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()}getAccount(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.next=5,p.A.getAccount({provider:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()}signMessage(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,c,i;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.message,t.next=3,(0,s.sO)();case 3:return c=t.sent,t.next=6,r.getAccount();case 6:return i=t.sent,t.next=9,p.A.signMessage({provider:c,message:a,address:i});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))()}signTypedData(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,s;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.message,t.next=3,r.getAccount();case 3:return s=t.sent,t.next=6,p.A.signTypedData({message:a,address:s});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()}watchAsset(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a,s;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.tokenOptions,s=null===(t=window)||void 0===t?void 0:t.ethereum,r.next=4,p.A.watchAsset({provider:s,tokenOptions:a});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}getChainId(){return(0,a.A)((0,n.A)().mark((function e(){var r,t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.next=5,p.A.getChainId({provider:r});case 5:return t=e.sent,e.next=8,(0,u.W)(t);case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))()}switchNetwork(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,s,c,o,p,d,l,h,v,A,f,x,w;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.chain,s=e.externalProvider,c=e.addNetworkConfig,t.next=3,(0,u.B2)(a);case 3:return o=t.sent,p=s||window.ethereum,t.prev=5,t.next=8,r.getChainId();case 8:if(d=t.sent,String(d)!==String(o)){t.next=11;break}return t.abrupt("return",!0);case 11:return t.next=13,p.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(parseInt(o).toString(16))}]});case 13:return t.abrupt("return",!0);case 16:if(t.prev=16,t.t0=t.catch(5),t.t0,h=t.t0||{},v=h.code,A=h.data,![4902,-32602].includes(v)&&4902!==(null===A||void 0===A||null===(l=A.originalError)||void 0===l?void 0:l.code)){t.next=58;break}if(t.prev=21,o||0===o){t.next=24;break}throw new Error("chain parameter is not legal");case 24:if(t.t2=c,t.t2){t.next=38;break}return t.next=28,(0,i.Qr)(o);case 28:if(t.t4=f=t.sent,t.t3=null===t.t4,t.t3){t.next=32;break}t.t3=void 0===f;case 32:if(!t.t3){t.next=36;break}t.t5=void 0,t.next=37;break;case 36:t.t5=f.data;case 37:t.t2=t.t5;case 38:if(t.t1=t.t2,t.t1){t.next=41;break}t.t1=[];case 41:if(!((x=t.t1).length>0)){t.next=49;break}return t.next=45,p.request({method:"wallet_addEthereumChain",params:x});case 45:return t.next=47,r.getChainId();case 47:return w=t.sent,t.abrupt("return",String(w)===String(o));case 49:throw new Error("chain info is not exist");case 52:return t.prev=52,t.t6=t.catch(21),t.t6,t.abrupt("return",!1);case 56:t.next=59;break;case 58:return t.abrupt("return",!1);case 59:case"end":return t.stop()}}),t,null,[[5,16],[21,52]])})))()}getAllChainTypeInfoList(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,e.getChainId();case 5:return a=r.sent,r.abrupt("return",[{address:t,chainType:c.hD.EVM,chainId:a}]);case 7:case"end":return r.stop()}}),r)})))()}depositWToken(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,s,c,i,u,o,d;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.wTokenAddr,s=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,d=p.A.depositWToken({wTokenAddr:a,wTokenAbi:s,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:d,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}withdrawWToken(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,s,c,i,u,o,d;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.wTokenAddr,s=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,d=p.A.withdrawWToken({wTokenAddr:a,wTokenAbi:s,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:d,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}}},59058:(e,r,t)=>{t.r(r),t.d(r,{OkxConnectAdapter:()=>x});var n=t(53986),a=t(90675),s=t(89379),c=t(10467),i=t(34903),u=t(58790),o=t(99801),p=t(20450),d=t(82546),l=t(34533),h=["message"],v=["psbtHex","type"],A=["to","value","satBytes","extraParams"],f=["from","to","txSource","type","inscriptions","tick","amount","mintType"];class x extends d.A{constructor(e){var r=e.supportChain;super(),this.chainType=u.hD.EVM,this.chainMap={},this.supportChain=r&&r.length>0?r:[u.hD.EVM,u.hD.SOLANA,u.hD.APTOS,u.hD.TRON,u.hD.SUI,u.hD.BTC,u.hD.FRACTAL,u.hD.BTCSIGNET,u.hD.STACKS,u.hD.STARKNET,u.hD.NOSTR,u.hD.COSMOS,u.hD.TON,u.hD.SONIC_DEV],this.initPromise=this.init(),this.aptos={},this.cosmos={}}init(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var n,c,i,o,p,d,l,h,v,A,f,x,w;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.supportChain.includes(u.hD.SOLANA)){r.next=6;break}return r.next=3,Promise.resolve().then(t.bind(t,6035));case 3:r.t0=r.sent.default,r.next=7;break;case 6:r.t0={};case 7:if(n=r.t0,!e.supportChain.includes(u.hD.APTOS)){r.next=14;break}return r.next=11,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,16594));case 11:r.t1=r.sent.default,r.next=15;break;case 14:r.t1={};case 15:if(c=r.t1,!e.supportChain.includes(u.hD.TRON)){r.next=22;break}return r.next=19,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,76992));case 19:r.t2=r.sent.default,r.next=23;break;case 22:r.t2={};case 23:if(i=r.t2,!e.supportChain.includes(u.hD.SUI)){r.next=30;break}return r.next=27,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,19780));case 27:r.t3=r.sent.default,r.next=31;break;case 30:r.t3={};case 31:if(o=r.t3,!e.supportChain.includes(u.hD.BTC)){r.next=38;break}return r.next=35,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,82220));case 35:r.t4=r.sent.default,r.next=39;break;case 38:r.t4={};case 39:if(p=r.t4,!e.supportChain.includes(u.hD.FRACTAL)){r.next=46;break}return r.next=43,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,66442));case 43:r.t5=r.sent.default,r.next=47;break;case 46:r.t5={};case 47:if(d=r.t5,!e.supportChain.includes(u.hD.BTCSIGNET)){r.next=54;break}return r.next=51,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,5456));case 51:r.t6=r.sent.default,r.next=55;break;case 54:r.t6={};case 55:if(l=r.t6,!e.supportChain.includes(u.hD.STACKS)){r.next=62;break}return r.next=59,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,18498));case 59:r.t7=r.sent.default,r.next=63;break;case 62:r.t7={};case 63:if(h=r.t7,!e.supportChain.includes(u.hD.STARKNET)){r.next=70;break}return r.next=67,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,66763));case 67:r.t8=r.sent.default,r.next=71;break;case 70:r.t8={};case 71:if(v=r.t8,!e.supportChain.includes(u.hD.NOSTR)){r.next=78;break}return r.next=75,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,23633));case 75:r.t9=r.sent.default,r.next=79;break;case 78:r.t9={};case 79:if(A=r.t9,!e.supportChain.includes(u.hD.COSMOS)){r.next=86;break}return r.next=83,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,4578));case 83:r.t10=r.sent.default,r.next=87;break;case 86:r.t10={};case 87:if(f=r.t10,!e.supportChain.includes(u.hD.TON)){r.next=94;break}return r.next=91,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,26118));case 91:r.t11=r.sent.default,r.next=95;break;case 94:r.t11={};case 95:if(x=r.t11,!e.supportChain.includes(u.hD.SONIC_DEV)){r.next=102;break}return r.next=99,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,10240));case 99:r.t12=r.sent.default,r.next=103;break;case 102:r.t12={};case 103:w=r.t12,e.chainMap={[u.hD.SOLANA]:(0,s.A)({},n),[u.hD.APTOS]:(0,s.A)({},c),[u.hD.TRON]:(0,s.A)({},i),[u.hD.SUI]:(0,s.A)({},o),[u.hD.BTC]:(0,s.A)({},p),[u.hD.FRACTAL]:(0,s.A)({},d),[u.hD.BTCSIGNET]:(0,s.A)({},l),[u.hD.STACKS]:(0,s.A)({},h),[u.hD.STARKNET]:(0,s.A)({},v),[u.hD.NOSTR]:(0,s.A)({},A),[u.hD.TON]:(0,s.A)({},x),[u.hD.SONIC_DEV]:(0,s.A)({},w),[u.hD.COSMOS]:f},e.aptos=c,e.cosmos=f;case 107:case"end":return r.stop()}}),r)})))()}chainMethodMap(e){return this.chainMap[e]||(0,s.A)({},l.A)}getOkxConnectProvider(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||e===u.hD.BTC?e:r.chainType,t.next=3,(0,i.sO)();case 3:if(s=t.sent,n!==u.hD.EVM){t.next=6;break}return t.abrupt("return",new Web3(null===s||void 0===s?void 0:s.ethereum));case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})))()}getWeb3(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getOkxConnectProvider();case 2:if(t=r.sent,e.chainType!==u.hD.EVM){r.next=5;break}return r.abrupt("return",t);case 5:return r.abrupt("return",t[u.M7[e.chainType]]);case 6:case"end":return r.stop()}}),r)})))()}getAccount(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t,n,s;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.chainMethodMap(e.chainType).getAccount,r.next=3,e.getOkxConnectProvider();case 3:return n=r.sent,r.next=6,t({provider:n});case 6:return s=r.sent,r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})))()}getAccountByChainId(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,o,p,d;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chainId,s=e.chainType,c=s||s===u.hD.BTC?s:(0,i.bs)(n),o=r.chainMethodMap(c).getAccount,t.next=5,r.getOkxConnectProvider(c);case 5:return p=t.sent,t.prev=6,t.next=9,o({provider:p,chainId:n});case 9:return d=t.sent,t.abrupt("return",d);case 13:return t.prev=13,t.t0=t.catch(6),t.t0,t.abrupt("return","");case 17:case"end":return t.stop()}}),t,null,[[6,13]])})))()}signMessage(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u,o;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.nonce,s=e.message,t.next=3,r.getOkxConnectProvider();case 3:return c=t.sent,t.next=6,r.getAccount();case 6:return i=t.sent,u=r.chainMethodMap(r.chainType).signMessage,t.prev=8,t.next=11,u({provider:c,message:s,nonce:n,address:i});case 11:return o=t.sent,t.abrupt("return",o);case 15:throw t.prev=15,t.t0=t.catch(8),t.t0,t.t0;case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()}signTypedData(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var c,u,o,p,d,l;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=e.message,o=(0,n.A)(e,h),t.next=3,r.getAccount();case 3:return p=t.sent,t.next=6,(0,i.sO)();case 6:return d=t.sent,t.next=9,null===d||void 0===d||null===(c=d.ethereum)||void 0===c?void 0:c.request((0,s.A)({method:"eth_signTypedData_v4",params:[p,JSON.stringify(u)]},o));case 9:return l=t.sent,t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})))()}getChainId(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t,n,s;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.chainType!==u.hD.EVM){r.next=13;break}return r.next=3,e.getOkxConnectProvider();case 3:return t=r.sent,r.next=6,l.A.getChainId({provider:t});case 6:return n=r.sent,r.next=9,(0,p.W)(n);case 9:return s=r.sent,r.abrupt("return",s);case 13:if(e.chainType!==u.hD.COSMOS){r.next=15;break}return r.abrupt("return",e.cosmos.getChainId());case 15:return r.abrupt("return",e.chainType);case 16:case"end":return r.stop()}}),r)})))()}switchNetwork(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,u,d,l,h,v,A,f,x,w,b,m;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chain,s=e.externalProvider,c=e.addNetworkConfig,t.next=3,(0,p.B2)(n);case 3:return u=t.sent,t.next=6,(0,i.sO)();case 6:return d=t.sent,l=s||(null===d||void 0===d?void 0:d.ethereum),t.prev=8,t.next=11,r.getChainId();case 11:if(h=t.sent,String(h)!==String(u)){t.next=14;break}return t.abrupt("return",!0);case 14:return t.next=16,l.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(parseInt(u).toString(16))}]});case 16:return t.abrupt("return",!0);case 19:if(t.prev=19,t.t0=t.catch(8),t.t0,A=t.t0||{},f=A.code,x=A.data,-32002!==f){t.next=26;break}t.next=69;break;case 26:if(![4902,-32602].includes(f)&&4902!==(null===x||void 0===x||null===(v=x.originalError)||void 0===v?void 0:v.code)){t.next=64;break}if(t.prev=27,u||0===u){t.next=30;break}throw new Error("chain parameter is not legal");case 30:if(t.t2=c,t.t2){t.next=44;break}return t.next=34,(0,o.Qr)(u);case 34:if(t.t4=w=t.sent,t.t3=null===t.t4,t.t3){t.next=38;break}t.t3=void 0===w;case 38:if(!t.t3){t.next=42;break}t.t5=void 0,t.next=43;break;case 42:t.t5=w.data;case 43:t.t2=t.t5;case 44:if(t.t1=t.t2,t.t1){t.next=47;break}t.t1=[];case 47:if(!((b=t.t1).length>0)){t.next=55;break}return t.next=51,l.request({method:"wallet_addEthereumChain",params:b});case 51:return t.next=53,r.getChainId();case 53:return m=t.sent,t.abrupt("return",String(m)===String(u));case 55:throw new Error("chain info is not exist");case 58:return t.prev=58,t.t6=t.catch(27),t.t6,t.abrupt("return",!1);case 62:t.next=69;break;case 64:if(4001!==f){t.next=68;break}return t.abrupt("return",!1);case 68:case 69:return t.abrupt("return",!1);case 70:case"end":return t.stop()}}),t,null,[[8,19],[27,58]])})))()}sendTransaction(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u,o;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,s=e.cb,c=e.extraParams,t.next=3,r.getOkxConnectProvider();case 3:return i=t.sent,u=r.chainMethodMap(r.chainType).sendTransaction,t.next=7,r.getAccount();case 7:return o=t.sent,t.abrupt("return",u({provider:i,payload:n,cb:s,extraParams:c,address:o}));case 9:case"end":return t.stop()}}),t)})))()}setChainType(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,o;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chainType,s=e.chainId,c=n||0==n?n:(0,i.bs)(s),t.next=4,r.getAccountByChainId({chainId:s,chainType:c});case 4:o=t.sent,!!o?r.chainType=c:c===u.hD.COSMOS&&r.cosmos.setChainId(s);case 7:case"end":return t.stop()}}),t)})))()}signAllTransactions(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.transactions,t.next=3,r.getOkxConnectProvider();case 3:if(s=t.sent,c=r.chainMethodMap(r.chainType).signAllTransactions){t.next=7;break}throw new Error("current chain have no signAllTransactions, please check it");case 7:return t.next=9,c({provider:s,transactions:n});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))()}getSolanaConnection(){var e=this.chainMethodMap(this.chainType).getSolanaConnection;if(!e)throw new Error("current chain have no getSolanaConnection, please check it");return e()}depositWToken(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u,o,p;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.wTokenAddr,s=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,p=l.A.depositWToken({wTokenAddr:n,wTokenAbi:s,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:p,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}withdrawWToken(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u,o,p;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.wTokenAddr,s=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,p=l.A.withdrawWToken({wTokenAddr:n,wTokenAbi:s,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:p,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}getLatestBlockhash(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t,n,s;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:if(t=r.sent,n=e.chainMethodMap(e.chainType).getLatestBlockhash){r.next=6;break}throw new Error("current chain have no getLatestBlockhash, please check it");case 6:return r.next=8,n({from:t});case 8:return s=r.sent,r.abrupt("return",s);case 10:case"end":return r.stop()}}),r)})))()}getAllChainTypeInfoList(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t,n;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,e.getChainId();case 5:return n=r.sent,r.abrupt("return",[{address:t,chainType:e.chainType,chainId:n}]);case 7:case"end":return r.stop()}}),r)})))()}watchAsset(e){return(0,c.A)((0,a.A)().mark((function r(){var t,n,s;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.tokenOptions,r.next=3,(0,i.sO)();case 3:return n=r.sent,s=null===n||void 0===n?void 0:n.ethereum,r.next=7,l.A.watchAsset({provider:s,tokenOptions:t});case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()}addNetwork(e){return(0,c.A)((0,a.A)().mark((function r(){var t,n,s;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.params,r.next=3,(0,i.sO)();case 3:return n=r.sent,s=null===n||void 0===n?void 0:n.ethereum,r.next=7,l.A.addNetwork({provider:s,params:t});case 7:return r.abrupt("return",r.sent);case 8:case"end":return r.stop()}}),r)})))()}registerAptosCoin(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contractAddress,t.abrupt("return",r.aptos.registerAptosCoin({contractAddress:n,provider:window.okexchain}));case 2:case"end":return t.stop()}}),t)})))()}checkAndRegAptosCoin(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.address,s=e.contractAddress,t.abrupt("return",r.aptos.checkAndRegAptosCoin({provider:window.okexchain,address:n,contractAddress:s}));case 2:case"end":return t.stop()}}),t)})))()}getAptosBalance(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.address,s=e.currency,t.abrupt("return",r.aptos.getAptosBalance({address:n,currency:s}));case 2:case"end":return t.stop()}}),t)})))()}getAptosTransaction(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.aptos.getAptosTransaction(e));case 1:case"end":return t.stop()}}),t)})))()}getPublicKey(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t,n;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getOkxConnectProvider();case 2:if(t=r.sent,n=e.chainMethodMap(e.chainType).getPublicKey){r.next=6;break}throw new Error("current chain have no getPublicKey, please check it");case 6:return r.abrupt("return",n({provider:t}));case 7:case"end":return r.stop()}}),r)})))()}getCompressedPublicKey(){var e=this;return(0,c.A)((0,a.A)().mark((function r(){var t,n;return(0,a.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getOkxConnectProvider();case 2:if(t=r.sent,n=e.chainMethodMap(e.chainType).getCompressedPublicKey){r.next=6;break}throw new Error("current chain have no getCompressedPublicKey, please check it");case 6:return r.abrupt("return",n({provider:t}));case 7:case"end":return r.stop()}}),r)})))()}sendInscription(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u,o,p;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.from,s=e.to,c=e.data,i=e.type,t.next=3,r.getOkxConnectProvider();case 3:if(u=t.sent,o=r.chainMethodMap(r.chainType).sendInscription){t.next=7;break}throw new Error("current chain have no sendInscription, please check it");case 7:return t.next=9,o({provider:u,from:n,to:s,data:c,type:i});case 9:return p=t.sent,t.abrupt("return",p);case 11:case"end":return t.stop()}}),t)})))()}signPsbt(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var c,i,u,o,p,d,l;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.psbtHex,i=e.type,u=(0,n.A)(e,v),t.next=3,r.getOkxConnectProvider();case 3:return o=t.sent,t.next=6,r.getAccount();case 6:if(p=t.sent,d=r.chainMethodMap(r.chainType).signPsbt){t.next=10;break}throw new Error("current chain have no signPsbt, please check it");case 10:return l=d((0,s.A)({provider:o,psbtHex:c,type:i,account:p},u)),t.abrupt("return",l);case 12:case"end":return t.stop()}}),t)})))()}sendPsbt(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.txList,t.next=3,r.getOkxConnectProvider();case 3:return s=t.sent,t.next=6,r.getAccount();case 6:if(c=t.sent,i=r.chainMethodMap(r.chainType).sendPsbt){t.next=10;break}throw new Error("current chain have no sendPsbt, please check it");case 10:return t.next=12,i({provider:s,txList:n,account:c});case 12:return u=t.sent,t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})))()}signPsbts(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i,u;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.psbtHexs,s=e.options,t.next=3,r.getOkxConnectProvider();case 3:if(c=t.sent,i=r.chainMethodMap(r.chainType).signPsbts){t.next=7;break}throw new Error("current chain have no signPsbts, please check it");case 7:return t.next=9,i({psbtHexs:n,options:s,provider:c});case 9:return u=t.sent,t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))()}pushPsbt(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.psbtHex,t.next=3,r.getOkxConnectProvider();case 3:if(s=t.sent,c=r.chainMethodMap(r.chainType).pushPsbt){t.next=7;break}throw new Error("current chain have no sendPsbt, please check it");case 7:return t.next=9,c({provider:s,psbtHex:n});case 9:return i=t.sent,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})))()}validateAddress(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s,c,i;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.account,t.next=3,r.getOkxConnectProvider();case 3:if(s=t.sent,c=r.chainMethodMap(r.chainType).validateAddress){t.next=7;break}throw new Error("current chain have no validateAddress, please check it");case 7:return t.next=9,c({provider:s,account:n});case 9:return i=t.sent,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})))()}sendBitcoin(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var c,i,u,o,p,d,l,h,v;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.to,i=e.value,u=e.satBytes,o=e.extraParams,p=(0,n.A)(e,A),t.next=3,r.getOkxConnectProvider();case 3:return d=t.sent,t.next=6,r.getAccount();case 6:if(l=t.sent,h=r.chainMethodMap(r.chainType).sendBitcoin){t.next=10;break}throw new Error("current chain have no sendBitcoin, please check it");case 10:return t.next=12,h((0,s.A)({provider:d,from:l,to:c,value:i,satBytes:u,extraParams:o},p));case 12:return v=t.sent,t.abrupt("return",v);case 14:case"end":return t.stop()}}),t)})))()}getBtcAddressType(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var n,s;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.address,s=r.chainMethodMap(r.chainType).getBtcAddressType){t.next=4;break}throw new Error("current chain have no sendInscription, please check it");case 4:return t.abrupt("return",s({address:n}));case 5:case"end":return t.stop()}}),t)})))()}inscribe(e){var r=this;return(0,c.A)((0,a.A)().mark((function t(){var c,i,u,o,p,d,l,h,v,A,x;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.from,i=e.to,u=e.txSource,o=e.type,p=e.inscriptions,d=e.tick,l=e.amount,h=e.mintType,v=(0,n.A)(e,f),t.next=3,r.getOkxConnectProvider();case 3:if(A=t.sent,x=r.chainMethodMap(r.chainType).inscribe){t.next=7;break}throw new Error("current chain have no sendInscription, please check it");case 7:return t.abrupt("return",x((0,s.A)({provider:A,from:c,to:i,txSource:u,type:o,inscriptions:p,tick:d,amount:l,mintType:h},v)));case 8:case"end":return t.stop()}}),t)})))()}}},27335:(e,r,t)=>{t.r(r),t.d(r,{OkxWalletAdapter:()=>f});var n=t(53986),a=t(89379),s=t(90675),c=t(10467),i=t(34903),u=t(58790),o=t(20450),p=t(82546),d=t(34533),l=["message"],h=["psbtHex","type"],v=["to","value","satBytes","extraParams"],A=["from","to","txSource","type","inscriptions","tick","amount","mintType"];class f extends p.A{constructor(e){var r=e.supportChain;super(),this.chainType=u.hD.EVM,this.chainMap={},this.supportChain=r&&r.length>0?r:[u.hD.EVM,u.hD.SOLANA,u.hD.APTOS,u.hD.TRON,u.hD.SUI,u.hD.BTC,u.hD.FRACTAL,u.hD.BTCSIGNET,u.hD.STACKS,u.hD.STARKNET,u.hD.NOSTR,u.hD.COSMOS,u.hD.TON,u.hD.SONIC_DEV,u.hD.SOON],this.initPromise=this.init(),this.aptos={},this.btc={},this.fractal={},this.cosmos={}}getWeb3(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getOkxWalletProvider();case 2:if(n=r.sent,e.chainType!==u.hD.EVM){r.next=5;break}return r.abrupt("return",n);case 5:return r.abrupt("return",null===(t=window)||void 0===t?void 0:t.okexchain[u.M7[e.chainType]]);case 6:case"end":return r.stop()}}),r)})))()}init(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var n,c,i,o,p,d,l,h,v,A,f,x,w,b;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.supportChain.includes(u.hD.SOLANA)){r.next=6;break}return r.next=3,Promise.resolve().then(t.bind(t,6035));case 3:r.t0=r.sent.default,r.next=7;break;case 6:r.t0={};case 7:if(n=r.t0,!e.supportChain.includes(u.hD.APTOS)){r.next=14;break}return r.next=11,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,16594));case 11:r.t1=r.sent.default,r.next=15;break;case 14:r.t1={};case 15:if(c=r.t1,!e.supportChain.includes(u.hD.TRON)){r.next=22;break}return r.next=19,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,76992));case 19:r.t2=r.sent.default,r.next=23;break;case 22:r.t2={};case 23:if(i=r.t2,!e.supportChain.includes(u.hD.SUI)){r.next=30;break}return r.next=27,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,19780));case 27:r.t3=r.sent.default,r.next=31;break;case 30:r.t3={};case 31:if(o=r.t3,!e.supportChain.includes(u.hD.BTC)){r.next=38;break}return r.next=35,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,82220));case 35:r.t4=r.sent.default,r.next=39;break;case 38:r.t4={};case 39:if(p=r.t4,!e.supportChain.includes(u.hD.FRACTAL)){r.next=46;break}return r.next=43,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,66442));case 43:r.t5=r.sent.default,r.next=47;break;case 46:r.t5={};case 47:if(d=r.t5,!e.supportChain.includes(u.hD.BTCSIGNET)){r.next=54;break}return r.next=51,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,5456));case 51:r.t6=r.sent.default,r.next=55;break;case 54:r.t6={};case 55:if(l=r.t6,!e.supportChain.includes(u.hD.STACKS)){r.next=62;break}return r.next=59,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,18498));case 59:r.t7=r.sent.default,r.next=63;break;case 62:r.t7={};case 63:if(h=r.t7,!e.supportChain.includes(u.hD.STARKNET)){r.next=70;break}return r.next=67,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,66763));case 67:r.t8=r.sent.default,r.next=71;break;case 70:r.t8={};case 71:if(v=r.t8,!e.supportChain.includes(u.hD.NOSTR)){r.next=78;break}return r.next=75,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,23633));case 75:r.t9=r.sent.default,r.next=79;break;case 78:r.t9={};case 79:if(A=r.t9,!e.supportChain.includes(u.hD.COSMOS)){r.next=86;break}return r.next=83,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,4578));case 83:r.t10=r.sent.default,r.next=87;break;case 86:r.t10={};case 87:if(f=r.t10,!e.supportChain.includes(u.hD.TON)){r.next=94;break}return r.next=91,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,26118));case 91:r.t11=r.sent.default,r.next=95;break;case 94:r.t11={};case 95:if(x=r.t11,!e.supportChain.includes(u.hD.SONIC_DEV)){r.next=102;break}return r.next=99,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,10240));case 99:r.t12=r.sent.default,r.next=103;break;case 102:r.t12={};case 103:if(w=r.t12,!e.supportChain.includes(u.hD.SOON)){r.next=110;break}return r.next=107,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,69741));case 107:r.t13=r.sent.default,r.next=111;break;case 110:r.t13={};case 111:b=r.t13,e.chainMap={[u.hD.SOLANA]:(0,a.A)({},n),[u.hD.APTOS]:(0,a.A)({},c),[u.hD.TRON]:(0,a.A)({},i),[u.hD.SUI]:(0,a.A)({},o),[u.hD.BTC]:(0,a.A)({},p),[u.hD.FRACTAL]:(0,a.A)({},d),[u.hD.BTCSIGNET]:(0,a.A)({},l),[u.hD.STACKS]:(0,a.A)({},h),[u.hD.STARKNET]:(0,a.A)({},v),[u.hD.NOSTR]:(0,a.A)({},A),[u.hD.TON]:(0,a.A)({},x),[u.hD.SONIC_DEV]:(0,a.A)({},w),[u.hD.COSMOS]:f,[u.hD.SOON]:b},e.aptos=c,e.btc=p,e.fractal=d,e.cosmos=f;case 117:case"end":return r.stop()}}),r)})))()}chainMethodMap(e){return this.chainMap[e]||(0,a.A)({},d.A)}getOkxWalletProvider(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.sO)({chainType:e.chainType});case 2:if(t=r.sent,e.chainType!==u.hD.EVM){r.next=6;break}return n=t.web3Provider,r.abrupt("return",n);case 6:return r.abrupt("return",t);case 7:case"end":return r.stop()}}),r)})))()}getAccount(){var e=arguments,r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,u,o,p,d,l;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e.length>0&&void 0!==e[0]?e[0]:{}).isNeedAll,t.next=3,(0,i.sO)();case 3:return a=t.sent,t.prev=4,t.next=7,null===a||void 0===a?void 0:a.getAccounts();case 7:if(c=t.sent,!n){t.next=12;break}return u=[],c.forEach((e=>{var r=e.address;u.push(r)})),t.abrupt("return",[...new Set(u)].join(","));case 12:return o=r.chainMethodMap(r.chainType).getAccount,t.next=15,r.getOkxWalletProvider();case 15:return p=t.sent,t.next=18,o({provider:p});case 18:if(d=t.sent){t.next=29;break}if(t.prev=20,!(c&&c.length>0)){t.next=23;break}return t.abrupt("return",c[0].address);case 23:t.next=29;break;case 25:throw t.prev=25,t.t0=t.catch(20),t.t0,t.t0;case 29:return t.abrupt("return",d);case 32:if(t.prev=32,t.t1=t.catch(4),t.t1,t.prev=35,l=[],null===a||void 0===a||!a.getAccounts){t.next=41;break}return t.next=40,null===a||void 0===a?void 0:a.getAccounts();case 40:l=t.sent;case 41:if(!(l&&l.length>0)){t.next=43;break}return t.abrupt("return",l[0].address);case 43:t.next=49;break;case 45:throw t.prev=45,t.t2=t.catch(35),t.t2,t.t2;case 49:case"end":return t.stop()}}),t,null,[[4,32],[20,25],[35,45]])})))()}getAccountByChainId(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,o,p,d,l;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chainId,a=e.chainType,c=a||0===a?a:(0,i.bs)(n),o=r.chainMethodMap(c).getAccount,t.next=5,(0,i.sO)({chainType:c});case 5:return p=t.sent,c===u.hD.EVM&&(p=null===(d=p)||void 0===d?void 0:d.web3Provider),t.prev=7,t.next=10,o({provider:p,chainId:n});case 10:return l=t.sent,t.abrupt("return",l);case 14:return t.prev=14,t.t0=t.catch(7),t.t0,t.abrupt("return","");case 18:case"end":return t.stop()}}),t,null,[[7,14]])})))()}signMessage(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,i,u,o;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.nonce,a=e.message,t.next=3,r.getOkxWalletProvider();case 3:return c=t.sent,t.next=6,r.getAccount();case 6:return i=t.sent,u=r.chainMethodMap(r.chainType).signMessage,t.prev=8,t.next=11,u({provider:c,message:a,nonce:n,address:i});case 11:return o=t.sent,t.abrupt("return",o);case 15:throw t.prev=15,t.t0=t.catch(8),t.t0,t.t0;case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()}signTypedData(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var c,i,u,o,p,d;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=e.message,o=(0,n.A)(e,l),t.next=3,r.getAccount();case 3:return p=t.sent,t.next=6,null===(c=window)||void 0===c||null===(i=c.okexchain)||void 0===i?void 0:i.request((0,a.A)({method:"eth_signTypedData_v4",params:[p,JSON.stringify(u)]},o));case 6:return d=t.sent,t.abrupt("return",d);case 8:case"end":return t.stop()}}),t)})))()}getChainId(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n,a;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.chainType!==u.hD.EVM){r.next=13;break}return r.next=3,e.getOkxWalletProvider();case 3:return t=r.sent,r.next=6,d.A.getChainId({provider:t});case 6:return n=r.sent,r.next=9,(0,o.W)(n);case 9:return a=r.sent,r.abrupt("return",a);case 13:if(e.chainType!==u.hD.COSMOS){r.next=15;break}return r.abrupt("return",e.cosmos.getChainId());case 15:return r.abrupt("return",e.chainType);case 16:case"end":return r.stop()}}),r)})))()}onChainChange(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:null===(t=window)||void 0===t||null===(n=t.okxwallet)||void 0===n||null===(a=n.on)||void 0===a||a.call(n,"chainChanged",e);case 1:case"end":return r.stop()}}),r)})))()}switchNetwork(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,p,d,l,h,v,A,f,x;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chain,a=e.chainType,c=e.addNetworkConfig,t.next=3,r.getChainId();case 3:return p=t.sent,t.next=6,r.getAccountByChainId({chainId:n,chainType:a});case 6:if(d=t.sent,l=a||0==a?a:(0,i.bs)(n),d){t.next=12;break}return t.abrupt("return",!1);case 12:if(l===u.hD.EVM){t.next=14;break}return t.abrupt("return",!0);case 14:return t.next=16,(0,o.B2)(n);case 16:if(h=t.sent,p!==h&&!isNaN(h)){t.next=19;break}return t.abrupt("return",!0);case 19:return t.prev=19,t.next=22,null===(v=window)||void 0===v||null===(A=v.okexchain)||void 0===A?void 0:A.switchChain({chainId:"0x".concat(Number(h).toString(16))});case 22:case 31:return t.abrupt("return",!0);case 25:if(t.prev=25,t.t0=t.catch(19),4902!==t.t0.code){t.next=37;break}return t.prev=28,t.next=31,null===(f=window)||void 0===f||null===(x=f.okexchain)||void 0===x?void 0:x.request({method:"wallet_addEthereumChain",params:c});case 34:return t.prev=34,t.t1=t.catch(28),t.abrupt("return",!1);case 37:return t.abrupt("return",!1);case 38:case"end":return t.stop()}}),t,null,[[19,25],[28,34]])})))()}watchAsset(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.tokenOptions,n=window.okexchain,r.next=4,d.A.watchAsset({provider:n,tokenOptions:t});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}sendTransaction(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,i,u,o;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,a=e.cb,c=e.extraParams,t.next=3,r.getOkxWalletProvider();case 3:return i=t.sent,u=r.chainMethodMap(r.chainType).sendTransaction,t.next=7,r.getAccount();case 7:return o=t.sent,t.abrupt("return",u({provider:i,payload:n,cb:a,extraParams:c,address:o}));case 9:case"end":return t.stop()}}),t)})))()}setChainType(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,o,p;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chainType,a=e.chainId,c=n||0==n?n:(0,i.bs)(a),t.next=4,r.getAccountByChainId({chainId:a,chainType:c});case 4:if(o=t.sent,!!!o){t.next=11;break}r.chainType=c,c===u.hD.COSMOS&&r.cosmos.setChainId(a),t.next=15;break;case 11:return t.next=13,(0,i.sO)();case 13:null!==(p=t.sent)&&void 0!==p&&p.getAccounts?p.getAccounts().then((e=>{if(e){var t=e[0].coinType;r.chainType=t}})).catch((()=>{r.chainType=c})):r.chainType=c;case 15:case"end":return t.stop()}}),t)})))()}signAllTransactions(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.transactions,t.next=3,r.getOkxWalletProvider();case 3:if(a=t.sent,c=r.chainMethodMap(r.chainType).signAllTransactions){t.next=7;break}throw new Error("current chain have no signAllTransactions, please check it");case 7:return t.next=9,c({provider:a,transactions:n});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))()}depositWToken(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,i,u,o,p;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.wTokenAddr,a=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,p=d.A.depositWToken({wTokenAddr:n,wTokenAbi:a,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:p,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}withdrawWToken(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,i,u,o,p;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.wTokenAddr,a=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,p=d.A.withdrawWToken({wTokenAddr:n,wTokenAbi:a,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:p,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}getAllChainTypeInfoList(){return(0,c.A)((0,s.A)().mark((function e(){var r,t,n,c,o,p,d,l,h;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,(0,i.sO)();case 3:return t=e.sent,e.next=6,null===t||void 0===t?void 0:t.getAccounts();case 6:return(n=e.sent)&&n.length>0&&(c="",n.some((e=>{var r=e.chainId;return Number(r)==u.M4.ETH&&(c=(0,a.A)((0,a.A)({},e),{},{chainType:u.hD.EVM}),!0)})),o="",n.some((e=>{var r=e.chainId;return Number(r)==u.M4.FRACTAL&&(o=(0,a.A)((0,a.A)({},e),{},{chainType:u.hD.FRACTAL}),!0)})),p="",d="",n.some((e=>{var r=e.chainId;return Number(r)==u.M4.SONIC_DEV?(p=(0,a.A)((0,a.A)({},e),{},{chainType:u.hD.SONIC_DEV}),!0):Number(r)==u.M4.SOON&&(d=(0,a.A)((0,a.A)({},e),{},{chainType:u.hD.SOON}),!0)})),l=n.filter((e=>{var r=e.coinType,t=e.chainId;return r!==u.hD.EVM&&![u.M4.FRACTAL,u.M4.SONIC_DEV].includes(Number(t))})),h=new Map,r=(r=l.filter((e=>!h.has(e.coinType)&&h.set(e.coinType,1)))).map((e=>(0,a.A)((0,a.A)({},e),{},{chainType:e.coinType}))),c&&r.push(c),o&&r.push(o),p&&r.push(p),d&&r.push(d)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))()}registerAptosCoin(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contractAddress,t.abrupt("return",r.aptos.registerAptosCoin({contractAddress:n,provider:window.okexchain}));case 2:case"end":return t.stop()}}),t)})))()}checkAndRegAptosCoin(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.address,a=e.contractAddress,t.abrupt("return",r.aptos.checkAndRegAptosCoin({provider:window.okexchain,address:n,contractAddress:a}));case 2:case"end":return t.stop()}}),t)})))()}getAptosBalance(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.address,a=e.currency,t.abrupt("return",r.aptos.getAptosBalance({address:n,currency:a}));case 2:case"end":return t.stop()}}),t)})))()}getAptosTransaction(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.aptos.getAptosTransaction(e));case 1:case"end":return t.stop()}}),t)})))()}getSolanaConnection(){var e=this.chainMethodMap(this.chainType).getSolanaConnection;if(!e)throw new Error("current chain have no getSolanaConnection, please check it");return e()}getPublicKey(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getOkxWalletProvider();case 2:if(t=r.sent,n=e.chainMethodMap(e.chainType).getPublicKey){r.next=6;break}throw new Error("current chain have no getPublicKey, please check it");case 6:return r.abrupt("return",n({provider:t}));case 7:case"end":return r.stop()}}),r)})))()}getCompressedPublicKey(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getOkxWalletProvider();case 2:if(t=r.sent,n=e.chainMethodMap(e.chainType).getCompressedPublicKey){r.next=6;break}throw new Error("current chain have no getCompressedPublicKey, please check it");case 6:return r.abrupt("return",n({provider:t}));case 7:case"end":return r.stop()}}),r)})))()}sendInscription(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,u,o,p,d;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.from,a=e.to,c=e.data,u=e.type,t.next=3,(0,i.sO)({chainType:r.chainType});case 3:if(o=t.sent,p=r.chainMethodMap(r.chainType).sendInscription){t.next=7;break}throw new Error("current chain have no sendInscription, please check it");case 7:return t.next=9,p({provider:o,from:n,to:a,data:c,type:u});case 9:return d=t.sent,t.abrupt("return",d);case 11:case"end":return t.stop()}}),t)})))()}signPsbt(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var c,u,o,p,d,l,v;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.psbtHex,u=e.type,o=(0,n.A)(e,h),t.next=3,(0,i.sO)({chainType:r.chainType});case 3:return p=t.sent,t.next=6,r.getAccount();case 6:if(d=t.sent,l=r.chainMethodMap(r.chainType).signPsbt){t.next=10;break}throw new Error("current chain have no signPsbt, please check it");case 10:return v=l((0,a.A)({provider:p,psbtHex:c,type:u,account:d},o)),t.abrupt("return",v);case 12:case"end":return t.stop()}}),t)})))()}sendPsbt(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,u,o;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.txList,t.next=3,(0,i.sO)({chainType:r.chainType});case 3:return a=t.sent,t.next=6,r.getAccount();case 6:if(c=t.sent,u=r.chainMethodMap(r.chainType).sendPsbt){t.next=10;break}throw new Error("current chain have no sendPsbt, please check it");case 10:return t.next=12,u({provider:a,txList:n,account:c});case 12:return o=t.sent,t.abrupt("return",o);case 14:case"end":return t.stop()}}),t)})))()}pushPsbt(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,u;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.psbtHex,t.next=3,(0,i.sO)({chainType:r.chainType});case 3:if(a=t.sent,c=r.chainMethodMap(r.chainType).pushPsbt){t.next=7;break}throw new Error("current chain have no sendPsbt, please check it");case 7:return t.next=9,c({provider:a,psbtHex:n});case 9:return u=t.sent,t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))()}signPsbts(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,u,o;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.psbtHexs,a=e.options,t.next=3,(0,i.sO)({chainType:r.chainType});case 3:if(c=t.sent,u=r.chainMethodMap(r.chainType).signPsbts){t.next=7;break}throw new Error("current chain have no signPsbts, please check it");case 7:return t.next=9,u({psbtHexs:n,options:a,provider:c});case 9:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()}validateAddress(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a,c,u;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.account,t.next=3,(0,i.sO)({chainType:r.chainType});case 3:if(a=t.sent,c=r.chainMethodMap(r.chainType).validateAddress){t.next=7;break}throw new Error("current chain have no validateAddress, please check it");case 7:return t.next=9,c({provider:a,account:n});case 9:return u=t.sent,t.abrupt("return",u);case 11:case"end":return t.stop()}}),t)})))()}sendBitcoin(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var c,u,o,p,d,l,h,A,f;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.to,u=e.value,o=e.satBytes,p=e.extraParams,d=(0,n.A)(e,v),t.next=3,(0,i.sO)({chainType:r.chainType});case 3:return l=t.sent,t.next=6,r.getAccount();case 6:if(h=t.sent,A=r.chainMethodMap(r.chainType).sendBitcoin){t.next=10;break}throw new Error("current chain have no sendBitcoin, please check it");case 10:return t.next=12,A((0,a.A)({provider:l,from:h,to:c,value:u,satBytes:o,extraParams:p},d));case 12:return f=t.sent,t.abrupt("return",f);case 14:case"end":return t.stop()}}),t)})))()}getLatestBlockhash(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n,a;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:if(t=r.sent,n=e.chainMethodMap(e.chainType).getLatestBlockhash){r.next=6;break}throw new Error("current chain have no getLatestBlockhash, please check it");case 6:return r.next=8,n({from:t});case 8:return a=r.sent,r.abrupt("return",a);case 10:case"end":return r.stop()}}),r)})))()}getBtcAddressType(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var n,a;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.address,a=r.chainMethodMap(r.chainType).getBtcAddressType){t.next=4;break}throw new Error("current chain have no sendInscription, please check it");case 4:return t.abrupt("return",a({address:n}));case 5:case"end":return t.stop()}}),t)})))()}inscribe(e){var r=this;return(0,c.A)((0,s.A)().mark((function t(){var c,u,o,p,d,l,h,v,f,x,w;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.from,u=e.to,o=e.txSource,p=e.type,d=e.inscriptions,l=e.tick,h=e.amount,v=e.mintType,f=(0,n.A)(e,A),t.next=3,(0,i.sO)({chainType:r.chainType});case 3:if(x=t.sent,w=r.chainMethodMap(r.chainType).inscribe){t.next=7;break}throw new Error("current chain have no sendInscription, please check it");case 7:return t.abrupt("return",w((0,a.A)({provider:x,from:c,to:u,txSource:o,type:p,inscriptions:d,tick:l,amount:h,mintType:v},f)));case 8:case"end":return t.stop()}}),t)})))()}}},81029:(e,r,t)=>{t.r(r),t.d(r,{PhantomAdapter:()=>o});var n=t(90675),a=t(10467),s=t(34903),c=t(58790),i=t(82546),u=t(6035);class o extends i.A{getWeb3(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}sendTransaction(e){var r=this;return(0,a.A)((0,n.A)().mark((function t(){var a,c,i,o,p;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.payload,c=e.cb,i=e.extraParams,t.next=3,(0,s.sO)();case 3:return o=t.sent,t.next=6,r.getAccount();case 6:return p=t.sent,t.next=9,u.default.sendTransaction({provider:o,payload:a,cb:c,extraParams:i,address:p});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})))()}getAccount(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.next=5,u.default.getAccount({provider:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()}signMessage(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.message,r.next=3,(0,s.sO)();case 3:return a=r.sent,r.next=6,u.default.signMessage({provider:a,message:t});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()}getChainId(){return c.M4.SOLANA}getAllChainTypeInfoList(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,a=e.getChainId(),r.abrupt("return",[{address:t,chainType:c.hD.SOLANA,chainId:a}]);case 5:case"end":return r.stop()}}),r)})))()}signAllTransactions(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.transactions,r.next=3,(0,s.sO)();case 3:return a=r.sent,r.next=6,u.default.signAllTransactions({provider:a,transactions:t});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()}getSolanaConnection(){return u.default.getSolanaConnection()}switchNetwork(e){return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.chain,r.abrupt("return",Promise.resolve(t===c.M4.SOLANA));case 2:case"end":return r.stop()}}),r)})))()}getLatestBlockhash(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,u.default.getLatestBlockhash({from:t});case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()}}},22418:(e,r,t)=>{t.r(r),t.d(r,{PhantomBtcAdapter:()=>o});var n=t(90675),a=t(10467),s=t(34903),c=t(58790),i=t(82546),u=t(82220);class o extends i.A{getWeb3(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}getAccount(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.ordinalsAddress,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}getPaymentAccount(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.paymentAddress,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}getChainId(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.M4.BTC);case 1:case"end":return e.stop()}}),e)})))()}signMessage(e){return(0,a.A)((0,n.A)().mark((function r(){var t,a,c,i,u,o;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=function(e){var r=String.fromCodePoint(...e);return btoa(r)},t=e.message,a=e.account,r.next=4,(0,s.sO)();case 4:return i=r.sent,r.prev=5,r.next=8,i.bitcoin.signMessage(a,(new TextEncoder).encode(t));case 8:return u=r.sent,o=u.signature,r.abrupt("return",c(o));case 13:throw r.prev=13,r.t0=r.catch(5),r.t0,r.t0;case 17:case"end":return r.stop()}}),r,null,[[5,13]])})))()}switchNetwork(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))()}getAllChainTypeInfoList(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.abrupt("return",[{address:t,chainType:c.hD.BTC,chainId:c.M4.BTC}]);case 4:case"end":return r.stop()}}),r)})))()}getPublicKey(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.ordinalsPublicKey,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}getPaymentPublicKey(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.paymentPublicKey,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}signPsbt(e){return(0,a.A)((0,n.A)().mark((function r(){var a,c,i,u,o,p,d;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=e.psbtHex,i=e.inputsToSign,r.next=3,Promise.resolve().then(t.bind(t,89397));case 3:return u=r.sent,o=u.hex,r.next=7,(0,s.sO)();case 7:return p=r.sent,r.next=10,null===p||void 0===p||null===(a=p.bitcoin)||void 0===a?void 0:a.signPSBT(o.decode(c),{inputsToSign:i});case 10:return d=r.sent,r.abrupt("return",o.encode(d));case 12:case"end":return r.stop()}}),r)})))()}getBtcAddressType(e){return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.address,r.abrupt("return",u.default.getBtcAddressType({address:t}));case 2:case"end":return r.stop()}}),r)})))()}}},89264:(e,r,t)=>{t.r(r),t.d(r,{UnisatAdapter:()=>A});var n=t(89379),a=t(53986),s=t(90675),c=t(10467),i=t(14636),u=t(34903),o=t(49927),p=t(58790),d=t(40410),l=t(82546),h=t(82220),v=["to","value","satBytes"];class A extends l.A{getWeb3(){return(0,c.A)((0,s.A)().mark((function e(){var r;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.sO)();case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.unisat);case 4:case"end":return e.stop()}}),e)})))()}getAccount(){return(0,c.A)((0,s.A)().mark((function e(){var r,t,n;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.sO)();case 2:return t=e.sent,e.next=5,null===t||void 0===t||null===(r=t.unisat)||void 0===r?void 0:r.requestAccounts();case 5:if(!((n=e.sent)&&n.length>0)){e.next=8;break}return e.abrupt("return",n[0]);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)})))()}getChainId(){return(0,c.A)((0,s.A)().mark((function e(){var r,t,n;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.sO)();case 3:return t=e.sent,e.next=6,null===t||void 0===t||null===(r=t.unisat)||void 0===r?void 0:r.getChain();case 6:n=e.sent,e.t0=null===n||void 0===n?void 0:n.enum,e.next=e.t0===d.xz.BTC?10:e.t0===d.xz.FRACTAL?11:12;break;case 10:return e.abrupt("return",p.M4.BTC);case 11:return e.abrupt("return",p.M4.FRACTAL);case 12:return e.abrupt("return",p.M4.BTC);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),console.error("getChainId error:",e.t1);case 18:return e.abrupt("return",p.M4.BTC);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()}signMessage(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a,c;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.message,n=e.type,r.next=3,(0,u.sO)();case 3:return a=r.sent,r.prev=4,r.next=7,a.unisat.signMessage(t,n);case 7:return c=r.sent,r.abrupt("return",c);case 11:throw r.prev=11,r.t0=r.catch(4),r.t0,r.t0;case 15:case"end":return r.stop()}}),r,null,[[4,11]])})))()}switchNetwork(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a,c;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.chain,r.next=3,(0,u.sO)();case 3:if(n=r.sent,!(a=d.w3[t])){r.next=9;break}return r.next=8,null===(c=n.unisat)||void 0===c?void 0:c.switchChain(a);case 8:return r.abrupt("return",!0);case 9:return r.abrupt("return",!1);case 10:case"end":return r.stop()}}),r)})))()}getPublicKey(){return(0,c.A)((0,s.A)().mark((function e(){var r,t;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.sO)();case 2:return r=e.sent,e.next=5,null===r||void 0===r?void 0:r.unisat.getPublicKey();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))()}sendInscription(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a,c,i,o;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.to,a=e.inscriptionId,c=e.options,r.next=3,(0,u.sO)();case 3:return i=r.sent,r.next=6,null===i||void 0===i||null===(t=i.unisat)||void 0===t?void 0:t.sendInscription(n,a,c);case 6:return o=r.sent,r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()}signPsbt(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a,c,i;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.psbtHex,a=e.options,r.next=3,(0,u.sO)();case 3:return c=r.sent,r.next=6,null===c||void 0===c||null===(t=c.unisat)||void 0===t?void 0:t.signPsbt(n,a);case 6:return i=r.sent,r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})))()}sendPsbt(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.psbtHex,r.next=3,(0,u.sO)();case 3:return n=r.sent,r.next=6,null===n||void 0===n?void 0:n.unisat.pushPsbt(t);case 6:return a=r.sent,r.abrupt("return",a);case 8:case"end":return r.stop()}}),r)})))()}signPsbts(e){return(0,c.A)((0,s.A)().mark((function r(){var t,n,a,c,i;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.psbtHexs,a=e.options,r.next=3,(0,u.sO)();case 3:return c=r.sent,r.next=6,null===c||void 0===c||null===(t=c.unisat)||void 0===t?void 0:t.signPsbts(n,a);case 6:return i=r.sent,r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})))()}getAllChainTypeInfoList(){var e=this;return(0,c.A)((0,s.A)().mark((function r(){var t,n;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,e.getChainId();case 5:return n=r.sent,r.abrupt("return",[{address:t,chainType:n,chainId:n}]);case 7:case"end":return r.stop()}}),r)})))()}sendBitcoin(e){return(0,c.A)((0,s.A)().mark((function r(){var t,c,p,d,l,h,A,f,x;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=e.to,p=e.value,d=e.satBytes,l=(0,a.A)(e,v),r.next=3,(0,u.sO)();case 3:return h=r.sent,A=i._u.BigNumber,f=new A(p).multipliedBy(new A(o.G)),r.next=8,null===h||void 0===h||null===(t=h.unisat)||void 0===t?void 0:t.sendBitcoin(c,f.toNumber(),(0,n.A)({feeRate:d},l));case 8:return x=r.sent,r.abrupt("return",x);case 10:case"end":return r.stop()}}),r)})))()}getBtcAddressType(e){return(0,c.A)((0,s.A)().mark((function r(){var t;return(0,s.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.address,r.abrupt("return",h.default.getBtcAddressType({address:t}));case 2:case"end":return r.stop()}}),r)})))()}}},30297:(e,r,t)=>{t.r(r),t.d(r,{WalletConnectAdapter:()=>h});var n=t(90675),a=t(89379),s=t(10467),c=t(34903),i=t(58790),u=t(99801),o=t(20450),p=t(72456),d=t(82546),l=t(34533);class h extends d.A{constructor(e){var r=e.supportChain;super(),this.chainType=i.hD.EVM,this.supportChain=r&&r.length>0?r:[i.hD.EVM,i.hD.SOLANA],this.initPromise=this.init(),this.solana={}}init(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var s;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.supportChain.includes(i.hD.SOLANA)){r.next=6;break}return r.next=3,Promise.resolve().then(t.bind(t,6035));case 3:r.t0=r.sent.default,r.next=7;break;case 6:r.t0={};case 7:s=r.t0,e.chainMap={[i.hD.SOLANA]:(0,a.A)({},s)},e.solana=s;case 10:case"end":return r.stop()}}),r)})))()}getAccount(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var t,a,s;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.sO)();case 2:return t=r.sent,a="",s=t.getAccounts(),a=e.chainType===i.hD.SOLANA?null===s||void 0===s?void 0:s.solana:null===s||void 0===s?void 0:s.eip155,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()}getWalletconnectProvider(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.sO)();case 2:if(t=r.sent,a=t.provider,e.chainType!==i.hD.EVM){r.next=6;break}return r.abrupt("return",new Web3(a));case 6:return r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()}chainMethodMap(e){return this.chainMap[e]||(0,a.A)({},l.A)}getWeb3(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var t,a,s,c,i,o;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getChainId();case 2:return a=r.sent,r.next=5,(0,u.Qr)(a);case 5:if(s=r.sent,c=(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t[0])||{},!((i=c.rpcUrls)&&i.length>0)){r.next=10;break}return o=i[0],r.abrupt("return",new Web3(o));case 10:case"end":return r.stop()}}),r)})))()}sendTransaction(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,c,i,u,o,d;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.payload,s=e.cb,c=e.extraParams,t.prev=1,t.next=4,r.getWalletconnectProvider();case 4:return i=t.sent,t.next=7,r.getAccount();case 7:return u=t.sent,o=r.chainMethodMap(r.chainType).sendWcTransaction,t.next=11,o({provider:i,payload:a,cb:s,extraParams:c,address:u});case 11:return d=t.sent,t.abrupt("return",d);case 15:throw t.prev=15,t.t0=t.catch(1),(0,p.P)(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()}signMessage(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,c,i,u;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.message,t.prev=1,t.next=4,r.getWalletconnectProvider();case 4:return s=t.sent,t.next=7,r.getAccount();case 7:return c=t.sent,i=r.chainMethodMap(r.chainType).signWcMessage,t.next=11,i({provider:s,message:a,address:c});case 11:return u=t.sent,t.abrupt("return",u);case 15:throw t.prev=15,t.t0=t.catch(1),(0,p.P)(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()}signTypedData(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,i,u,o;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.message,t.next=3,(0,c.sO)();case 3:return s=t.sent,i=s.provider,t.next=7,r.getAccount();case 7:return u=t.sent,t.next=10,null===i||void 0===i?void 0:i.request({method:"eth_signTypedData",params:[u,JSON.stringify(a)]});case 10:return o=t.sent,t.abrupt("return",o);case 12:case"end":return t.stop()}}),t)})))()}getChainId(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var t,a,s;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.chainType!==i.hD.EVM){r.next=11;break}return r.next=3,e.getWalletconnectProvider();case 3:return t=r.sent,r.next=6,l.A.getChainId({provider:t});case 6:return a=r.sent,r.next=9,(0,o.W)(a);case 9:return s=r.sent,r.abrupt("return",s);case 11:return r.abrupt("return",e.chainType);case 12:case"end":return r.stop()}}),r)})))()}setChainType(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,i;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.chainType,s=e.chainId,i=a||0==a?a:(0,c.bs)(s),r.chainType=i;case 3:case"end":return t.stop()}}),t)})))()}getSolanaConnection(){return this.solana.getSolanaConnection()}getLatestBlockhash(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,e.solana.getLatestBlockhash({from:t});case 5:return a=r.sent,r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})))()}switchNetwork(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,i,u;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.chain,t.next=3,r.getChainId();case 3:if(t.sent!==a){t.next=6;break}return t.abrupt("return",!0);case 6:return t.next=8,(0,o.B2)(a);case 8:return s=t.sent,t.prev=9,t.next=12,(0,c.sO)();case 12:return i=t.sent,u=i.provider,t.next=16,null===u||void 0===u?void 0:u.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(parseInt(s).toString(16))}]});case 16:return t.abrupt("return",!0);case 19:return t.prev=19,t.t0=t.catch(9),t.t0,t.abrupt("return",!1);case 23:case"end":return t.stop()}}),t,null,[[9,19]])})))()}signAllTransactions(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,c,i,u;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.transactions,t.next=3,r.getWalletconnectProvider();case 3:return s=t.sent,t.next=6,r.getAccount();case 6:return c=t.sent,i=a.map((e=>r.solana.signWcTransaction({provider:s,payload:{transaction:e},address:c}))),t.prev=8,t.next=11,Promise.all(i);case 11:return u=t.sent,t.abrupt("return",u);case 15:throw t.prev=15,t.t0=t.catch(8),t.t0,(0,p.P)(t.t0);case 19:case"end":return t.stop()}}),t,null,[[8,15]])})))()}sendCustomTransaction(e,r){return(0,s.A)((0,n.A)().mark((function t(){var a,s,i,u;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c._v)();case 3:return a=t.sent,s=(a||{}).sendCustomTransaction,i=void 0===s?()=>{}:s,t.next=7,i(e);case 7:return u=t.sent,r&&r(u),t.abrupt("return",u);case 12:throw t.prev=12,t.t0=t.catch(0),(0,p.P)(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}okxAppCancelApprove(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var s,c,i,u,o,d,l,h,v,A;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.abi,c=e.addr,i=e.operatorAddr,u=e.cb,o=e.options,t.prev=1,t.next=4,r.getAccount();case 4:return d=t.sent,t.next=7,r.getWeb3();case 7:return l=t.sent,h=new l.eth.Contract(s,c),v={from:d,to:c,data:h.methods.approve(i,0).encodeABI()},t.next=12,r.sendCustomTransaction((0,a.A)((0,a.A)({},v),o),u);case 12:return A=t.sent,t.abrupt("return",A);case 16:throw t.prev=16,t.t0=t.catch(1),(0,p.P)(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()}getAllChainTypeInfoList(){var e=this;return(0,s.A)((0,n.A)().mark((function r(){var t,a;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.next=5,e.getChainId();case 5:return a=r.sent,r.abrupt("return",[{address:t,chainType:i.hD.EVM,chainId:a}]);case 7:case"end":return r.stop()}}),r)})))()}depositWToken(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,c,i,u,o,p;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.wTokenAddr,s=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,p=l.A.depositWToken({wTokenAddr:a,wTokenAbi:s,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:p,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}withdrawWToken(e){var r=this;return(0,s.A)((0,n.A)().mark((function t(){var a,s,c,i,u,o,p;return(0,n.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.wTokenAddr,s=e.wTokenAbi,c=e.amount,i=e.cb,t.next=3,r.getAccount();case 3:return u=t.sent,t.next=6,r.getWeb3();case 6:return o=t.sent,p=l.A.withdrawWToken({wTokenAddr:a,wTokenAbi:s,amount:c,account:u,web3:o}),t.abrupt("return",r.sendTransaction({payload:p,cb:i}));case 9:case"end":return t.stop()}}),t)})))()}}},64197:(e,r,t)=>{t.r(r),t.d(r,{XverseAdapter:()=>o});var n=t(90675),a=t(10467),s=t(34903),c=t(58790),i=t(82546),u=t(82220);class o extends i.A{getWeb3(){return(0,a.A)((0,n.A)().mark((function e(){var r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))()}getAccount(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.ordinalsAddress,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}getPaymentAccount(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.paymentAddress,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}getChainId(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.M4.BTC);case 1:case"end":return e.stop()}}),e)})))()}signMessage(e){return(0,a.A)((0,n.A)().mark((function r(){var a,s,c,i;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.message,s=e.account,r.next=3,Promise.all([t.e(3043),t.e(6595),t.e(9422)]).then(t.t.bind(t,46595,23));case 3:return c=r.sent,i=c.signMessage,r.abrupt("return",new Promise(((e,r)=>{i({payload:{address:s,message:a,network:{type:"Mainnet"}},onFinish:r=>(e(r),r),onCancel:()=>{r({code:4001,message:"Xverse signMessage canceled"})}})})));case 6:case"end":return r.stop()}}),r)})))()}switchNetwork(){return(0,a.A)((0,n.A)().mark((function e(){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))()}getAllChainTypeInfoList(){var e=this;return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getAccount();case 2:return t=r.sent,r.abrupt("return",[{address:t,chainType:c.hD.BTC,chainId:c.M4.BTC}]);case 4:case"end":return r.stop()}}),r)})))()}getPublicKey(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.ordinalsPublicKey,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}getPaymentPublicKey(){return(0,a.A)((0,n.A)().mark((function e(){var r,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.sO)();case 2:return r=e.sent,t=r.paymentPublicKey,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}signPsbt(e){return(0,a.A)((0,n.A)().mark((function r(){var a,s,c,i;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.psbtBase64,s=e.inputsToSign,r.next=3,Promise.all([t.e(3043),t.e(6595),t.e(9422)]).then(t.t.bind(t,46595,23));case 3:return c=r.sent,i=c.signTransaction,r.abrupt("return",new Promise(((e,r)=>{i({payload:{network:{type:"Mainnet"},message:"",psbtBase64:a,broadcast:!1,inputsToSign:s},onFinish:r=>(e(null===r||void 0===r?void 0:r.psbtBase64),r),onCancel:()=>{r({code:4001,message:"Xverse transaction canceled"})}})})));case 6:case"end":return r.stop()}}),r)})))()}sendPsbt(e){return(0,a.A)((0,n.A)().mark((function r(){var a,s,c,i;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.psbtBase64,s=e.inputsToSign,r.next=3,Promise.all([t.e(3043),t.e(6595),t.e(9422)]).then(t.t.bind(t,46595,23));case 3:return c=r.sent,i=c.signTransaction,r.abrupt("return",new Promise(((e,r)=>{i({payload:{network:{type:"Mainnet"},message:"",psbtBase64:a,broadcast:!0,inputsToSign:s},onFinish:r=>(e(null===r||void 0===r?void 0:r.txId),r),onCancel:()=>{r({code:4001,message:"Xverse transaction canceled"})}})})));case 6:case"end":return r.stop()}}),r)})))()}getBtcAddressType(e){return(0,a.A)((0,n.A)().mark((function r(){var t;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.address,r.abrupt("return",u.default.getBtcAddressType({address:t}));case 2:case"end":return r.stop()}}),r)})))()}}},16594:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var n=t(90675),a=t(10467),s=t(54670),c=t(7580),i={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,e.next=3,null===a||void 0===a||null===(t=a.aptos)||void 0===t?void 0:t.connect();case 3:return s=e.sent,c=s.address,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.message,s=r.nonce,e.prev=1,e.next=4,t.aptos.signMessage({message:a,nonce:s});case 4:return c=e.sent,e.abrupt("return",null===c||void 0===c?void 0:c.signature);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.payload,s=r.cb,e.prev=1,e.next=4,t.aptos.signAndSubmitTransaction(a);case 4:return c=e.sent,i=c.hash,s&&s(i),e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,e.next=3,null===a||void 0===a||null===(t=a.aptos)||void 0===t?void 0:t.connect();case 3:return s=e.sent,c=(s||{}).publicKey,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),registerAptosCoin:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.contractAddress,s={function:"0x1::managed_coin::register",type_arguments:[a],arguments:[],type:"entry_function_payload"},e.next=4,i.sendTransaction({provider:t,payload:s});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),checkRegStatusAptosCoin:e=>{var r=e.address,t=e.contractAddress;return c.A.post(s.A.APTOS_ADDRESS_REGISTER_STATUS,{address:r,contractAddress:t})},checkAndRegAptosCoin:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,u,o,p,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.address,s=r.contractAddress,e.prev=1,e.next=4,i.checkRegStatusAptosCoin({address:a,contractAddress:s});case 4:if(c=e.sent,o=(u=c||{}).code,p=u.data,0!==o||!p){e.next=14;break}if(p.register){e.next=13;break}return e.next=11,i.registerAptosCoin({provider:t,contractAddress:s});case 11:return d=e.sent,e.abrupt("return",d);case 13:return e.abrupt("return",!0);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(r){return e.apply(this,arguments)}}(),getAptosBalance:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,i,u,o,p,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.address,a=r.currency,i="0x1::coin::CoinStore<".concat(a,">"),e.prev=2,e.next=5,c.A.getNormal("".concat(s.A.APTOS_GET_RESOURCE,"/").concat(t,"/resource/").concat(i));case 5:return p=e.sent,d=null===p||void 0===p||null===(u=p.data)||void 0===u||null===(o=u.coin)||void 0===o?void 0:o.value,e.abrupt("return",d);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(r){return e.apply(this,arguments)}}(),getAptosTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.A.getNormal("".concat(s.A.APTOS_GET_TRANSACTION,"/").concat(r));case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.success);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};const u=i},82220:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var n=t(89379),a=t(53986),s=t(90675),c=t(10467),i=t(40410),u=["provider","psbtHex","account","type"],o=["provider","from","to","value","satBytes","extraParams"],p=["provider","from","to","txSource","type","inscriptions","tick","amount","mintType"];const d={getAccount:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.address,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.publicKey,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getCompressedPublicKey:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.compressedPublicKey,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendInscription:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i,u,o;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.from,c=r.to,i=r.data,u=r.type,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.transferNft({from:a,to:c,data:i,type:u});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.message,c=r.address,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.signMessage(a,{from:c});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signPsbt:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,i,o,p,d,l;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.psbtHex,o=r.account,p=r.type,d=(0,a.A)(r,u),e.next=3,null===c||void 0===c||null===(t=c.bitcoin)||void 0===t?void 0:t.signPsbt(i,(0,n.A)({from:o,type:p},d));case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signPsbts:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.psbtHexs,c=r.options,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.signPsbts(a,c);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),pushPsbt:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.psbtHex,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.pushPsbt(a);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendPsbt:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.txList,c=r.account,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.sendPsbt(a,c);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),validateAddress:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.account,e.next=3,null===n||void 0===n||null===(t=n.bitcoin)||void 0===t?void 0:t.request({method:"validateAddress",params:{address:a}});case 3:return c=e.sent,i=c.isValid,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendBitcoin:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,i,u,p,d,l,h,v,A;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.from,u=r.to,p=r.value,d=r.satBytes,l=r.extraParams,h=(0,a.A)(r,o),e.next=3,null===c||void 0===c||null===(t=c.bitcoin)||void 0===t?void 0:t.send((0,n.A)({from:i,to:u,value:p,satBytes:d,extraParams:l},h));case 3:return v=e.sent,A=v.txhash,e.abrupt("return",A);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getBtcAddressType:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=r.address).substring(0,1)!==i.wt[i.Un.LEGACY]){e.next=3;break}return e.abrupt("return",i.Un.LEGACY);case 3:if(t.substring(0,1)!==i.wt[i.Un.NESTED_SEGWIT]){e.next=5;break}return e.abrupt("return",i.Un.NESTED_SEGWIT);case 5:if(t.substring(0,4)!==i.wt[i.Un.NATIVE_SEGWIT]){e.next=7;break}return e.abrupt("return",i.Un.NATIVE_SEGWIT);case 7:return e.abrupt("return",i.Un.TAPROOT);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),inscribe:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,i,u,o,d,l,h,v,A,f,x;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.from,u=r.to,o=r.txSource,d=r.type,l=r.inscriptions,h=r.tick,v=r.amount,A=r.mintType,f=(0,a.A)(r,p),e.next=3,null===c||void 0===c||null===(t=c.bitcoin)||void 0===t?void 0:t.mint((0,n.A)({from:i,to:u,txSource:o,type:d,inscriptions:l,tick:h,amount:v,mintType:A},f));case 3:return x=e.sent,e.abrupt("return",x);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}},5456:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var n=t(89379),a=t(53986),s=t(90675),c=t(10467),i=["provider","psbtHex","account","type"];const u={getAccount:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.bitcoinSignet)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.address,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.bitcoinSignet)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.publicKey,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.message,c=r.address,e.next=3,null===n||void 0===n||null===(t=n.bitcoinSignet)||void 0===t?void 0:t.signMessage(a,{from:c});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signPsbt:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,u,o,p,d,l;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,u=r.psbtHex,o=r.account,p=r.type,d=(0,a.A)(r,i),e.next=3,null===c||void 0===c||null===(t=c.bitcoinSignet)||void 0===t?void 0:t.signPsbt(u,(0,n.A)({from:o,type:p},d));case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}},4578:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var n=t(90675),a=t(10467),s=t(20450),c=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r,e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return a=e.sent,s=Array.from(new Uint8Array(a)),c=s.map((e=>e.toString(16).padStart(2,"0"))).join(""),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),i=t(20746).Buffer,u=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var a,s,c,u,o,p;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.bodyBytes,s=r.authInfoBytes,c=r.signature,e.next=3,t.e(4121).then(t.bind(t,21528));case 3:return u=e.sent,o=u.TxRaw,p=o.encode({bodyBytes:a,authInfoBytes:s,signatures:[i.from(c,"base64")]}).finish(),e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o={chainId:"",getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,c,i,u,p,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,c=r.chainId,i=c||o.getChainId(),e.next=4,(0,s.B2)(i);case 4:return u=e.sent,e.next=7,null===a||void 0===a||null===(t=a.keplr)||void 0===t?void 0:t.getKey(u);case 7:return p=e.sent,d=p.bech32Address,e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,c,i,u;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=o.getChainId(),e.next=4,(0,s.B2)(a);case 4:return c=e.sent,e.next=7,null===t||void 0===t?void 0:t.keplr.getKey(c);case 7:return i=e.sent,u=i.pubKey,e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,c,i,u,p,d,l;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,c=r.message,i=r.address,u=o.getChainId(),e.next=4,(0,s.B2)(u);case 4:return p=e.sent,e.next=7,null===a||void 0===a||null===(t=a.keplr)||void 0===t?void 0:t.signArbitrary(p,i,c);case 7:return d=e.sent,l=d.signature,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var a,s,o,p,d,l,h,v,A,f,x,w,b,m,g,k,T,y,C;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.provider,p=r.payload,d=r.cb,l=r.address,e.next=3,t.e(4121).then(t.bind(t,71181));case 3:return h=e.sent.default,v=p.chainId,A=p.sign_doc,f=A.bodyBytes,x=A.authInfoBytes,w=A.accountNumber,b=i.from(f.substring(2,f.length),"hex"),m=i.from(x.substring(2,x.length),"hex"),e.next=9,null===o||void 0===o||null===(a=o.keplr)||void 0===a?void 0:a.signDirect(v,l,{bodyBytes:b,authInfoBytes:m,chainId:v,accountNumber:h.fromString(w)});case 9:return g=e.sent,k=g.signature.signature,T=g.signed.authInfoBytes,e.next=14,u({bodyBytes:b,authInfoBytes:T,signature:k});case 14:return y=e.sent,e.next=17,c(y);case 17:return C=(C=e.sent).toUpperCase(),e.next=21,null===o||void 0===o||null===(s=o.keplr)||void 0===s?void 0:s.sendTx(v,y,"async");case 21:return d&&d(C),e.abrupt("return",C);case 23:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),setChainId:e=>{o.chainId=e},getChainId:()=>o.chainId};const p=o},34533:(e,r,t)=>{t.d(r,{A:()=>c});var n=t(90675),a=t(10467),s={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,s=a,e.next=4,null===s||void 0===s||null===(t=s.eth)||void 0===t?void 0:t.getAccounts();case 4:return c=e.sent,e.abrupt("return",c&&c[0]?c[0].toLowerCase():"");case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getChainId:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,s=a,e.next=4,null===s||void 0===s||null===(t=s.eth)||void 0===t?void 0:t.getChainId();case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:e=>{var r=e.provider,t=e.message,n=e.address,a=r;return new Promise(((e,r)=>{var s;null===a||void 0===a||null===(s=a.eth)||void 0===s||s.personal.sign(t,n,"").then((r=>{e(r)})).catch((e=>{r(e)}))}))},signWcMessage:e=>{var r=e.provider,t=e.message,n=e.address;return s.signMessage({provider:r,message:t,address:n})},signTypedData:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.message,c=r.address,e.next=3,null===(t=window)||void 0===t||null===(a=t.ethereum)||void 0===a?void 0:a.request({method:"eth_signTypedData_v4",params:[c,JSON.stringify(s)]});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),watchAsset:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.tokenOptions,e.next=3,null===t||void 0===t?void 0:t.request({method:"wallet_watchAsset",params:a});case 3:if(!e.sent){e.next=8;break}e.next=9;break;case 8:throw new Error("token add to wallet, something went wrong.");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),addNetwork:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.params,e.next=3,null===t||void 0===t?void 0:t.request({method:"wallet_addEthereumChain",params:a});case 3:if(!e.sent){e.next=8;break}e.next=9;break;case 8:throw new Error("network add to wallet, something went wrong.");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:e=>{var r=e.provider,t=e.payload,n=e.cb;return new Promise(((e,a)=>{var s;null===r||void 0===r||null===(s=r.eth)||void 0===s||s.sendTransaction(t,((r,t)=>{"Send transaction hash : ".concat(t),t?(n&&n(t),e(t)):a(r)})).catch((e=>{a(e)}))}))},sendWcTransaction:e=>{var r=e.provider,t=e.payload,n=e.cb;return s.sendTransaction({provider:r,payload:t,cb:n})},depositWToken:e=>{var r=e.web3,t=e.wTokenAddr,n=e.wTokenAbi,a=e.amount,s=e.account,c=new r.eth.Contract(n,t);return{from:s,to:t,value:r.utils.toHex(r.utils.toWei(a&&a.toString(),"ether")),data:c.methods.deposit().encodeABI()}},withdrawWToken:e=>{var r=e.web3,t=e.wTokenAddr,n=e.wTokenAbi,a=e.amount;return{from:e.account,to:t,data:new r.eth.Contract(n,t).methods.withdraw(a).encodeABI()}}};const c=s},66442:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var n=t(89379),a=t(53986),s=t(90675),c=t(10467),i=t(40410),u=["provider","psbtHex","account","type"],o=["provider","from","to","value","satBytes","extraParams"],p=["provider","from","to","txSource","type","inscriptions","tick","amount","mintType"];const d={getAccount:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.address,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.publicKey,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getCompressedPublicKey:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.connect();case 3:return a=e.sent,c=a.compressedPublicKey,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendInscription:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i,u,o;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.from,c=r.to,i=r.data,u=r.type,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.transferNft({from:a,to:c,data:i,type:u});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.message,c=r.address,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.signMessage(a,{from:c});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signPsbt:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,i,o,p,d,l;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.psbtHex,o=r.account,p=r.type,d=(0,a.A)(r,u),e.next=3,null===c||void 0===c||null===(t=c.fractalBitcoin)||void 0===t?void 0:t.signPsbt(i,(0,n.A)({from:o,type:p},d));case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signPsbts:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.psbtHexs,c=r.options,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.signPsbts(a,c);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendPsbt:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.txList,c=r.account,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.sendPsbt(a,c);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),validateAddress:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,n,a,c,i;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,a=r.account,e.next=3,null===n||void 0===n||null===(t=n.fractalBitcoin)||void 0===t?void 0:t.request({method:"validateAddress",params:{address:a}});case 3:return c=e.sent,i=c.isValid,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendBitcoin:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,i,u,p,d,l,h,v,A;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.from,u=r.to,p=r.value,d=r.satBytes,l=r.extraParams,h=(0,a.A)(r,o),e.next=3,null===c||void 0===c||null===(t=c.fractalBitcoin)||void 0===t?void 0:t.send((0,n.A)({from:i,to:u,value:p,satBytes:d,extraParams:l},h));case 3:return v=e.sent,A=v.txhash,e.abrupt("return",A);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getBtcAddressType:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=r.address).substring(0,1)!==i.wt[i.Un.LEGACY]){e.next=3;break}return e.abrupt("return",i.Un.LEGACY);case 3:if(t.substring(0,1)!==i.wt[i.Un.NESTED_SEGWIT]){e.next=5;break}return e.abrupt("return",i.Un.NESTED_SEGWIT);case 5:if(t.substring(0,4)!==i.wt[i.Un.NATIVE_SEGWIT]){e.next=7;break}return e.abrupt("return",i.Un.NATIVE_SEGWIT);case 7:return e.abrupt("return",i.Un.TAPROOT);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),inscribe:function(){var e=(0,c.A)((0,s.A)().mark((function e(r){var t,c,i,u,o,d,l,h,v,A,f,x;return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.from,u=r.to,o=r.txSource,d=r.type,l=r.inscriptions,h=r.tick,v=r.amount,A=r.mintType,f=(0,a.A)(r,p),e.next=3,null===c||void 0===c||null===(t=c.fractalBitcoin)||void 0===t?void 0:t.mint((0,n.A)({from:i,to:u,txSource:o,type:d,inscriptions:l,tick:h,amount:v,mintType:A},f));case 3:return x=e.sent,e.abrupt("return",x);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}},23633:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var n=t(90675),a=t(10467);const s={signMessage:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.message,s=(t||{}).nostr,e.next=4,s.signEvent(a);case 4:return c=e.sent,i=c.sig,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:e=>(0,a.A)((0,n.A)().mark((function r(){var t,a,s;return(0,n.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.provider,a=(t||{}).nostr,r.next=4,null===a||void 0===a?void 0:a.getPublicKey();case 4:return s=r.sent,r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()}},6035:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});var n=t(5544),a=t(90675),s=t(10467),c=t(89397),i=t(67300),u=t(27586),o=t.n(u),p=t(58790),d=t(61706),l=t(54670),h=t(20450),v=t(7580),A=t(70635),f=t(78842),x=t(7942),w=t(20746).Buffer,b={getAccount:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i,u;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.provider,c=null===s||void 0===s||null===(t=s.solana)||void 0===t?void 0:t.publicKey){e.next=7;break}return e.next=5,null===s||void 0===s||null===(i=s.solana)||void 0===i?void 0:i.connect({onlyIfTrusted:!0});case 5:u=e.sent,c=null===u||void 0===u?void 0:u.publicKey;case 7:return e.abrupt("return",c?null===(n=c)||void 0===n?void 0:n.toBase58():"");case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getSolanaConnection:()=>(0,A.p)({SolanaConnection:i.Connection}),getLatestBlockhash:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i,u,o,p,d,A,f,x,w;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.from,n=r.to,s=r.isBlockHashFromRpc,!(void 0!==s&&s)){e.next=10;break}return u=b.getSolanaConnection(),e.next=5,u.getLatestBlockhash();case 5:o=e.sent,c=null===o||void 0===o?void 0:o.blockhash,i=null===o||void 0===o?void 0:o.lastValidBlockHeight,e.next=16;break;case 10:return x=(0,h.rS)(l.A.SOLANA_SIGNINFO,{address:t}),e.next=13,v.A.post(x,{from:t,to:n});case 13:w=e.sent,c=null===w||void 0===w||null===(p=w.data)||void 0===p||null===(d=p.info)||void 0===d?void 0:d.recentBlockhash,i=null===w||void 0===w||null===(A=w.data)||void 0===A||null===(f=A.info)||void 0===f?void 0:f.lastValidBlockHeight;case 16:return e.abrupt("return",{recentBlockhash:c,lastValidBlockHeight:i});case 17:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signSolanaTransaction:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,u,o,p,d,l,h,v,A,f,w;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.payload,n=r.feePayer,s=t.transaction,c=t.bizType,u=t.bizId,o=void 0===u?[]:u,p=t.notReplaceBlockhash,d=void 0!==p&&p,l=null,h=()=>"function"===typeof(null===t||void 0===t?void 0:t.toJSON)?t:null===t||void 0===t?void 0:t.instruction,e.next=6,b.getLatestBlockhash({from:n,isBlockHashFromRpc:(null===o||void 0===o?void 0:o.length)>0});case 6:return v=e.sent,A=v.recentBlockhash,f=v.lastValidBlockHeight,(w=h())?(l=new i.Transaction({feePayer:n,blockhash:A,lastValidBlockHeight:f}).add(w)).recentBlockhash=A:s&&(d||((null===s||void 0===s?void 0:s.version)>=0?s.message.recentBlockhash=A:(s.signatures=[],s.recentBlockhash=A,s.lastValidBlockHeight=f),o.forEach((e=>{var r=(0,x.k)(c,e),t=i.Keypair.fromSeed(r.slice(0,32));(null===s||void 0===s?void 0:s.version)>=0?s.sign([t]):s.partialSign(t)}))),l=s),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:e=>{var r=e.provider,t=e.message,n=(r||{}).solana;return new Promise(((e,r)=>{var a=(new TextEncoder).encode(t);n.publicKey&&n.signMessage(a,"utf8").then((r=>{var t=Array.prototype.map.call(r.signature,(e=>"00".concat(e.toString(16)).slice(-2))).join("");e(t)})).catch((e=>{r(e)}))}))},signWcMessage:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,n=r.address,s=r.message,e.next=3,null===t||void 0===t?void 0:t.request({method:"solana_signMessage",params:{message:s,pubkey:n}},"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");case 3:return c=e.sent,i=c.signature,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signAllTransactions:e=>{var r=e.provider,t=e.transactions;return new Promise(((e,n)=>{var a;null===r||void 0===r||null===(a=r.solana)||void 0===a||a.signAllTransactions(t).then((r=>{e(r)})).catch((e=>{n(e)}))}))},preExecuteTrade:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,s,c,i,u,h,A,x,w,b;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.address,s=r.transaction;try{c=o().encode(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}catch(a){}if(c){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.next=6,(0,f.A)(v.A.post(l.A.PRE_EXECUTE_TRADE,{checkTypes:[8],from:t,chainId:p.M4.SOLANA,simulateTransactionParamList:[{sigVerify:!1,replaceRecentBlockhash:!0,transaction:c}]},{timeout:3e4}));case 6:if(i=e.sent,u=(0,n.A)(i,2),!(h=u[1])){e.next=13;break}if(!((null===(w=(null===(A=h[0])||void 0===A?void 0:A.simulateTransactionResultList)||[])||void 0===w?void 0:w.length)>0)||null!==(x=w[0])&&void 0!==x&&x.result){e.next=13;break}throw{code:d.b.PRE_TRADE,message:null===(b=w[0])||void 0===b?void 0:b.msg};case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,c,i,u;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,n=r.payload,c=r.cb,i=r.extraParams,u=r.address,e.abrupt("return",(0,s.A)((0,a.A)().mark((function e(){var r,s,o,p;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t||{}).solana,e.next=3,b.signSolanaTransaction({provider:t,payload:n,feePayer:r.publicKey});case 3:if(s=e.sent){e.next=6;break}throw new Error("no transaction");case 6:return null!==i&&void 0!==i&&i.isNotNeedPreExecute||b.preExecuteTrade({address:u,transaction:s}),e.prev=7,e.next=11,r.signAndSendTransaction(s,{},i);case 11:return o=e.sent,p=o.signature,c&&c(p),e.abrupt("return",p);case 17:throw e.prev=17,e.t0=e.catch(7),e.t0,e.t0;case 21:case"end":return e.stop()}}),e,null,[[7,17]])})))());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signWcTransaction:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,u,p,d,l,h,v,A,f,x,m,g,k,T,y,C,S,O,P;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.provider,u=r.payload,p=r.asyncCb,d=r.address,e.next=3,b.signSolanaTransaction({payload:u,feePayer:d});case 3:if(l=e.sent,h=[],A=[],!((null===l||void 0===l?void 0:l.version)>=0)){e.next=22;break}return e.next=9,b.getSolanaConnection();case 9:return g=e.sent,k=l.message.addressTableLookups.map(function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAccountInfo(r.accountKey);case 2:return t=e.sent,e.abrupt("return",new i.AddressLookupTableAccount({key:r.accountKey,state:i.AddressLookupTableAccount.deserialize(t.data)}));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.next=13,Promise.all(k);case 13:T=e.sent,y=i.TransactionMessage.decompile(l.message,{addressLookupTableAccounts:T}),h=y.instructions,x=y.payerKey,v=null===(m=y.payerKey)||void 0===m?void 0:m.toBase58(),A=[{pubkey:v,signature:null}],f=c.base64.encode(l.serialize({requireAllSignatures:!1,verifySignatures:!1})),e.next=27;break;case 22:h=l.instructions,x=u.transaction.feePayer,v=null===(C=u.transaction.feePayer)||void 0===C?void 0:C.toBase58(),A=l.signatures.map((e=>({pubkey:e.publicKey.toBase58(),signature:e.signature?o().encode(e.signature):null}))),f=l.serialize({requireAllSignatures:!1,verifySignatures:!1}).toString("base64");case 27:return p&&p({transaction:l,address:d}),S={recentBlockhash:l.recentBlockhash||(null===l||void 0===l||null===(t=l.message)||void 0===t?void 0:t.recentBlockhash),feePayer:v,instructions:h.map((e=>({programId:e.programId.toBase58(),data:Array.from(e.data),keys:e.keys.map((e=>({isSigner:e.isSigner,isWritable:e.isWritable,pubkey:e.pubkey.toBase58()})))}))),signatures:A,transaction:f},e.next=31,null===n||void 0===n?void 0:n.request({method:"solana_signTransaction",params:S},"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");case 31:return O=e.sent,P=O.signature,l.addSignature(x,w.from(o().decode(P))),e.abrupt("return",l);case 35:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendWcTransaction:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i,u,p,d;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,n=r.payload,s=r.cb,c=r.extraParams,i=r.address,u={provider:t,payload:n,address:i,extraParams:c},null!==c&&void 0!==c&&c.isNotNeedPreExecute||(u.asyncCb=b.preExecuteTrade),e.next=5,b.signWcTransaction(u);case 5:return p=e.sent,d=o().encode((null===p||void 0===p?void 0:p.signature)||(null===p||void 0===p?void 0:p.signatures[0])),e.next=9,v.A.post(l.A.BROAD_SOLANA_TRANSACTION,{signedTx:o().encode(p.serialize()),coinId:1800,fromAdr:i,txHash:d},{timeout:3e4,needSign:!0});case 9:return s&&s(d),e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};const m=b},10240:(e,r,t)=>{t.r(r),t.d(r,{default:()=>w});var n=t(5544),a=t(90675),s=t(10467),c=t(67300),i=t(27586),u=t.n(i),o=t(58790),p=t(61706),d=t(54670),l=t(20450),h=t(7580),v=t(70635),A=t(78842),f=t(7942),x={getAccount:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i,u,o;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.provider,c=null===s||void 0===s||null===(t=s.solana)||void 0===t?void 0:t.publicKey){e.next=8;break}return e.next=5,null===s||void 0===s||null===(i=s.solana)||void 0===i?void 0:i.connect({onlyIfTrusted:!0});case 5:u=e.sent,o=u.publicKey,c=o;case 8:return e.abrupt("return",null===(n=c)||void 0===n?void 0:n.toBase58());case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getSolanaConnection:()=>(0,v.p)({SolanaConnection:c.Connection,chainId:o.M4.SONIC_DEV}),getLatestBlockhash:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i,u,o,p,v,A,f,w,b;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.from,n=r.to,s=r.isBlockHashFromRpc,!(void 0!==s&&s)){e.next=10;break}return u=x.getSolanaConnection(),e.next=5,u.getLatestBlockhash();case 5:o=e.sent,c=null===o||void 0===o?void 0:o.blockhash,i=null===o||void 0===o?void 0:o.lastValidBlockHeight,e.next=16;break;case 10:return w=(0,l.rS)(d.A.GET_SIGNINFO,{address:t,coinId:27500}),e.next=13,h.A.post(w,{from:t,to:n});case 13:b=e.sent,c=null===b||void 0===b||null===(p=b.data)||void 0===p||null===(v=p.info)||void 0===v?void 0:v.recentBlockhash,i=null===b||void 0===b||null===(A=b.data)||void 0===A||null===(f=A.info)||void 0===f?void 0:f.lastValidBlockHeight;case 16:return e.abrupt("return",{recentBlockhash:c,lastValidBlockHeight:i});case 17:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signSolanaTransaction:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,i,u,o,p,d,l,h,v,A,w,b;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.payload,n=r.feePayer,s=t.transaction,i=t.bizType,u=t.bizId,o=void 0===u?[]:u,p=t.notReplaceBlockhash,d=void 0!==p&&p,l=null,h=()=>"function"===typeof(null===t||void 0===t?void 0:t.toJSON)?t:null===t||void 0===t?void 0:t.instruction,e.next=6,x.getLatestBlockhash({from:n,isBlockHashFromRpc:(null===o||void 0===o?void 0:o.length)>0});case 6:return v=e.sent,A=v.recentBlockhash,w=v.lastValidBlockHeight,(b=h())?(l=new c.Transaction({feePayer:n,blockhash:A,lastValidBlockHeight:w}).add(b)).recentBlockhash=A:s&&(d||((null===s||void 0===s?void 0:s.version)>=0?s.message.recentBlockhash=A:(s.signatures=[],s.recentBlockhash=A,s.lastValidBlockHeight=w),o.forEach((e=>{var r=(0,f.k)(i,e),t=c.Keypair.fromSeed(r.slice(0,32));(null===s||void 0===s?void 0:s.version)>=0?s.sign([t]):s.partialSign(t)}))),l=s),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:e=>{var r=e.provider,t=e.message,n=(r||{}).solana;return new Promise(((e,r)=>{var a=(new TextEncoder).encode(t);n.publicKey&&n.signMessage(a,"utf8").then((r=>{var t=Array.prototype.map.call(r.signature,(e=>"00".concat(e.toString(16)).slice(-2))).join("");e(t)})).catch((e=>{r(e)}))}))},signAllTransactions:e=>{var r=e.provider,t=e.transactions;return new Promise(((e,n)=>{var a;null===r||void 0===r||null===(a=r.solana)||void 0===a||a.signAllTransactions(t).then((r=>{e(r)})).catch((e=>{n(e)}))}))},preExecuteTrade:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,s,c,i,l,v,f,x,w,b;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.address,s=r.transaction;try{c=u().encode(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}catch(a){}if(c){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.next=6,(0,A.A)(h.A.post(d.A.PRE_EXECUTE_TRADE,{checkTypes:[8],from:t,chainId:o.M4.SONIC_DEV,simulateTransactionParamList:[{sigVerify:!1,replaceRecentBlockhash:!0,transaction:c}]},{timeout:3e4}));case 6:if(i=e.sent,l=(0,n.A)(i,2),!(v=l[1])){e.next=13;break}if(!((null===(w=(null===(f=v[0])||void 0===f?void 0:f.simulateTransactionResultList)||[])||void 0===w?void 0:w.length)>0)||null!==(x=w[0])&&void 0!==x&&x.result){e.next=13;break}throw{code:p.b.PRE_TRADE,message:null===(b=w[0])||void 0===b?void 0:b.msg};case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,c,i,u;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,n=r.payload,c=r.cb,i=r.extraParams,u=r.address,e.abrupt("return",(0,s.A)((0,a.A)().mark((function e(){var r,s,o,p;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t||{}).solana,e.next=3,x.signSolanaTransaction({provider:t,payload:n,feePayer:r.publicKey});case 3:if(s=e.sent){e.next=6;break}throw new Error("no transaction");case 6:return null!==i&&void 0!==i&&i.isNotNeedPreExecute||x.preExecuteTrade({address:u,transaction:s}),e.prev=7,e.next=11,r.signAndSendTransaction(s,{},i);case 11:return o=e.sent,p=o.signature,c&&c(p),e.abrupt("return",p);case 17:throw e.prev=17,e.t0=e.catch(7),e.t0,e.t0;case 21:case"end":return e.stop()}}),e,null,[[7,17]])})))());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};const w=x},69741:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});var n=t(90675),a=t(10467),s=t(58790),c=t(5544),i=t(67300),u=t(27586),o=t.n(u),p=t(61706),d=t(54670),l=t(20450),h=t(7580),v=t(70635),A=t(78842),f=t(7942),x={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i,u,o;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.provider,c=null===s||void 0===s||null===(t=s.solana)||void 0===t?void 0:t.publicKey){e.next=8;break}return e.next=5,null===s||void 0===s||null===(i=s.solana)||void 0===i?void 0:i.connect({onlyIfTrusted:!0});case 5:u=e.sent,o=u.publicKey,c=o;case 8:return e.abrupt("return",null===(a=c)||void 0===a?void 0:a.toBase58());case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getSolanaConnection:e=>{var r=e.chainId;return(0,v.p)({SolanaConnection:i.Connection,chainId:r})},getLatestBlockhash:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,c,i,u,o,p,v,A,f,w,b,m,g,k;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.from,a=r.to,c=r.chainId,i=r.isBlockHashFromRpc,!(void 0!==i&&i)){e.next=10;break}return p=x.getSolanaConnection({chainId:c}),e.next=5,p.getLatestBlockhash();case 5:v=e.sent,u=null===v||void 0===v?void 0:v.blockhash,o=null===v||void 0===v?void 0:v.lastValidBlockHeight,e.next=17;break;case 10:return m=s.FL[c],g=(0,l.rS)(d.A.GET_SIGNINFO,{address:t,coinId:m}),e.next=14,h.A.post(g,{from:t,to:a});case 14:k=e.sent,u=null===k||void 0===k||null===(A=k.data)||void 0===A||null===(f=A.info)||void 0===f?void 0:f.recentBlockhash,o=null===k||void 0===k||null===(w=k.data)||void 0===w||null===(b=w.info)||void 0===b?void 0:b.lastValidBlockHeight;case 17:return e.abrupt("return",{recentBlockhash:u,lastValidBlockHeight:o});case 18:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signSolanaTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,u,o,p,d,l,h,v,A,w,b,m;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.payload,a=r.feePayer,s=r.chainId,c=t.transaction,u=t.bizType,o=t.bizId,p=void 0===o?[]:o,d=t.notReplaceBlockhash,l=void 0!==d&&d,h=null,v=()=>"function"===typeof(null===t||void 0===t?void 0:t.toJSON)?t:null===t||void 0===t?void 0:t.instruction,e.next=6,x.getLatestBlockhash({from:a,isBlockHashFromRpc:(null===p||void 0===p?void 0:p.length)>0,chainId:s});case 6:return A=e.sent,w=A.recentBlockhash,b=A.lastValidBlockHeight,(m=v())?(h=new i.Transaction({feePayer:a,blockhash:w,lastValidBlockHeight:b}).add(m)).recentBlockhash=w:c&&(l||((null===c||void 0===c?void 0:c.version)>=0?c.message.recentBlockhash=w:(c.signatures=[],c.recentBlockhash=w,c.lastValidBlockHeight=b),p.forEach((e=>{var r=(0,f.k)(u,e),t=i.Keypair.fromSeed(r.slice(0,32));(null===c||void 0===c?void 0:c.version)>=0?c.sign([t]):c.partialSign(t)}))),h=c),e.abrupt("return",h);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:e=>{var r=e.provider,t=e.message,n=(r||{}).solana;return new Promise(((e,r)=>{var a=(new TextEncoder).encode(t);n.publicKey&&n.signMessage(a,"utf8").then((r=>{var t=Array.prototype.map.call(r.signature,(e=>"00".concat(e.toString(16)).slice(-2))).join("");e(t)})).catch((e=>{r(e)}))}))},signAllTransactions:e=>{var r=e.provider,t=e.transactions;return new Promise(((e,n)=>{var a;null===r||void 0===r||null===(a=r.solana)||void 0===a||a.signAllTransactions(t).then((r=>{e(r)})).catch((e=>{n(e)}))}))},preExecuteTrade:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,i,u,l,v,f,x,w,b;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.address,a=r.transaction,s=r.chainId;try{i=o().encode(a.serialize({requireAllSignatures:!1,verifySignatures:!1}))}catch(n){}if(i){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.next=6,(0,A.A)(h.A.post(d.A.PRE_EXECUTE_TRADE,{checkTypes:[8],from:t,chainId:s,simulateTransactionParamList:[{sigVerify:!1,replaceRecentBlockhash:!0,transaction:i}]},{timeout:3e4}));case 6:if(u=e.sent,l=(0,c.A)(u,2),!(v=l[1])){e.next=13;break}if(!((null===(w=(null===(f=v[0])||void 0===f?void 0:f.simulateTransactionResultList)||[])||void 0===w?void 0:w.length)>0)||null!==(x=w[0])&&void 0!==x&&x.result){e.next=13;break}throw{code:p.b.PRE_TRADE,message:null===(b=w[0])||void 0===b?void 0:b.msg};case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,s,c,i,u,o;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,s=r.payload,c=r.cb,i=r.extraParams,u=r.address,o=r.chainId,e.abrupt("return",(0,a.A)((0,n.A)().mark((function e(){var r,a,p,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t||{}).solana,e.next=3,x.signSolanaTransaction({provider:t,payload:s,feePayer:r.publicKey,chainId:o});case 3:if(a=e.sent){e.next=6;break}throw new Error("no transaction");case 6:return null!==i&&void 0!==i&&i.isNotNeedPreExecute||x.preExecuteTrade({address:u,transaction:a,chainId:o}),e.prev=7,e.next=11,r.signAndSendTransaction(a,{},i);case 11:return p=e.sent,d=p.signature,c&&c(d),e.abrupt("return",d);case 17:throw e.prev=17,e.t0=e.catch(7),e.t0,e.t0;case 21:case"end":return e.stop()}}),e,null,[[7,17]])})))());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};const w=x;var b={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,e.abrupt("return",w.getAccount({provider:t}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getSolanaConnection:()=>w.getSolanaConnection({chainId:s.M4.SOON}),getLatestBlockhash:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.from,a=r.to,e.abrupt("return",w.getLatestBlockhash({from:t,to:a,isBlockHashFromRpc:!0,chainId:s.M4.SOON}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signSolanaTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.payload,a=r.feePayer,e.abrupt("return",w.signSolanaTransaction({payload:t,feePayer:a,chainId:s.M4.SOON}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:e=>{var r=e.provider,t=e.message;return w.signMessage({provider:r,message:t})},signAllTransactions:e=>{var r=e.provider,t=e.transactions;return w.signAllTransactions({provider:r,transactions:t})},preExecuteTrade:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.address,a=r.transaction,e.abrupt("return",w.preExecuteTrade({address:t,transaction:a,chainId:s.M4.SOON}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,c,i,u;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.payload,c=r.cb,i=r.extraParams,u=r.address,e.abrupt("return",w.sendTransaction({provider:t,payload:a,cb:c,extraParams:i,address:u,chainId:s.M4.SOON}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};const m=b},18498:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var n=t(90675),a=t(10467);const s={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,e.next=3,null===a||void 0===a||null===(t=a.stacks)||void 0===t?void 0:t.connect();case 3:return s=e.sent,c=s.address,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.message,s=(t||{}).stacks,e.next=4,null===s||void 0===s?void 0:s.signMessage({message:a});case 4:return c=e.sent,i=c.signature,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i,u,o;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.payload,s=r.cb,c=r.extraParams,e.prev=1,i=(t||{}).stacks,e.next=5,null===i||void 0===i?void 0:i.signTransaction(a,c);case 5:return u=e.sent,o=u.txHash,s&&s(o),e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(r){return e.apply(this,arguments)}}()}},66763:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var n=t(90675),a=t(5544),s=t(10467);const c={getAccount:function(){var e=(0,s.A)((0,n.A)().mark((function e(r){var t,s,c,i,u;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.provider,e.next=3,null===s||void 0===s||null===(t=s.starknet)||void 0===t?void 0:t.enable();case 3:return c=e.sent,i=(0,a.A)(c,1),u=i[0],e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,s.A)((0,n.A)().mark((function e(r){var t,a,s,c,i,u;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.message,e.next=3,null===c||void 0===c||null===(t=c.starknet)||void 0===t?void 0:t.enable();case 3:return e.next=5,null===c||void 0===c||null===(a=c.starknet)||void 0===a||null===(s=a.account)||void 0===s?void 0:s.signMessage(i);case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,s.A)((0,n.A)().mark((function e(r){var t,a,s,c,i,u,o,p,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,i=r.payload,u=r.cb,o=r.abi,e.next=3,null===c||void 0===c||null===(t=c.starknet)||void 0===t?void 0:t.enable();case 3:return e.next=5,null===c||void 0===c||null===(a=c.starknet)||void 0===a||null===(s=a.account)||void 0===s?void 0:s.execute(i,o);case 5:return p=e.sent,d=p.transaction_hash,u&&u(d),e.abrupt("return",d);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}},19780:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n=t(90675),a=t(10467),s=t(58790),c={getAccount:e=>{var r,t,n=e.provider;return((null===n||void 0===n||null===(r=n.sui)||void 0===r||null===(t=r.accounts)||void 0===t?void 0:t[0])||{}).address},signMessage:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,i,u,o,p;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=r.provider,s=r.message,i=new Uint8Array(s.length),u=0;u<s.length;u++)i[u]=s.charCodeAt(u);return o=c.getAccount({provider:a}),e.next=6,null===a||void 0===a||null===(t=a.sui)||void 0===t?void 0:t.features["sui:signMessage"].signMessage({message:i,account:o});case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:return p=e.t0,e.abrupt("return",p.signature);case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var a,i,u,o,p,d,l,h,v,A,f,x;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.provider,u=r.payload,o=r.cb,e.next=3,Promise.all([t.e(7300),t.e(543),t.e(2516),t.e(1281)]).then(t.bind(t,12516));case 3:return p=e.sent,d=p.TransactionBlock,l=(u||{}).transactionBlock,h={},"string"===typeof l?(v=d.from(l),A=c.getAccount({provider:i}),h={transactionBlock:v,account:A,chain:s.M4.SUI}):l instanceof d&&(h=u),e.next=10,null===i||void 0===i||null===(a=i.sui)||void 0===a?void 0:a.features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(h);case 10:return f=e.sent,x=(f||{}).digest,"sui send transaction success: ".concat(x),o&&o(x),e.abrupt("return",x);case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()};const i=c},26118:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n=t(90675),a=t(10467),s=t(20450),c=t(72456);const i={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var a,s,c,i,u,o,p,d,l,h;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.provider,e.next=3,Promise.all([t.e(7300),t.e(9171),t.e(9782),t.e(1281)]).then(t.t.bind(t,79782,23));case 3:return i=e.sent,u=i.Address,o=(c||{}).ton,e.next=8,o.connect(o.protocolVersion,{items:[{name:"ton_addr"}]});case 8:return p=e.sent,d=null===p||void 0===p||null===(a=p.payload)||void 0===a||null===(s=a.items[0])||void 0===s?void 0:s.address,l=u.parse(d),h=l.toString({urlSafe:!0,bounceable:!1,testOnly:!1}),e.abrupt("return",h);case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.provider,c=(s||{}).ton,e.next=4,c.connect(c.protocolVersion,{items:[{name:"ton_addr"}]});case 4:return i=e.sent,e.abrupt("return",null===i||void 0===i||null===(t=i.payload)||void 0===t||null===(a=t.items[0])||void 0===a?void 0:a.publicKey);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,i,u,o,p;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.provider,u=r.message,o=(i||{}).ton,e.next=4,o.connect(o.protocolVersion,{manifestUrl:(0,s.rG)("/cdn/assets/files/247/A242D54708108967.json"),items:[{name:"ton_addr"},{name:"ton_proof",payload:u}]});case 4:if("connect_error"!==(null===(p=e.sent)||void 0===p?void 0:p.event)){e.next=7;break}throw(0,c.P)(null===p||void 0===p?void 0:p.payload);case 7:return e.abrupt("return",null===p||void 0===p||null===(t=p.payload)||void 0===t||null===(a=t.items[1])||void 0===a?void 0:a.proof);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var a,s,i,u,o,p,d,l,h;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.provider,s=r.payload,i=r.cb,e.next=3,Promise.all([t.e(7300),t.e(9171),t.e(9782),t.e(1281)]).then(t.t.bind(t,79782,23));case 3:return u=e.sent,o=u.Cell,p=(a||{}).ton,e.next=8,p.send({method:"sendTransaction",params:s,id:Date.now()});case 8:if(null===(d=e.sent)||void 0===d||!d.error){e.next=11;break}throw(0,c.P)(null===d||void 0===d?void 0:d.error);case 11:return l=o.fromBase64(null===d||void 0===d?void 0:d.result),h=l.hash().toString("hex"),i&&i(h),e.abrupt("return",h);case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}},76992:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var n=t(90675),a=t(10467);const s={getAccount:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.provider,c=null===s||void 0===s||null===(t=s.tronWeb)||void 0===t||null===(a=t.defaultAddress)||void 0===a?void 0:a.base58,e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),signMessage:e=>{var r=e.provider,t=e.message;return new Promise(((e,n)=>{var a,s=(r||{}).tronWeb;null===s||void 0===s||null===(a=s.trx)||void 0===a||a.signMessage(t).then((r=>{e(r)})).catch((e=>{n(e)}))}))},sendTransaction:function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s,c,i,u,o,p,d;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.provider,a=r.payload,s=r.cb,e.prev=1,u=(t||{}).tronWeb,e.next=5,null===u||void 0===u||null===(c=u.trx)||void 0===c?void 0:c.sign(a);case 5:return o=e.sent,e.next=8,null===u||void 0===u||null===(i=u.trx)||void 0===i?void 0:i.sendRawTransaction(o);case 8:return p=e.sent,d=(p||{}).transaction.txID,s&&s(d),e.abrupt("return",d);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(r){return e.apply(this,arguments)}}()}},34903:(e,r,t)=>{t.d(r,{Bz:()=>A,IF:()=>d,_v:()=>l,bs:()=>f,gq:()=>v,sO:()=>h,uu:()=>w,v:()=>x});var n=t(89379),a=t(90675),s=t(10467),c=t(99692),i=t(63010),u=t(58790),o=t(40410),p=t(99801),d=function(){var e=(0,s.A)((0,a.A)().mark((function e(){var r,t,n,s,c;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null===(r=window.okGlobal)||void 0===r||null===(t=r.onchain)||void 0===t?void 0:t.getWalletWidget,e.next=4,n();case 4:return s=e.sent,e.next=7,s.getWalletStorage();case 7:return c=e.sent,e.abrupt("return",c.getConnectedConfig());case 11:return e.prev=11,e.t0=e.catch(0),e.t0,e.abrupt("return",Promise.resolve({}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.A)((0,a.A)().mark((function e(){var r,t,s,i,u,o;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.f)()){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,null===(r=window.okGlobal)||void 0===r||null===(t=r.onchain)||void 0===t?void 0:t.getWalletWidget();case 4:return s=e.sent,e.next=7,null===s||void 0===s?void 0:s.getProvider();case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:return i=e.t0,u=i.getConnectInstance,o=u(),e.abrupt("return",(0,n.A)((0,n.A)({},i),o));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i,p,d,h,v,A,f,x,w,b,m,g,k,T,y,C,S,O,P,E,I,N;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r||{}).chainType,e.next=3,l();case 3:return n=e.sent,s=n.web3Provider,c=n.wcProvider,i=n.wcV2Provider,p=n.keplrProvider,d=n.phantomProvider,h=n.unisatProvider,v=n.ledgerProvider,A=n.xverseProvider,f=n.walletType,x=n.scanAppType,w=n.phantomBTCProvider,b=n.okxConnectProvider,m=o.BS.METAMASK,g=o.BS.WALLET_CONNECT,k=o.BS.OKX_WALLET,T=o.BS.PHANTOM,y=o.BS.LEDGER,C=o.BS.KEPLR,S=o.BS.UNISAT,O=o.BS.XVERSE,P=o.BS.PHANTOM_BTC,E=o.BS.OKX_CONNECT,I=o.T$.OKX,N={[m]:null===s||void 0===s?void 0:s.web3Provider,[g]:i,[T]:d,[C]:p,[y]:v,[S]:h,[O]:A,[P]:w,[E]:null===b||void 0===b?void 0:b.provider},0===t||t&&t!==u.hD.EVM?N[k]=window.okexchain:N[k]=s,f===g&&x===I&&(N[g]=c),e.abrupt("return",N[f]||{});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.A)((0,a.A)().mark((function e(){var r,t,n,s,c,i,u,p,d,h,v,A,f,x;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return r=e.sent,t=r.wcProvider,n=r.wcV2Provider,s=r.keplrProvider,c=r.phantomProvider,i=r.walletType,u=r.scanAppType,p=o.BS.METAMASK,d=o.BS.WALLET_CONNECT,h=o.BS.OKX_WALLET,v=o.BS.PHANTOM,A=o.BS.KEPLR,f=o.T$.OKX,x={[p]:window.ethereum,[d]:n,[v]:c,[A]:s,[h]:window.okexchain},i===d&&u===f&&(x[d]=t),e.abrupt("return",x[i]||{});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=()=>{var e=(i.A.getProjectStorage("onChain")||{}).walletType;return o.SH[e]},f=e=>{var r=u.hD.EVM;return Object.keys(u.P0).forEach((t=>{u.P0[t].includes(parseInt(e))&&(r=parseInt(t))})),r},x=function(){var e=(0,s.A)((0,a.A)().mark((function e(r){var t,n,s,c,i;return(0,a.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Qr)(r);case 2:if(n=e.sent,s=(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t[0])||{},!((c=s.rpcUrls)&&c.length>0)){e.next=7;break}return i=c[0],e.abrupt("return",new Web3(i));case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),w=e=>e===u.M4.IMX?u.M4.ETH:e},58790:(e,r,t)=>{t.d(r,{FL:()=>i,M4:()=>n,M7:()=>s,P0:()=>c,hD:()=>a});var n={ETH:1,DOGE:3,IMX:99,SOLANA:501,APTOS:637,TRON:195,BTC:0,FRACTAL:70000061,SUI:784,STACKS:5757,STARKNET:9004,NOSTR:1237,COSMOSHUB:118,CELESTIA:70000037,BTCSIGNET:70000047,INJECTIVE:70000041,TON:607,SONIC_DEV:70000059,SOON:70000069},a={EVM:60,DOGE:n.DOGE,SOLANA:n.SOLANA,APTOS:n.APTOS,TRON:n.TRON,BTC:n.BTC,BTCSIGNET:n.BTCSIGNET,FRACTAL:n.FRACTAL,SUI:n.SUI,STACKS:n.STACKS,STARKNET:n.STARKNET,NOSTR:n.NOSTR,COSMOS:n.COSMOSHUB,TON:n.TON,SONIC_DEV:n.SONIC_DEV,SOON:n.SOON},s={[a.EVM]:"eth",[a.DOGE]:"doge",[a.SOLANA]:"solana",[a.APTOS]:"aptos",[a.TRON]:"tronWeb",[a.BTC]:"bitcoin",[a.FRACTAL]:"fractal",[a.BTCSIGNET]:"bitcoinSignet",[a.SUI]:"sui",[a.STACKS]:"stacks",[a.STARKNET]:"starknet",[a.NOSTR]:"nostr",[a.COSMOS]:"keplr",[a.TON]:"ton",[a.SONIC_DEV]:"solana",[a.SOON]:"solana"},c={[a.EVM]:[],[a.DOGE]:[n.DOGE],[a.FRACTAL]:[n.FRACTAL],[a.SOLANA]:[n.SOLANA],[a.APTOS]:[n.APTOS],[a.TRON]:[n.TRON],[a.BTC]:[n.BTC],[a.BTCSIGNET]:[n.BTCSIGNET],[a.SUI]:[n.SUI],[a.STACKS]:[n.STACKS],[a.STARKNET]:[n.STARKNET],[a.NOSTR]:[n.NOSTR],[a.COSMOS]:[n.COSMOSHUB,n.CELESTIA,n.INJECTIVE],[a.TON]:[n.TON],[a.SONIC_DEV]:[n.SONIC_DEV],[a.SOON]:[n.SOON]},i={[n.SOON]:31900,[n.SONIC_DEV]:27500,[n.SOLANA]:1800}},61706:(e,r,t)=>{t.d(r,{b:()=>n});var n={PRE_TRADE:80001}},49927:(e,r,t)=>{t.d(r,{G:()=>a,JA:()=>n});var n="115792089237316195423570985008687907853269984665640564039457584007913129639935",a=1e8},54670:(e,r,t)=>{t.d(r,{A:()=>n});const n={APTOS_ADDRESS_REGISTER_STATUS:"/v1/deposit/plugin/address/aptosAddressRegisterStatus",APTOS_GET_RESOURCE:"/priapi/v1/wallet/rpc/send/aptos/v1/accounts",APTOS_GET_TRANSACTION:"/priapi/v1/wallet/rpc/send/aptos/v1/transactions/by_hash",OKX_CHAIN_RPC:"/fullnode/sol/discover/rpc",SONIC_DEV_RPC:"/fullnode/sonic/devnet/discover/rpc",SOON_RPC:"/fullnode/soon/discover/rpc",CHAIN_INFO:"/priapi/v1/wallet/web/chain/info",SOLANA_SIGNINFO:"/v1/deposit/plugin/coin/1800/address/${address}/signInfo",GET_SIGNINFO:"/v1/deposit/plugin/coin/${coinId}/address/${address}/signInfo",GET_REAL_CHAINID:"/priapi/v1/wallet/chain/getRealChainId",GET_BATCH_REAL_CHAINID:"/priapi/v1/wallet/chain/getRealChainIdBatch",PRE_EXECUTE_TRADE:"/priapi/v1/wallet/tx/txToastCheck",BROAD_SOLANA_TRANSACTION:"/priapi/v2/wallet/tx/broadcastTx"}},40410:(e,r,t)=>{t.d(r,{BS:()=>c,Rt:()=>p,SH:()=>i,T$:()=>o,Un:()=>a,dg:()=>u,w3:()=>l,wt:()=>s,xz:()=>d});var n=t(58790),a={LEGACY:1,NESTED_SEGWIT:2,NATIVE_SEGWIT:3,TAPROOT:4},s={[a.LEGACY]:"1",[a.NESTED_SEGWIT]:"3",[a.NATIVE_SEGWIT]:"bc1q",[a.TAPROOT]:"bc1p"},c={NO_WALLET:0,WALLET_CONNECT:1,METAMASK:2,PHANTOM:3,KEPLR:4,OKX_WALLET:5,LEDGER:6,UNISAT:7,XVERSE:8,PHANTOM_BTC:9,OKX_CONNECT:11},i={metamask:c.METAMASK,phantom:c.PHANTOM,okexchain:c.OKX_WALLET,walletconnect:c.WALLET_CONNECT,keplr:c.KEPLR,ledger:c.LEDGER,unisat:c.UNISAT,xverse:c.XVERSE,phantom_btc:c.PHANTOM_BTC,okxconnect:c.OKX_CONNECT},u={[c.WALLET_CONNECT]:[n.hD.EVM,n.hD.SOLANA],[c.METAMASK]:[n.hD.EVM],[c.PHANTOM]:[n.hD.SOLANA],[c.UNISAT]:[n.hD.BTC,n.hD.FRACTAL],[c.XVERSE]:[n.hD.BTC],[c.PHANTOM_BTC]:[n.hD.BTC]},o={WALLETCONNECT:1,OKX:2,RAINBOW:3},p={INIT:"init_wallet",CONNECTED:"add_connected_wallet",LOGOUT:"log_out_wallet"},d={BTC:"BITCOIN_MAINNET",FRACTAL:"FRACTAL_BITCOIN_MAINNET"},l={[n.M4.BTC]:d.BTC,[n.M4.FRACTAL]:d.FRACTAL}},84039:(e,r,t)=>{t.d(r,{A:()=>J});var n=t(53986),a=t(89379),s=t(5544),c=t(24765),i=t(90675),u=t(10467),o=t(62666),p=t.n(o),d=t(99692),l=t(84854),h=t(34903),v=t(58790),A=t(49927),f=t(40410),x=t(58680),w=t(17287),b=e=>(0,w.n)().update(e).digest(),m="mainnet",g="testnet",k="regtest",T="p2pkh",y="p2sh",C="p2wpkh",S="p2wsh",O="p2tr",P={0:{type:T,network:m},111:{type:T,network:g},5:{type:y,network:m},196:{type:y,network:g}},E=e=>{var r,t=e.substr(0,2).toLowerCase();if("bc"===t||"tb"===t)return(e=>{var r;try{r=e.startsWith("bc1p")||e.startsWith("tb1p")||e.startsWith("bcrt1p")?x.p2.decode(e):x.I.decode(e)}catch(a){throw new Error("Invalid address")}var t={bc:m,tb:g,bcrt:k}[r.prefix];if(void 0===t)throw new Error("Invalid address");var n=r.words[0];if(n<0||n>16)throw new Error("Invalid address");return{bech32:!0,network:t,address:e,type:20===x.I.fromWords(r.words.slice(1)).length?C:1===n?O:S}})(e);try{r=(e=>{if(!e||"string"!==typeof e)throw new Error("Expected base58 string but got \u201c".concat(e,"\u201d"));if(e.match(/[0IOl]/gm))throw new Error("Invalid base58 character \u201c".concat(e.match(/[0IOl]/gm),"\u201d"));var r,t=e.match(/^1+/gm),n=t?t[0].length:0,a=(e.length-n)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(n),...e.match(/(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1}/gm).map((e=>"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".indexOf(e))).reduce(((e,r)=>e.map((e=>{var t=58*e+r;return r=t>>8,t}))),new Uint8Array(a)).reverse().filter((r=!1,e=>r=r||e))])})(e)}catch(p){throw new Error("Invalid address")}var n=r.length;if(25!==n)throw new Error("Invalid address");var s=r[0],c=r.slice(n-4,n),i=r.slice(0,n-4),u=b(b(i)).slice(0,4);if(c.some(((e,r)=>e!==u[r])))throw new Error("Invalid address");if(!Object.keys(P).map(Number).includes(s))throw new Error("Invalid address");var o=P[s];return(0,a.A)((0,a.A)({},o),{},{address:e,bech32:!1})},I=t(20450),N=t(70635),B=function(){var e=(0,u.A)((0,i.A)().mark((function e(r){var t,n,a,s,c,u;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.abi,n=r.addr,a=r.ownerAddr,s=r.operatorAddr,c=r.amount,u=r.web3,e.abrupt("return",new Promise((e=>{new u.eth.Contract(t,n).methods.allowance(a,s).call(((r,t)=>{if(c){var n=u.utils.BN,a=new n(t),s=new n(c);a.gte(s)?e(!0):e(!1)}else e("0"!==t&&t?t:0)}))})));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),M=function(){var e=(0,u.A)((0,i.A)().mark((function e(r){var t,n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.addr,n=r.web3,e.abrupt("return",new Promise((e=>{new n.eth.Contract(p(),t).methods.decimals().call(((r,t)=>{e(t||0)}))})));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function _(e){return L.apply(this,arguments)}function L(){return(L=(0,u.A)((0,i.A)().mark((function e(r){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=e.t0===f.BS.METAMASK?3:e.t0===f.BS.PHANTOM?6:e.t0===f.BS.WALLET_CONNECT?9:e.t0===f.BS.OKX_WALLET?12:e.t0===f.BS.KEPLR?15:e.t0===f.BS.LEDGER?18:e.t0===f.BS.UNISAT?21:e.t0===f.BS.XVERSE?24:e.t0===f.BS.PHANTOM_BTC?27:e.t0===f.BS.OKX_CONNECT?30:33;break;case 3:return e.next=5,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,9845));case 5:return e.abrupt("return",e.sent.MetaMaskAdapter);case 6:return e.next=8,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,81029));case 8:return e.abrupt("return",e.sent.PhantomAdapter);case 9:return e.next=11,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,30297));case 11:return e.abrupt("return",e.sent.WalletConnectAdapter);case 12:return e.next=14,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,27335));case 14:return e.abrupt("return",e.sent.OkxWalletAdapter);case 15:return e.next=17,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,30272));case 17:return e.abrupt("return",e.sent.KeplrAdapter);case 18:return e.next=20,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,52869));case 20:return e.abrupt("return",e.sent.LedgerAdapter);case 21:return e.next=23,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,89264));case 23:return e.abrupt("return",e.sent.UnisatAdapter);case 24:return e.next=26,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,64197));case 26:return e.abrupt("return",e.sent.XverseAdapter);case 27:return e.next=29,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,22418));case 29:return e.abrupt("return",e.sent.PhantomBtcAdapter);case 30:return e.next=32,Promise.all([t.e(7084),t.e(2051),t.e(3090),t.e(2902),t.e(6104),t.e(3150),t.e(4714),t.e(5888),t.e(1875),t.e(9816),t.e(8329)]).then(t.bind(t,59058));case 32:return e.abrupt("return",e.sent.OkxConnectAdapter);case 33:throw new Error("Unsupported walletType: ".concat(r));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return W.apply(this,arguments)}function W(){return(W=(0,u.A)((0,i.A)().mark((function e(r){var t,n,a,s;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.okxWalletSupportChain,!(n=(0,h.Bz)())){e.next=12;break}return e.next=5,_(n);case 5:if(a=e.sent,![f.BS.OKX_WALLET,f.BS.WALLET_CONNECT,f.BS.OKX_CONNECT].includes(n)){e.next=11;break}return s=new a({supportChain:t}),e.next=10,s.initPromise;case 10:return e.abrupt("return",s);case 11:return e.abrupt("return",new a);case 12:throw new Error("No supported wallet found");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=["account","signData","nonce"],K=["message","nonce"],F=["message"],V=["chain","chainType","switchFaildCallback"],G=["chain","chainType","connectOptions","succCallback","closeCallback","switchFaildCallback"],H=["chain","switchFaildCallback"],U=["chain","switchFaildCallback"],X=["isNeedAll","chainId"],q=["currency","network","address","prefix","contract","onClose"];function j(e,r){var t=new Promise((r=>{var t=setTimeout((()=>{clearTimeout(t),r("Timeout")}),e)}));return Promise.race([r,t])}var z=new class{constructor(){this.adapter=null,this.adapterFlag=!1,this.okxWalletSupportChain=[],this.initPromise=this.init(),this.walletChangeCallbacks=new Map,this.chainChangeCallbacks=new Map,this.dashboardChangeCallbacks=new Map,this.nextWalletChangeSubId=1,this.nextChainChangeSubId=1,this.nextDashboardChangeSubId=1,this.adapterReadyPromise=new Promise((e=>{this.resolveAdapterReady=e}))}resetAdapterPromise(){this.adapterReadyPromise=new Promise((e=>{this.resolveAdapterReady=e}))}onWalletChange(e){if(!(0,d.f)()){var r=this.nextWalletChangeSubId++;return(0,I.j9)({subscriptionId:r,callbacks:this.walletChangeCallbacks,callback:e})}}offWalletChange(e){(0,d.f)()||(0,I.GO)({subscriptionId:e,callbacks:this.walletChangeCallbacks})}onDashboardChange(e){if(!(0,d.f)()){var r=this.nextDashboardChangeSubId++;return(0,I.j9)({subscriptionId:r,callbacks:this.dashboardChangeCallbacks,callback:e})}}offDashboardChange(e){(0,d.f)()||(0,I.GO)({subscriptionId:e,callbacks:this.dashboardChangeCallbacks})}onChainChange(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,s,c,o,p,l;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,d.f)()){t.next=2;break}return t.abrupt("return");case 2:return a=function(){var t=(0,u.A)((0,i.A)().mark((function t(){var n,a;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getChainId();case 2:n=t.sent,a="0x".concat(parseInt(n).toString(16)),e&&e(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),null!==(n=r.adapter)&&void 0!==n&&n.onChainChange?null===(s=r.adapter)||void 0===s||s.onChainChange(a):null===(c=window)||void 0===c||null===(o=c.ethereum)||void 0===o||null===(p=o.on)||void 0===p||p.call(o,"chainChanged",a),l=r.nextChainChangeSubId++,t.abrupt("return",(0,I.j9)({subscriptionId:l,callbacks:r.chainChangeCallbacks,callback:a}));case 6:case"end":return t.stop()}}),t)})))()}offChainChange(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,u,o,p,l,v,A,f,x,w,b,m,g;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,d.f)()){t.next=2;break}return t.abrupt("return");case 2:f=()=>{},x=(0,c.A)(r.chainChangeCallbacks.entries()),t.prev=4,x.s();case 6:if((w=x.n()).done){t.next=13;break}if(b=(0,s.A)(w.value,2),m=b[0],b[1]!==e){t.next=11;break}return f=m,t.abrupt("break",13);case 11:t.next=6;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),x.e(t.t0);case 18:return t.prev=18,x.f(),t.finish(18);case 21:return(0,I.GO)({subscriptionId:e,callbacks:r.chainChangeCallbacks}),null===(n=window)||void 0===n||null===(a=n.okxwallet)||void 0===a||null===(u=a.removeListener)||void 0===u||u.call(a,"chainChanged",f),null===(o=window)||void 0===o||null===(p=o.ethereum)||void 0===p||null===(l=p.removeListener)||void 0===l||l.call(p,"chainChanged",f),t.next=26,(0,h.sO)();case 26:null===(g=t.sent)||void 0===g||null===(v=g.ethereum)||void 0===v||null===(A=v.removeListener)||void 0===A||A.call(v,"chainChanged",f);case 28:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))()}get chainTypeEnum(){return v.hD}get chainIdEnum(){return v.M4}get chainTypeKeyEnum(){return v.M7}get walletTypeEnum(){return f.BS}get walletActionTypeEnum(){return f.Rt}get chainType(){var e;return null===(e=this.adapter)||void 0===e?void 0:e.chainType}get btcAddressTypeEnum(){return f.Un}get isConnected(){return!!(0,h.Bz)()}get isWalletReady(){return!!this.adapter}get Web3(){return"undefined"===typeof Web3?void 0:Web3}walletDataChangeCallBack(e,r){var t=this;return(0,u.A)((0,i.A)().mark((function n(){var a,s,u,o,p,d,l,h;return(0,i.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.actionType,!["add_connected_wallet","init_wallet"].includes(a)){n.next=14;break}if(t.adapterFlag){n.next=10;break}if(r.adapter){n.next=10;break}return n.next=7,D({okxWalletSupportChain:r.okxWalletSupportChain});case 7:r.adapter=n.sent,r.resolveAdapterReady();case 10:s=(0,c.A)(t.walletChangeCallbacks.keys());try{for(s.s();!(u=s.n()).done;)(0,u.value)(e)}catch(i){s.e(i)}finally{s.f()}n.next=15;break;case 14:if("log_out_wallet"===a){r.adapter=null,r.resolveAdapterReady(),o=setTimeout((()=>{r.resetAdapterPromise(),clearTimeout(o)}),2005),p=(0,c.A)(t.walletChangeCallbacks.keys());try{for(p.s();!(d=p.n()).done;)(0,d.value)(e)}catch(i){p.e(i)}finally{p.f()}}case 15:l=(0,c.A)(t.dashboardChangeCallbacks.keys());try{for(l.s();!(h=l.n()).done;)(0,h.value)(e)}catch(i){l.e(i)}finally{l.f()}case 17:case"end":return n.stop()}}),n)})))()}init(){var e=this;return(0,u.A)((0,i.A)().mark((function r(){var t,n,a;return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(0,d.f)()){r.next=3;break}return r.abrupt("return");case 3:t=l.A.onchain,n=(void 0===t?{}:t).onWalletDataChange,a=e,n&&n((r=>{e.walletDataChangeCallBack(r,a)})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}createAdapter(){var e=arguments,r=this;return(0,u.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0&&void 0!==e[0]?e[0]:{}).isForce&&r.adapter){t.next=8;break}return t.next=4,D({okxWalletSupportChain:r.okxWalletSupportChain});case 4:r.adapter=t.sent,r.resolveAdapterReady(),r.adapterFlag=!1;case 8:case"end":return t.stop()}}),t)})))()}setOkxWalletSupportChain(e){this.okxWalletSupportChain=e}connect(e){var r=this;try{var t;if((0,d.f)())return;var n=(e||{}).successCallback,s=function(){var e=(0,u.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.adapterFlag=!0,e.next=3,r.createAdapter();case 3:n&&n(t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),c=(0,a.A)((0,a.A)({},e),{},{successCallback:s});null===l.A||void 0===l.A||null===(t=l.A.onchain)||void 0===t||t.getWalletWidget().then((e=>{e&&e.connect(c)}))}catch(o){throw console.error("Error connecting wallet:",o),o}}disconnect(){var e;(0,d.f)()||null===l.A||void 0===l.A||null===(e=l.A.onchain)||void 0===e||e.setWalletLogout()}getWeb3(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.abrupt("return",(0,h.v)(e));case 4:if(!r.adapter){t.next=6;break}return t.abrupt("return",null===(n=(a=r.adapter).getWeb3)||void 0===n?void 0:n.call(a));case 6:case"end":return t.stop()}}),t)})))()}getWalletAdapter(){var e=this;return(0,u.A)((0,i.A)().mark((function r(){return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.adapter){r.next=2;break}throw new Error("No wallet connected");case 2:return r.abrupt("return",e.adapter);case 3:case"end":return r.stop()}}),r)})))()}getAccount(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=r.adapter)||void 0===n?void 0:n.getAccount(e);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0="";case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)})))()}getChainId(){var e=this;return(0,u.A)((0,i.A)().mark((function r(){return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.adapter){r.next=2;break}throw new Error("No wallet connected");case 2:return r.next=4,e.adapter.getChainId();case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}signData(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u,o;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.account,c=e.signData,u=e.nonce,o=(0,n.A)(e,R),r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,r.adapter.signMessage((0,a.A)({message:c,account:s,nonce:u},o));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}signMessage(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.message,c=e.nonce,u=(0,n.A)(e,K),r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,r.adapter.signMessage((0,a.A)({message:s,nonce:c},u));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}signTypedData(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.message,u=(0,n.A)(e,F),r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,null===(s=r.adapter)||void 0===s?void 0:s.signTypedData((0,a.A)({message:c},u));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}sendTransaction(e,r,t,n){var a=this;return(0,u.A)((0,i.A)().mark((function s(){return(0,i.A)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(a.adapter){s.next=2;break}throw new Error("No wallet connected");case 2:return s.next=4,a.adapter.sendTransaction({payload:e,cb:r,extraParams:t,externalProvider:n});case 4:return s.abrupt("return",s.sent);case 5:case"end":return s.stop()}}),s)})))()}switchNetwork(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u,o,p,d,l;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.chain,c=e.chainType,u=e.switchFaildCallback,o=void 0===u?()=>{}:u,p=(0,n.A)(e,V),d=(0,h.uu)(s),r.adapter){t.next=4;break}throw new Error("No wallet connected");case 4:if(t.prev=4,!r.adapter.setChainType){t.next=8;break}return t.next=8,r.adapter.setChainType({chainId:d,chainType:c});case 8:return t.next=10,r.adapter.switchNetwork((0,a.A)({chain:d,chainType:c},p));case 10:return(l=t.sent)||o(s),t.abrupt("return",l);case 15:return t.prev=15,t.t0=t.catch(4),t.t0,o(s),t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,null,[[4,15]])})))()}commAdapterLinkAndNet(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,o,p,d,l,v,A;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.chain,c=e.chainType,o=e.connectOptions,p=e.succCallback,d=e.closeCallback,l=e.switchFaildCallback,v=(0,n.A)(e,G),A=(0,h.uu)(s),t.prev=2,t.abrupt("return",new Promise(function(){var e=(0,u.A)((0,i.A)().mark((function e(t){var n,h;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=()=>{r.connect((0,a.A)((0,a.A)({},o),{},{successCallback:function(){var e=(0,u.A)((0,i.A)().mark((function e(){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p&&p(),e.next=3,r.switchNetwork((0,a.A)((0,a.A)({},v),{},{chain:A,chainType:c,switchFaildCallback:l}));case 3:n=e.sent,t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),closeCallback:d}))},!r.adapter){e.next=19;break}if(!r.adapter.setChainType){e.next=5;break}return e.next=5,r.adapter.setChainType({chainId:A,chainType:c});case 5:return e.next=7,r.isSupportChainType({chainId:A});case 7:if(!e.sent){e.next=15;break}return e.next=11,r.switchNetwork((0,a.A)((0,a.A)({},v),{},{chain:A,chainType:c,switchFaildCallback:l}));case 11:h=e.sent,t(h),e.next=17;break;case 15:l&&l(s),t(!1);case 17:e.next=20;break;case 19:n();case 20:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return t.prev=6,t.t0=t.catch(2),l&&l(A),t.abrupt("return",Promise.resolve(!1));case 10:case"end":return t.stop()}}),t,null,[[2,6]])})))()}checkLinKAndNet(e,r,t){var n=this;return(0,u.A)((0,i.A)().mark((function s(){return(0,i.A)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",n.commAdapterLinkAndNet((0,a.A)({chain:e,switchFaildCallback:r},t)));case 1:case"end":return s.stop()}}),s)})))()}getConnectedConfig(){return(0,u.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.IF)());case 1:case"end":return e.stop()}}),e)})))()}commAdapterChain(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.chain,c=e.switchFaildCallback,u=(0,n.A)(e,H),t.abrupt("return",r.switchNetwork((0,a.A)({chain:s,switchFaildCallback:c},u)));case 2:case"end":return t.stop()}}),t)})))()}commAdaterChain(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.chain,c=e.switchFaildCallback,u=(0,n.A)(e,U),t.abrupt("return",r.switchNetwork((0,a.A)({chain:s,switchFaildCallback:c},u)));case 2:case"end":return t.stop()}}),t)})))()}checkWalletNet(e,r){var t=arguments,n=this;return(0,u.A)((0,i.A)().mark((function s(){var c,u,o;return(0,i.A)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(c=t.length,u=new Array(c>2?c-2:0),o=2;o<c;o++)u[o-2]=t[o];return s.abrupt("return",n.switchNetwork((0,a.A)({chain:e,switchFaildCallback:r},u)));case 2:case"end":return s.stop()}}),s)})))()}getWalletAccount(){var e=arguments,r=this;return(0,u.A)((0,i.A)().mark((function t(){var s,c,u,o;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(s=e.length>0&&void 0!==e[0]?e[0]:{}).isNeedAll,u=s.chainId,o=(0,n.A)(s,X),t.next=3,r.getAccount((0,a.A)({isNeedAll:c,chainId:u},o));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}getProviderData(){return(0,u.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h._v)());case 1:case"end":return e.stop()}}),e)})))()}setChainType(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,s;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.chainType,s=e.chainId,null===(n=r.adapter)||void 0===n||!n.setChainType){t.next=5;break}return t.next=4,r.adapter.setChainType({chainType:a,chainId:s});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}isSupportChainType(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,s,c,u,o,p;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.chainId,s=(0,h.bs)(a),c=!0,t.next=5,(0,h._v)();case 5:if(u=t.sent,o=u.walletType,![f.BS.OKX_WALLET,f.BS.OKX_CONNECT].includes(o)||null===(n=r.adapter)||void 0===n||!n.getAccountByChainId){t.next=14;break}return t.next=10,r.adapter.getAccountByChainId({chainId:a});case 10:p=t.sent,c=!!p,t.next=15;break;case 14:o===f.BS.LEDGER?c=!0:o!==f.BS.NO_WALLET?(f.dg[o]||[]).includes(s)||(c=!1):o===f.BS.NO_WALLET&&(c=!1);case 15:return t.abrupt("return",c);case 16:case"end":return t.stop()}}),t)})))()}getChainTypeByChainId(e){var r=v.hD.EVM;return Object.keys(v.P0).forEach((t=>{v.P0[t].includes(e)&&(r=Number(t))})),r}getAllChainTypeInfoList(){var e=this;return(0,u.A)((0,i.A)().mark((function r(){var t,n;return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(null===(t=e.adapter)||void 0===t||null===(n=t.getAllChainTypeInfoList)||void 0===n?void 0:n.call(t))||[]);case 1:case"end":return r.stop()}}),r)})))()}getWalletType(){return(0,u.A)((0,i.A)().mark((function e(){var r,t;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h._v)();case 2:return r=e.sent,t=r.walletType,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}commApproved(e,r,t,n,a,s,c){var o=this;return(0,u.A)((0,i.A)().mark((function u(){return(0,i.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",o.commApproveToken({abi:e,addr:r,operatorAddr:t,amount:n,cb:a,maxFeePerGas:s,maxPriorityFeePerGas:c}));case 1:case"end":return i.stop()}}),u)})))()}commApproveToken(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,s,c,u,o,d,l,h,v,A,f;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.abi,a=e.addr,s=e.operatorAddr,c=e.amount,u=e.cb,o=e.maxFeePerGas,d=e.maxPriorityFeePerGas,l=e.extParams,h=n||p(),t.next=4,r.getAccount();case 4:return v=t.sent,t.next=7,r.getWeb3();case 7:return A=t.sent,t.next=10,B({abi:h,addr:a,ownerAddr:v,operatorAddr:s,amount:c,web3:A});case 10:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:return t.next=15,r.approvedToken({abi:h,addr:a,operatorAddr:s,cb:u,maxFeePerGas:o,maxPriorityFeePerGas:d,extParams:l});case 15:return f=t.sent,t.abrupt("return",f);case 18:case"end":return t.stop()}}),t)})))()}approvedToken(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,s,c,u,o,d,l,h,v,f,x,w;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.abi,s=e.addr,c=e.operatorAddr,u=e.cb,o=e.maxFeePerGas,d=e.maxPriorityFeePerGas,l=e.extParams,t.prev=1,h=n||p(),t.next=5,r.getWeb3();case 5:return v=t.sent,f=new v.eth.Contract(h,s),t.next=9,r.getAccount();case 9:return x=t.sent,w={from:x,to:s,data:f.methods.approve(c,A.JA).encodeABI(),extParams:(0,a.A)((0,a.A)({},l),{},{canSupplyGas:!0})},o&&d&&(w.maxFeePerGas=o,w.maxPriorityFeePerGas=d),t.next=14,r.sendTransaction(w,u);case 14:return"Approved Token success to ".concat(c),t.abrupt("return",!0);case 18:return t.prev=18,t.t0=t.catch(1),t.t0,t.abrupt("return",!1);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})))()}isApproved(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,s,c,u,o,d,l;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.abi,a=e.addr,s=e.ownerAddr,c=e.operatorAddr,u=e.amount,o=n||p(),t.next=4,r.getWeb3();case 4:return d=t.sent,t.next=7,B({abi:o,addr:a,ownerAddr:s,operatorAddr:c,amount:u,web3:d});case 7:return l=t.sent,t.abrupt("return",!!l);case 9:case"end":return t.stop()}}),t)})))()}getContract(e,r){var t=this;return(0,u.A)((0,i.A)().mark((function n(){var a;return(0,i.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getWeb3();case 2:return a=n.sent,n.abrupt("return",new a.eth.Contract(e,r));case 4:case"end":return n.stop()}}),n)})))()}getDecimals(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getWeb3();case 2:return n=t.sent,t.abrupt("return",M({addr:e,web3:n}));case 4:case"end":return t.stop()}}),t)})))()}getEthBalance(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getWeb3();case 2:return n=t.sent,t.abrupt("return",new Promise((r=>{n.eth.getBalance(e,((e,t)=>{var a=n.utils.fromWei(t,"ether");r(a)}))})));case 4:case"end":return t.stop()}}),t)})))()}getWalletProvider(){return(0,u.A)((0,i.A)().mark((function e(){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.gq)());case 1:case"end":return e.stop()}}),e)})))()}setSupportWalletOptions(e){return(0,u.A)((0,i.A)().mark((function r(){var t;return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:l.A.onchain&&(t=l.A.onchain.supportWalletOptions,l.A.onchain.supportWalletOptions=(0,a.A)((0,a.A)({},t),e));case 1:case"end":return r.stop()}}),r)})))()}getDeposit(e){return(0,u.A)((0,i.A)().mark((function r(){var t,s,c,u,o,p,d,h,v,A,f,x;return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=e.currency,o=e.network,p=e.address,d=e.prefix,h=e.contract,v=e.onClose,A=(0,n.A)(e,q),r.next=3,null===l.A||void 0===l.A||null===(t=l.A.onchain)||void 0===t||null===(s=t.getWalletWidget)||void 0===s?void 0:s.call(t);case 3:return f=r.sent,r.next=6,null===f||void 0===f||null===(c=f.getDeposit)||void 0===c?void 0:c.call(f);case 6:null===(x=r.sent)||void 0===x||x.V1((0,a.A)({currency:u,network:o,address:p,prefix:d,contract:h,onClose:v},A));case 8:case"end":return r.stop()}}),r)})))()}getWalletStorage(){return(0,u.A)((0,i.A)().mark((function e(){var r,t,n,a;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l.A||void 0===l.A||null===(r=l.A.onchain)||void 0===r||null===(t=r.getWalletWidget)||void 0===t?void 0:t.call(r);case 2:return n=e.sent,e.next=5,null===n||void 0===n?void 0:n.getWalletStorage();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()}getWalletWidget(){return(0,u.A)((0,i.A)().mark((function e(){var r,t,n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l.A||void 0===l.A||null===(r=l.A.onchain)||void 0===r||null===(t=r.getWalletWidget)||void 0===t?void 0:t.call(r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()}okxAppSendCustomTransaction(e,r){var t=this;return(0,u.A)((0,i.A)().mark((function n(){var a,s;return(0,i.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.adapter){n.next=2;break}throw new Error("No wallet connected");case 2:return n.next=4,null===(a=(s=t.adapter).sendCustomTransaction)||void 0===a?void 0:a.call(s,e,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}okxAppCancelApprove(e){var r=this;return(0,u.A)((0,i.A)().mark((function t(){var n,a,s,c,u,o,p;return(0,i.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.abi,c=e.addr,u=e.operatorAddr,o=e.cb,p=e.options,r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,null===(n=(a=r.adapter).okxAppCancelApprove)||void 0===n?void 0:n.call(a,{abi:s,addr:c,operatorAddr:u,cb:o,options:p});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}isBtcAddress(e){var r=((e,r)=>{try{var t=E(e);return!r||r===t.network}catch(n){return!1}})(e);return r}checkSolanaAccountRentExemption(e){var r=e.accountAddress;return(0,N.q)({accountAddress:r})}};const J=new Proxy(z,{get(e,r,t){var n=Reflect.get(e,r,t);return["getChainTypeByChainId","Web3","onWalletChange","offWalletChange","onDashboardChange","offDashboardChange","setOkxWalletSupportChain","setSupportWalletOptions","connect","disconnect","getWalletStorage","createAdapter","isBtcAddress","checkSolanaAccountRentExemption"].includes(r)?n:"function"===typeof n?(0,u.A)((0,i.A)().mark((function r(){var t,a,s,c=arguments;return(0,i.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.initPromise;case 2:if(!(0,h.Bz)()){r.next=6;break}return r.next=6,j(2e3,e.adapterReadyPromise);case 6:for(t=c.length,a=new Array(t),s=0;s<t;s++)a[s]=c[s];return r.abrupt("return",n.apply(e,a));case 8:case"end":return r.stop()}}),r)}))):n}})},99801:(e,r,t)=>{t.d(r,{DG:()=>u,Qr:()=>i});var n=t(90675),a=t(10467),s=t(54670),c=t(7580),i=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.A.get("".concat(s.A.CHAIN_INFO,"?chainId=").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.A.getWithCache("".concat(s.A.GET_BATCH_REAL_CHAINID,"?chainId=").concat(r||""),{cacheSeconds:300});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},20450:(e,r,t)=>{t.d(r,{B2:()=>l,GO:()=>p,W:()=>h,j9:()=>o,rG:()=>v,rS:()=>d});var n=t(90675),a=t(10467),s=t(5544),c=t(24765),i=t(84854),u=t(99801),o=e=>{var r=e.subscriptionId,t=e.callbacks,n=e.callback;return t.set(n,r),r},p=e=>{var r,t=e.subscriptionId,n=e.callbacks,a=(0,c.A)(n.entries());try{for(a.s();!(r=a.n()).done;){var i=(0,s.A)(r.value,2),u=i[0];if(i[1]===t){n.delete(u);break}}}catch(o){a.e(o)}finally{a.f()}},d=(e,r)=>e.replace(/\$\{([^}]+)\}/g,((e,t)=>{var n=r[t];return void 0!==n?n:e})),l=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.DG)();case 2:return t=e.sent,a=t.data.data,e.abrupt("return",a[r]||r);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var t,a,s;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.DG)();case 2:return t=e.sent,a=t.data.data,Object.keys(a).forEach((e=>a[e]==r&&(s=e,!0))),e.abrupt("return",s?parseInt(s):r);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=e=>{var r=i.A.cdnBaseUrl;return e&&"".concat(r).concat(e)}},7580:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(89379),a=t(47185),s=t.n(a);function c(e){var r=(e||{}).data;return r&&0===Number(r.code)?Promise.resolve(r):Promise.reject(r)}function i(e){var r=(e||{}).data;return r?Promise.resolve(r):Promise.reject(r)}var u=(0,n.A)({},s());u.get=(e,r)=>s().get(e,r).then(c),u.getNormal=(e,r)=>s().get(e,r).then(i),u.post=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s().post(e,r,t).then(c)};const o=u},72456:(e,r,t)=>{t.d(r,{P:()=>c});var n=t(34903),a=t(40410);class s extends Error{constructor(e){var r=e.code,t=e.message,n=e.data;super(t),this.code=r,this.data=n,this.name=this.constructor.name}}var c=e=>{var r,t=(0,n.Bz)(),c=e||{},i=c.code,u=c.message;switch(t){case a.BS.WALLET_CONNECT:[5e3,5001,5002].includes(i)&&(r=new s({code:4001,message:u}));break;case a.BS.OKX_WALLET||a.BS.OKX_CONNECT:[300].includes(i)&&(r={code:4001,message:u})}return r||e}},70635:(e,r,t)=>{t.d(r,{p:()=>i,q:()=>u});var n=t(90675),a=t(10467),s=t(58790),c=t(54670),i=e=>{var r=e.SolanaConnection,t=e.chainId,n=void 0===t?s.M4.SOLANA:t,a={[s.M4.SOLANA]:c.A.OKX_CHAIN_RPC,[s.M4.SONIC_DEV]:c.A.SONIC_DEV_RPC,[s.M4.SOON]:c.A.SOON_RPC},i=window.location.origin;return new r("".concat(i).concat(a[n]))},u=function(){var e=(0,a.A)((0,n.A)().mark((function e(r){var a,s,c,u,o,p,d,l;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.accountAddress,e.next=3,Promise.resolve().then(t.bind(t,67300));case 3:return c=e.sent,u=c.Connection,o=c.PublicKey,p=i({SolanaConnection:u}),e.next=9,p.getAccountInfo(new o(s));case 9:return d=e.sent,e.next=12,p.getMinimumBalanceForRentExemption(null===d||void 0===d||null===(a=d.data)||void 0===a?void 0:a.length);case 12:return l=e.sent,e.abrupt("return",d.lamports>=l);case 14:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},78842:(e,r,t)=>{function n(e){return e.then((e=>[null,e.data])).catch((e=>[e]))}t.d(r,{A:()=>n})},7942:(e,r,t)=>{t.d(r,{k:()=>c});var n=t(75681),a=t(20746).Buffer;function s(e){return(e||"").normalize("NFKD")}var c=(e,r)=>{var t=a.from(s(e),"utf8"),c=a.from(function(e){return"mnemonic".concat(e||"")}(s(r)),"utf8");return n.pbkdf2Sync(t,c,2048,64,"sha512")}}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okexchain/universe-swap/vendor-okd~blade-f3dfd894/index.bd2feb17.js.map